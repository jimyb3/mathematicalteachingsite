(function(c){var d=/^\s*|\s*$/g,e,b="B".replace(/A(.)|B/,"$1")==="$1";var a={majorVersion:"3",minorVersion:"5.11",releaseDate:"2014-05-08",_init:function(){var m=this,k=document,j=navigator,q=j.userAgent,i,o,h,g,f,l;m.isIE11=q.indexOf("Trident/")!=-1&&(q.indexOf("rv:")!=-1||j.appName.indexOf("Netscape")!=-1);m.isOpera=c.opera&&opera.buildNumber;m.isWebKit=/WebKit/.test(q);m.isIE=!m.isWebKit&&!m.isOpera&&(/MSIE/gi).test(q)&&(/Explorer/gi).test(j.appName)||m.isIE11;m.isIE6=m.isIE&&/MSIE [56]/.test(q);m.isIE7=m.isIE&&/MSIE [7]/.test(q);m.isIE8=m.isIE&&/MSIE [8]/.test(q);m.isIE9=m.isIE&&/MSIE [9]/.test(q);m.isGecko=!m.isWebKit&&!m.isIE11&&/Gecko/.test(q);m.isMac=q.indexOf("Mac")!=-1;m.isAir=/adobeair/i.test(q);m.isIDevice=/(iPad|iPhone)/.test(q);m.isIOS5=m.isIDevice&&q.match(/AppleWebKit\/(\d*)/)[1]>=534;if(c.tinyMCEPreInit){m.suffix=tinyMCEPreInit.suffix;m.baseURL=tinyMCEPreInit.base;m.query=tinyMCEPreInit.query;return}m.suffix="";o=k.getElementsByTagName("base");for(i=0;i<o.length;i++){l=o[i].href;if(l){if(/^https?:\/\/[^\/]+$/.test(l)){l+="/"}g=l?l.match(/.*\//)[0]:""}}function r(n){if(n.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(n.src)){if(/_(src|dev)\.js/g.test(n.src)){m.suffix="_src"}if((f=n.src.indexOf("?"))!=-1){m.query=n.src.substring(f+1)}m.baseURL=n.src.substring(0,n.src.lastIndexOf("/"));if(g&&m.baseURL.indexOf("://")==-1&&m.baseURL.indexOf("/")!==0){m.baseURL=g+m.baseURL}return m.baseURL}return null}o=k.getElementsByTagName("script");for(i=0;i<o.length;i++){if(r(o[i])){return}}h=k.getElementsByTagName("head")[0];if(h){o=h.getElementsByTagName("script");for(i=0;i<o.length;i++){if(r(o[i])){return}}}return},is:function(g,f){if(!f){return g!==e}if(f=="array"&&a.isArray(g)){return true}return typeof(g)==f},isArray:Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"},makeMap:function(h,g,f){var i;h=h||[];g=g||",";if(typeof(h)=="string"){h=h.split(g)}f=f||{};i=h.length;while(i--){f[h[i]]={}}return f},each:function(f,h,j){var g,i;if(!f){return 0}j=j||f;if(f.length!==e){for(g=0,i=f.length;g<i;g++){if(h.call(j,f[g],g,f)===false){return 0}}}else{for(g in f){if(f.hasOwnProperty(g)){if(h.call(j,f[g],g,f)===false){return 0}}}}return 1},map:function(h,f){var g=[];a.each(h,function(i){g.push(f(i))});return g},grep:function(h,f){var g=[];a.each(h,function(i){if(!f||f(i)){g.push(i)}});return g},inArray:function(i,f){var g,h;if(i){for(g=0,h=i.length;g<h;g++){if(i[g]===f){return g}}}return -1},extend:function(k,f){var m,h,j,i=arguments,g;for(m=1,h=i.length;m<h;m++){f=i[m];for(j in f){if(f.hasOwnProperty(j)){g=f[j];if(g!==e){k[j]=g}}}}return k},trim:function(f){return(f?""+f:"").replace(d,"")},create:function(m,n,h){var l=this,o,g,i,j,f,k=0;m=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(m);i=m[3].match(/(^|\.)(\w+)$/i)[2];g=l.createNS(m[3].replace(/\.\w+$/,""),h);if(g[i]){return}if(m[2]=="static"){g[i]=n;if(this.onCreate){this.onCreate(m[2],m[3],g[i])}return}if(!n[i]){n[i]=function(){};k=1}g[i]=n[i];l.extend(g[i].prototype,n);if(m[5]){o=l.resolve(m[5]).prototype;j=m[5].match(/\.(\w+)$/i)[1];f=g[i];if(k){g[i]=function(){return o[j].apply(this,arguments)}}else{g[i]=function(){this.parent=o[j];return f.apply(this,arguments)}}g[i].prototype[i]=g[i];l.each(o,function(p,q){g[i].prototype[q]=o[q]});l.each(n,function(p,q){if(o[q]){g[i].prototype[q]=function(){this.parent=o[q];return p.apply(this,arguments)}}else{if(q!=i){g[i].prototype[q]=p}}})}l.each(n["static"],function(p,q){g[i][q]=p});if(this.onCreate){this.onCreate(m[2],m[3],g[i].prototype)}},walk:function(f,i,g,h){h=h||this;if(f){if(g){f=f[g]}a.each(f,function(k,j){if(i.call(h,k,j,g)===false){return false}a.walk(k,i,g,h)})}},createNS:function(g,f){var i,h;f=f||c;g=g.split(".");for(i=0;i<g.length;i++){h=g[i];if(!f[h]){f[h]={}}f=f[h]}return f},resolve:function(g,f){var i,h;f=f||c;g=g.split(".");for(i=0,h=g.length;i<h;i++){f=f[g[i]];if(!f){break}}return f},addUnload:function(f,j){var i=this,h;h=function(){var m=i.unloads,p,l;if(m){for(l in m){p=m[l];if(p&&p.func){p.func.call(p.scope,1)}}if(c.detachEvent){c.detachEvent("onbeforeunload",g);c.detachEvent("onunload",h)}else{if(c.removeEventListener){c.removeEventListener("unload",h,false)}}i.unloads=p=m=w=h=0;if(c.CollectGarbage){CollectGarbage()}}};function g(){var n=document;function l(){n.detachEvent("onstop",l);if(h){h()}n=0}if(n.readyState=="interactive"){if(n){n.attachEvent("onstop",l)}c.setTimeout(function(){if(n){n.detachEvent("onstop",l)}},0)}}f={func:f,scope:j||this};if(!i.unloads){if(c.attachEvent){c.attachEvent("onunload",h);c.attachEvent("onbeforeunload",g)}else{if(c.addEventListener){c.addEventListener("unload",h,false)}}i.unloads=[f]}else{i.unloads.push(f)}return f},removeUnload:function(g){var h=this.unloads,f=null;a.each(h,function(j,i){if(j&&j.func==g){h.splice(i,1);f=g;return false}});return f},explode:function(f,g){if(!f||a.is(f,"array")){return f}return a.map(f.split(g||","),a.trim)},_addVer:function(g){var f;if(!this.query){return g}f=(g.indexOf("?")==-1?"?":"&")+this.query;if(g.indexOf("#")==-1){return g+f}return g.replace("#",f+"#")},_replace:function(g,h,f){if(b){return f.replace(g,function(){var k=h,i=arguments,j;for(j=0;j<i.length-2;j++){if(i[j]===e){k=k.replace(new RegExp("\\$"+j,"g"),"")}else{k=k.replace(new RegExp("\\$"+j,"g"),i[j])}}return k})}return f.replace(g,h)}};a._init();c.tinymce=c.tinyMCE=a})(window);tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,inDispatch:false,Dispatcher:function(a){this.scope=a||this;this.listeners=[]},add:function(b,a){this.listeners.push({cb:b,scope:a||this.scope});return b},addToTop:function(b,d){var c=this,a={cb:b,scope:d||c.scope};if(c.inDispatch){c.listeners=[a].concat(c.listeners)}else{c.listeners.unshift(a)}return b},remove:function(a){var c=this.listeners,b=null;tinymce.each(c,function(e,d){if(a==e.cb){b=e;c.splice(d,1);return false}});return b},dispatch:function(){var e=this,c,f=arguments,a,b=e.listeners,d;e.inDispatch=true;for(a=0;a<b.length;a++){d=b[a];c=d.cb.apply(d.scope,f.length>0?f:[d.scope]);if(c===false){break}}e.inDispatch=false;return c}});(function(){var a=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(b,e){var d=this,c,h,g,f;b=tinymce.trim(b);e=d.settings=e||{};if(/^([\w\-]+):([^\/]{2})/i.test(b)||/^\s*#/.test(b)){d.source=b;return}if(b.indexOf("/")===0&&b.indexOf("//")!==0){b=(e.base_uri?e.base_uri.protocol||"http":"http")+"://mce_host"+b}if(!/^[\w\-]*:?\/\//.test(b)){f=e.base_uri?e.base_uri.path:new tinymce.util.URI(location.href).directory;b=((e.base_uri&&e.base_uri.protocol)||"http")+"://mce_host"+d.toAbsPath(f,b)}b=b.replace(/@@/g,"(mce_at)");b=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(b);a(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(k,i){var j=b[i];if(j){j=j.replace(/\(mce_at\)/g,"@@")}d[k]=j});g=e.base_uri;if(g){if(!d.protocol){d.protocol=g.protocol}if(!d.userInfo){d.userInfo=g.userInfo}if(!d.port&&d.host==="mce_host"){d.port=g.port}if(!d.host||d.host==="mce_host"){d.host=g.host}d.source=""}},setPath:function(c){var b=this;c=/^(.*?)\/?(\w+)?$/.exec(c);b.path=c[0];b.directory=c[1];b.file=c[2];b.source="";b.getURI()},toRelative:function(b){var d=this,f;if(b==="./"){return b}b=new tinymce.util.URI(b,{base_uri:d});if((b.host!="mce_host"&&d.host!=b.host&&b.host)||d.port!=b.port||d.protocol!=b.protocol){return b.getURI()}var c=d.getURI(),e=b.getURI();if(c==e||(c.charAt(c.length-1)=="/"&&c.substr(0,c.length-1)==e)){return c}f=d.toRelPath(d.path,b.path);if(b.query){f+="?"+b.query}if(b.anchor){f+="#"+b.anchor}return f},toAbsolute:function(b,c){b=new tinymce.util.URI(b,{base_uri:this});return b.getURI(this.host==b.host&&this.protocol==b.protocol?c:0)},toRelPath:function(f,g){var h,e=0,b="",d,c;f=f.substring(0,f.lastIndexOf("/"));f=f.split("/");h=g.split("/");if(f.length>=h.length){for(d=0,c=f.length;d<c;d++){if(d>=h.length||f[d]!=h[d]){e=d+1;break}}}if(f.length<h.length){for(d=0,c=h.length;d<c;d++){if(d>=f.length||f[d]!=h[d]){e=d+1;break}}}if(e===1){return g}for(d=0,c=f.length-(e-1);d<c;d++){b+="../"}for(d=e-1,c=h.length;d<c;d++){if(d!=e-1){b+="/"+h[d]}else{b+=h[d]}}return b},toAbsPath:function(d,e){var h,c=0,g=[],b,f;b=/\/$/.test(e)?"/":"";d=d.split("/");e=e.split("/");a(d,function(i){if(i){g.push(i)}});d=g;for(h=e.length-1,g=[];h>=0;h--){if(e[h].length===0||e[h]==="."){continue}if(e[h]===".."){c++;continue}if(c>0){c--;continue}g.push(e[h])}h=d.length-c;if(h<=0){f=g.reverse().join("/")}else{f=d.slice(0,h).join("/")+"/"+g.reverse().join("/")}if(f.indexOf("/")!==0){f="/"+f}if(b&&f.lastIndexOf("/")!==f.length-1){f+=b}return f},getURI:function(d){var c,b=this;if(!b.source||d){c="";if(!d){if(b.protocol){c+=b.protocol+"://"}if(b.userInfo){c+=b.userInfo+"@"}if(b.host){c+=b.host}if(b.port){c+=":"+b.port}}if(b.path){c+=b.path}if(b.query){c+="?"+b.query}if(b.anchor){c+="#"+b.anchor}b.source=c}return b.source}})})();(function(){var a=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(d){var b=this.get(d),c;if(b){a(b.split("&"),function(e){e=e.split("=");c=c||{};c[unescape(e[0])]=unescape(e[1])})}return c},setHash:function(i,f,c,b,h,j){var g="";a(f,function(e,d){g+=(!g?"":"&")+escape(d)+"="+escape(e)});this.set(i,g,c,b,h,j)},get:function(b){var h=document.cookie,g,f=b+"=",d;if(!h){return}d=h.indexOf("; "+f);if(d==-1){d=h.indexOf(f);if(d!==0){return null}}else{d+=2}g=h.indexOf(";",d);if(g==-1){g=h.length}return unescape(h.substring(d+f.length,g))},set:function(i,c,g,f,h,b){document.cookie=i+"="+escape(c)+((g)?"; expires="+g.toGMTString():"")+((f)?"; path="+escape(f):"")+((h)?"; domain="+h:"")+((b)?"; secure":"")},remove:function(c,e,d){var b=new Date();b.setTime(b.getTime()-1000);this.set(c,"",b,e,d)}})})();(function(){function serialize(o,quote){var i,v,t,name;quote=quote||'"';if(o==null){return"null"}t=typeof o;if(t=="string"){v="\bb\tt\nn\ff\rr\"\"''\\\\";return quote+o.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(a,b){if(quote==='"'&&a==="'"){return a}i=v.indexOf(b);if(i+1){return"\\"+v.charAt(i+1)}a=b.charCodeAt().toString(16);return"\\u"+"0000".substring(a.length)+a})+quote}if(t=="object"){if(o.hasOwnProperty&&Object.prototype.toString.call(o)==="[object Array]"){for(i=0,v="[";i<o.length;i++){v+=(i>0?",":"")+serialize(o[i],quote)}return v+"]"}v="{";for(name in o){if(o.hasOwnProperty(name)){v+=typeof o[name]!="function"?(v.length>1?","+quote:quote)+name+quote+":"+serialize(o[name],quote):""}}return v+"}"}return""+o}tinymce.util.JSON={serialize:serialize,parse:function(s){try{return eval("("+s+")")}catch(ex){}}}})();tinymce.create("static tinymce.util.XHR",{send:function(d){var f,a,h=window,e=0;function b(){if(!d.async||f.readyState==4||e++>10000){if(d.success&&e<10000&&f.status==200){d.success.call(d.success_scope,""+f.responseText,f,d)}else{if(d.error){d.error.call(d.error_scope,e>10000?"TIMED_OUT":"GENERAL",f,d)}}f=null}else{h.setTimeout(b,10)}}d.scope=d.scope||this;d.success_scope=d.success_scope||d.scope;d.error_scope=d.error_scope||d.scope;d.async=d.async===false?false:true;d.data=d.data||"";function g(i){f=0;try{f=new ActiveXObject(i)}catch(c){}return f}f=h.XMLHttpRequest?new XMLHttpRequest():g("Microsoft.XMLHTTP")||g("Msxml2.XMLHTTP");if(f){if(f.overrideMimeType){f.overrideMimeType(d.content_type)}f.open(d.type||(d.data?"POST":"GET"),d.url,d.async);if(d.content_type){f.setRequestHeader("Content-Type",d.content_type)}f.setRequestHeader("X-Requested-With","XMLHttpRequest");f.send(d.data);if(!d.async){return b()}a=h.setTimeout(b,10)}}});(function(){var a=tinymce.extend,c=tinymce.util.JSON,b=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(d){this.settings=a({},d);this.count=0},send:function(e){var d=e.error,f=e.success;e=a(this.settings,e);e.success=function(h,g){h=c.parse(h);if(typeof(h)=="undefined"){h={error:"JSON Parse error."}}if(h.error){d.call(e.error_scope||e.scope,h.error,g)}else{f.call(e.success_scope||e.scope,h.result)}};e.error=function(h,g){if(d){d.call(e.error_scope||e.scope,h,g)}};e.data=c.serialize({id:e.id||"c"+(this.count++),method:e.method,params:e.params});e.content_type="application/json";b.send(e)},"static":{sendRPC:function(d){return new tinymce.util.JSONRequest().send(d)}}})}());(function(a){a.VK={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(b){return b.shiftKey||b.ctrlKey||b.altKey},metaKeyPressed:function(b){return a.isMac?b.metaKey:b.ctrlKey&&!b.altKey}}})(tinymce);tinymce.util.Quirks=function(b){var u=tinymce.VK,l=u.BACKSPACE,z=u.DELETE,k=b.dom,B=b.selection,r=b.settings,L=b.parser,E=b.serializer,m=tinymce.each;function e(O,N){try{b.getDoc().execCommand(O,false,N)}catch(P){}}function D(){var N=b.getDoc().documentMode;return N?N:6}function c(N){return N.isDefaultPrevented()}function v(){function N(T){var P,R,O,U,Q,S,V;function W(){if(Q.nodeType==3){if(T&&S==Q.length){return true}if(!T&&S===0){return true}}}P=B.getRng();var X=[P.startContainer,P.startOffset,P.endContainer,P.endOffset];if(!P.collapsed){T=true}Q=P[(T?"start":"end")+"Container"];S=P[(T?"start":"end")+"Offset"];if(Q.nodeType==3){R=k.getParent(P.startContainer,k.isBlock);if(T){R=k.getNext(R,k.isBlock)}if(R&&(W()||!P.collapsed)){O=k.create("em",{id:"__mceDel"});m(tinymce.grep(R.childNodes),function(Y){O.appendChild(Y)});R.appendChild(O)}}P=k.createRng();P.setStart(X[0],X[1]);P.setEnd(X[2],X[3]);B.setRng(P);b.getDoc().execCommand(T?"ForwardDelete":"Delete",false,null);if(O){U=B.getBookmark();while(V=k.get("__mceDel")){k.remove(V,true)}B.moveToBookmark(U)}}b.onKeyDown.add(function(P,O){var Q;Q=O.keyCode==z;if(!c(O)&&(Q||O.keyCode==l)&&!u.modifierPressed(O)){O.preventDefault();N(Q)}});b.addCommand("Delete",function(){N()})}function G(){function N(Q){var P=k.create("body");var R=Q.cloneContents();P.appendChild(R);return B.serializer.serialize(P,{format:"html"})}function O(P){var R=N(P);var S=k.createRng();S.selectNode(b.getBody());var Q=N(S);return R===Q}b.onKeyDown.add(function(Q,S){var R=S.keyCode,P;if(!c(S)&&(R==z||R==l)){P=Q.selection.isCollapsed();if(P&&!k.isEmpty(Q.getBody())){return}if(tinymce.isIE&&!P){return}if(!P&&!O(Q.selection.getRng())){return}Q.setContent("");Q.selection.setCursorLocation(Q.getBody(),0);Q.nodeChanged()}})}function t(){b.onKeyDown.add(function(N,O){if(!c(O)&&O.keyCode==65&&u.metaKeyPressed(O)){O.preventDefault();N.execCommand("SelectAll")}})}function y(){if(!b.settings.content_editable){k.bind(b.getDoc(),"focusin",function(N){B.setRng(B.getRng())});k.bind(b.getDoc(),"mousedown",function(N){if(N.target==b.getDoc().documentElement){b.getWin().focus();B.setRng(B.getRng())}})}}function g(){b.onKeyDown.add(function(P,O){if(!c(O)&&O.keyCode===l){if(B.isCollapsed()&&B.getRng(true).startOffset===0){var N=B.getNode();var Q=N.previousSibling;if(Q&&Q.nodeName&&Q.nodeName.toLowerCase()==="hr"){k.remove(Q);tinymce.dom.Event.cancel(O)}}}})}function a(){if(!Range.prototype.getClientRects){b.onMouseDown.add(function(N,O){if(!c(O)&&O.target.nodeName==="HTML"){var P=N.getBody();P.blur();setTimeout(function(){P.focus()},0)}})}}function q(){b.onClick.add(function(N,O){O=O.target;if(/^(IMG|HR)$/.test(O.nodeName)){B.getSel().setBaseAndExtent(O,0,O,1)}if(O.nodeName=="A"&&k.hasClass(O,"mceItemAnchor")){B.select(O)}N.nodeChanged()})}function f(){function N(){var Q=k.getAttribs(B.getStart().cloneNode(false));return function(){var R=B.getStart();if(R!==b.getBody()){k.setAttrib(R,"style",null);m(Q,function(S){R.setAttributeNode(S.cloneNode(true))})}}}function P(){return !B.isCollapsed()&&k.getParent(B.getStart(),k.isBlock)!=k.getParent(B.getEnd(),k.isBlock)}function O(Q,R){R.preventDefault();return false}b.onKeyPress.add(function(Q,S){var R;if(!c(S)&&(S.keyCode==8||S.keyCode==46)&&P()){R=N();Q.getDoc().execCommand("delete",false,null);R();S.preventDefault();return false}});k.bind(b.getDoc(),"cut",function(R){var Q;if(!c(R)&&P()){Q=N();b.onKeyUp.addToTop(O);setTimeout(function(){Q();b.onKeyUp.remove(O)},0)}})}function d(){var O,N;k.bind(b.getDoc(),"selectionchange",function(){if(N){clearTimeout(N);N=0}N=window.setTimeout(function(){var P=B.getRng();if(!O||!tinymce.dom.RangeUtils.compareRanges(P,O)){b.nodeChanged();O=P}},50)})}function M(){document.body.setAttribute("role","application")}function J(){b.onKeyDown.add(function(P,O){if(!c(O)&&O.keyCode===l){if(B.isCollapsed()&&B.getRng(true).startOffset===0){var N=B.getNode().previousSibling;if(N&&N.nodeName&&N.nodeName.toLowerCase()==="table"){return tinymce.dom.Event.cancel(O)}}}})}function i(){if(D()>7){return}e("RespectVisibilityInDesign",true);b.contentStyles.push(".mceHideBrInPre pre br {display: none}");k.addClass(b.getBody(),"mceHideBrInPre");L.addNodeFilter("pre",function(P,R){var S=P.length,N,Q,O,T;while(S--){N=P[S].getAll("br");Q=N.length;while(Q--){O=N[Q];T=O.prev;if(T&&T.type===3&&T.value.charAt(T.value-1)!="\n"){T.value+="\n"}else{O.parent.insert(new tinymce.html.Node("#text",3),O,true).value="\n"}}}});E.addNodeFilter("pre",function(P,R){var S=P.length,N,Q,O,T;while(S--){N=P[S].getAll("br");Q=N.length;while(Q--){O=N[Q];T=O.prev;if(T&&T.type==3){T.value=T.value.replace(/\r?\n$/,"")}}}})}function n(){k.bind(b.getBody(),"mouseup",function(O){var N,P=B.getNode();if(P.nodeName=="IMG"){if(N=k.getStyle(P,"width")){k.setAttrib(P,"width",N.replace(/[^0-9%]+/g,""));k.setStyle(P,"width","")}if(N=k.getStyle(P,"height")){k.setAttrib(P,"height",N.replace(/[^0-9%]+/g,""));k.setStyle(P,"height","")}}})}function h(){b.onKeyDown.add(function(T,U){var S,N,O,Q,R,V,P;S=U.keyCode==z;if(!c(U)&&(S||U.keyCode==l)&&!u.modifierPressed(U)){N=B.getRng();O=N.startContainer;Q=N.startOffset;P=N.collapsed;if(O.nodeType==3&&O.nodeValue.length>0&&((Q===0&&!P)||(P&&Q===(S?0:1)))){V=O.previousSibling;if(V&&V.nodeName=="IMG"){return}nonEmptyElements=T.schema.getNonEmptyElements();U.preventDefault();R=k.create("br",{id:"__tmp"});O.parentNode.insertBefore(R,O);T.getDoc().execCommand(S?"ForwardDelete":"Delete",false,null);O=B.getRng().startContainer;V=O.previousSibling;if(V&&V.nodeType==1&&!k.isBlock(V)&&k.isEmpty(V)&&!nonEmptyElements[V.nodeName.toLowerCase()]){k.remove(V)}k.remove("__tmp")}}})}function p(){b.onKeyDown.add(function(T,N){var R,Q,O,P,S;if(c(N)||N.keyCode!=u.BACKSPACE){return}R=B.getRng();Q=R.startContainer;O=R.startOffset;P=k.getRoot();S=Q;if(!R.collapsed||O!==0){return}while(S&&S.parentNode&&S.parentNode.firstChild==S&&S.parentNode!=P){S=S.parentNode}if(S.tagName==="BLOCKQUOTE"){T.formatter.toggle("blockquote",null,S);R=k.createRng();R.setStart(Q,0);R.setEnd(Q,0);B.setRng(R)}})}function o(){function N(){b._refreshContentEditable();e("StyleWithCSS",false);e("enableInlineTableEditing",false);if(!r.object_resizing){e("enableObjectResizing",false)}}if(!r.readonly){b.onBeforeExecCommand.add(N);b.onMouseDown.add(N)}}function I(){function N(P,O){m(k.select("a"),function(S){var Q=S.parentNode,R=k.getRoot();if(Q.lastChild===S){while(Q&&!k.isBlock(Q)){if(Q.parentNode.lastChild!==Q||Q===R){return}Q=Q.parentNode}k.add(Q,"br",{"data-mce-bogus":1})}})}b.onExecCommand.add(function(P,O){if(O==="CreateLink"){N(P)}});b.onSetContent.add(B.onSetContent.add(N))}function C(){if(r.forced_root_block){b.onInit.add(function(){e("DefaultParagraphSeparator",r.forced_root_block)})}}function F(){function N(O,P){if(!O||!P.initial){b.execCommand("mceRepaint")}}b.onUndo.add(N);b.onRedo.add(N);b.onSetContent.add(N)}function s(){b.onKeyDown.add(function(N,O){var P;if(!c(O)&&O.keyCode==l){P=N.getDoc().selection.createRange();if(P&&P.item){O.preventDefault();N.undoManager.beforeChange();k.remove(P.item(0));N.undoManager.add()}}})}function H(){var N;if(D()>=10){N="";m("p div h1 h2 h3 h4 h5 h6".split(" "),function(P,O){N+=(O>0?",":"")+P+":empty"});b.contentStyles.push(N+"{padding-right: 1px !important}")}}function K(){var W,V,S,U,N,Q,O,R,X,Y,P,af,ae,ag=document,ac=b.getDoc();if(!r.object_resizing||r.webkit_fake_resize===false){return}e("enableObjectResizing",false);P={n:[0.5,0,0,-1],e:[1,0.5,1,0],s:[0.5,1,0,1],w:[0,0.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};function aa(ah){var aj,ai;aj=ah.screenX-Q;ai=ah.screenY-O;af=aj*N[2]+R;ae=ai*N[3]+X;af=af<5?5:af;ae=ae<5?5:ae;if(u.modifierPressed(ah)||(S.nodeName=="IMG"&&N[2]*N[3]!==0)){af=Math.round(ae/Y);ae=Math.round(af*Y)}k.setStyles(U,{width:af,height:ae});if(N[2]<0&&U.clientWidth<=af){k.setStyle(U,"left",W+(R-af))}if(N[3]<0&&U.clientHeight<=ae){k.setStyle(U,"top",V+(X-ae))}}function T(){function ah(aj,ai){if(ai){if(S.style[aj]||!b.schema.isValid(S.nodeName.toLowerCase(),aj)){k.setStyle(S,aj,ai)}else{k.setAttrib(S,aj,ai)}}}ah("width",af);ah("height",ae);k.unbind(ac,"mousemove",aa);k.unbind(ac,"mouseup",T);if(ag!=ac){k.unbind(ag,"mousemove",aa);k.unbind(ag,"mouseup",T)}k.remove(U);Z(S)}function Z(ah){var aj,ak,ai;ab();aj=k.getPos(ah);W=aj.x;V=aj.y;ak=ah.offsetWidth;ai=ah.offsetHeight;if(S!=ah){S=ah;af=ae=0}m(P,function(am,an){var al;al=k.get("mceResizeHandle"+an);if(!al){al=k.add(ac.documentElement,"div",{id:"mceResizeHandle"+an,"class":"mceResizeHandle",style:"cursor:"+an+"-resize; margin:0; padding:0"});k.bind(al,"mousedown",function(ao){ao.preventDefault();T();Q=ao.screenX;O=ao.screenY;R=S.clientWidth;X=S.clientHeight;Y=X/R;N=am;U=S.cloneNode(true);k.addClass(U,"mceClonedResizable");k.setStyles(U,{left:W,top:V,margin:0});ac.documentElement.appendChild(U);k.bind(ac,"mousemove",aa);k.bind(ac,"mouseup",T);if(ag!=ac){k.bind(ag,"mousemove",aa);k.bind(ag,"mouseup",T)}})}else{k.show(al)}k.setStyles(al,{left:(ak*am[0]+W)-(al.offsetWidth/2),top:(ai*am[1]+V)-(al.offsetHeight/2)})});if(!tinymce.isOpera&&S.nodeName=="IMG"){S.setAttribute("data-mce-selected","1")}}function ab(){if(S){S.removeAttribute("data-mce-selected")}for(var ah in P){k.hide("mceResizeHandle"+ah)}}b.contentStyles.push(".mceResizeHandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}.mceResizeHandle:hover {background: #000}img[data-mce-selected] {outline: 1px solid black}img.mceClonedResizable, table.mceClonedResizable {position: absolute;outline: 1px dashed black;opacity: .5;z-index: 10000}");function ad(){var ah=k.getParent(B.getNode(),"table,img");m(k.select("img[data-mce-selected]"),function(ai){ai.removeAttribute("data-mce-selected")});if(ah){Z(ah)}else{ab()}}b.onNodeChange.add(ad);k.bind(ac,"selectionchange",ad);b.serializer.addAttributeFilter("data-mce-selected",function(ai,aj){var ah=ai.length;while(ah--){ai[ah].attr(aj,null)}})}function j(){if(D()<9){L.addNodeFilter("noscript",function(P){var Q=P.length,N,O;while(Q--){N=P[Q];O=N.firstChild;if(O){N.attr("data-mce-innertext",O.value)}}});E.addNodeFilter("noscript",function(P){var Q=P.length,R,O,N;while(Q--){R=P[Q];O=P[Q].firstChild;if(O){O.value=tinymce.html.Entities.decode(O.value)}else{N=R.attributes.map["data-mce-innertext"];if(N){R.attr("data-mce-innertext",null);O=new tinymce.html.Node("#text",3);O.value=N;O.raw=true;R.append(O)}}}})}}function A(){b.contentStyles.push("body {min-height: 100px}");b.onClick.add(function(N,O){if(O.target.nodeName=="HTML"){b.execCommand("SelectAll");b.selection.collapse(true);b.nodeChanged()}})}function x(){b.onInit.add(function(){var N;b.getBody().addEventListener("mscontrolselect",function(O){setTimeout(function(){if(b.selection.getNode()!=O.target){N=b.selection.getRng();B.fakeRng=b.dom.createRng();B.fakeRng.setStartBefore(O.target);B.fakeRng.setEndAfter(O.target)}},0)},false);b.getDoc().addEventListener("selectionchange",function(O){if(N&&!tinymce.dom.RangeUtils.compareRanges(b.selection.getRng(),N)){B.fakeRng=N=null}},false)})}J();p();G();if(tinymce.isWebKit){h();v();y();q();C();if(tinymce.isIDevice){d()}else{K();t()}}if(tinymce.isIE&&!tinymce.isIE11){g();M();i();n();s();H();j()}if(tinymce.isIE11){A();x()}if(tinymce.isGecko&&!tinymce.isIE11){g();a();f();o();I();F()}if(tinymce.isOpera){K()}};(function(f){var h,c,k,g=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/[<>&\"\']/g,j=/&(#x|#)?([\w]+);/g,e={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"};c={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"};k={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};function d(l){var m;m=document.createElement("div");m.innerHTML=l;return m.textContent||m.innerText||l}function a(m,p){var n,o,l,q={};if(m){m=m.split(",");p=p||10;for(n=0;n<m.length;n+=2){o=String.fromCharCode(parseInt(m[n],p));if(!c[o]){l="&"+m[n+1]+";";q[o]=l;q[l]=o}}return q}}h=a("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);f.html=f.html||{};f.html.Entities={encodeRaw:function(m,l){return m.replace(l?g:i,function(n){return c[n]||n})},encodeAllRaw:function(l){return(""+l).replace(b,function(m){return c[m]||m})},encodeNumeric:function(m,l){return m.replace(l?g:i,function(n){if(n.length>1){return"&#"+(((n.charCodeAt(0)-55296)*1024)+(n.charCodeAt(1)-56320)+65536)+";"}return c[n]||"&#"+n.charCodeAt(0)+";"})},encodeNamed:function(n,l,m){m=m||h;return n.replace(l?g:i,function(o){return c[o]||m[o]||o})},getEncodeFunc:function(l,o){var p=f.html.Entities;o=a(o)||h;function m(r,q){return r.replace(q?g:i,function(s){return c[s]||o[s]||"&#"+s.charCodeAt(0)+";"||s})}function n(r,q){return p.encodeNamed(r,q,o)}l=f.makeMap(l.replace(/\+/g,","));if(l.named&&l.numeric){return m}if(l.named){if(o){return n}return p.encodeNamed}if(l.numeric){return p.encodeNumeric}return p.encodeRaw},decode:function(l){return l.replace(j,function(n,m,o){if(m){o=parseInt(o,m.length===2?16:10);if(o>65535){o-=65536;return String.fromCharCode(55296+(o>>10),56320+(o&1023))}else{return e[o]||String.fromCharCode(o)}}return k[n]||h[n]||d(n)})}}})(tinymce);tinymce.html.Styles=function(k,m){var d=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,b=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,h=/\s*([^:]+):\s*([^;]+);?/g,e=/\s+$/,f=/rgb/,l,a,g={},c;k=k||{};c="\\\" \\' \\; \\: ; : \uFEFF".split(" ");for(a=0;a<c.length;a++){g[c[a]]="\uFEFF"+a;g["\uFEFF"+a]=c[a]}function j(o,i,q,n){function p(r){r=parseInt(r).toString(16);return r.length>1?r:"0"+r}return"#"+p(i)+p(q)+p(n)}return{toHex:function(i){return i.replace(d,j)},parse:function(i){var s={},z,u,q,A,p=k.url_converter,r=k.url_converter_scope||this;function y(E,G){var B,D,C,F;if(s["border-image"]==="none"){delete s["border-image"]}B=s[E+"-top"+G];if(!B){return}D=s[E+"-right"+G];if(B!=D){return}C=s[E+"-bottom"+G];if(D!=C){return}F=s[E+"-left"+G];if(C!=F){return}s[E+G]=F;delete s[E+"-top"+G];delete s[E+"-right"+G];delete s[E+"-bottom"+G];delete s[E+"-left"+G]}function o(B){var D=s[B],C;if(!D||D.indexOf(" ")<0){return}D=D.split(" ");C=D.length;while(C--){if(D[C]!==D[0]){return false}}s[B]=D[0];return true}function v(B,D,C,E){if(!o(D)){return}if(!o(C)){return}if(!o(E)){return}s[B]=s[D]+" "+s[C]+" "+s[E];delete s[D];delete s[C];delete s[E]}function n(B){A=true;return g[B]}function t(C,B){if(A){C=C.replace(/\uFEFF[0-9]/g,function(D){return g[D]})}if(!B){C=C.replace(/\\([\'\";:])/g,"$1")}return C}function x(D,C,B,F,G,E){G=G||E;if(G){G=t(G);return"'"+G.replace(/\'/g,"\\'")+"'"}C=t(C||B||F);if(p){C=p.call(r,C,"style")}return"url('"+C.replace(/\'/g,"\\'")+"')"}if(i){i=i.replace(/\\[\"\';:\uFEFF]/g,n).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(B){return B.replace(/[;:]/g,n)});while(z=h.exec(i)){u=z[1].replace(e,"").toLowerCase();q=z[2].replace(e,"");if(u&&q.length>0){if(u==="font-weight"&&q==="700"){q="bold"}else{if(u==="color"||u==="background-color"){q=q.toLowerCase()}}q=q.replace(d,j);q=q.replace(b,x);s[u]=A?t(q,true):q}h.lastIndex=z.index+z[0].length}y("border","");y("border","-width");y("border","-color");y("border","-style");y("padding","");y("margin","");v("border","border-width","border-style","border-color");if(s.border==="medium none"){delete s.border}}return s},serialize:function(q,i){var p="",o,r;function n(t){var x,u,s,v;x=m.styles[t];if(x){for(u=0,s=x.length;u<s;u++){t=x[u];v=q[t];if(v!==l&&v.length>0){p+=(p.length>0?" ":"")+t+": "+v+";"}}}}if(i&&m&&m.styles){n("*");n(i)}else{for(o in q){r=q[o];if(r!==l&&r.length>0){p+=(p.length>0?" ":"")+o+": "+r+";"}}}return p}}};(function(a){var d={},h=a.makeMap,b=a.each;function g(j,i){return j.split(i||",")}function c(j,i){var l,m={};function k(n){return n.replace(/[A-Z]+/g,function(o){return k(j[o])})}for(l in j){if(j.hasOwnProperty(l)){j[l]=k(j[l])}}k(i).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]\[([^\]]*)\]/g,function(q,n,p,o){p=g(p,"|");m[n]={attributes:h(p),attributesOrder:p,children:h(o,"|",{"#comment":{}})}});return m}function e(){var i=d.html5;if(!i){i=d.html5=c({A:"id|accesskey|class|dir|draggable|item|hidden|itemprop|role|spellcheck|style|subject|title|onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"#|a|abbr|area|audio|b|bdo|br|button|canvas|cite|code|command|datalist|del|dfn|em|embed|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|meta|meter|noscript|object|output|progress|q|ruby|samp|script|select|small|span|strong|sub|sup|svg|textarea|time|var|video|wbr",C:"#|a|abbr|area|address|article|aside|audio|b|bdo|blockquote|br|button|canvas|cite|code|command|datalist|del|details|dfn|dialog|div|dl|em|embed|fieldset|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|menu|meta|meter|nav|noscript|ol|object|output|p|pre|progress|q|ruby|samp|script|section|select|small|span|strong|style|sub|sup|svg|table|textarea|time|ul|var|video"},"html[A|manifest][body|head]head[A][base|command|link|meta|noscript|script|style|title]title[A][#]base[A|href|target][]link[A|href|rel|media|type|sizes][]meta[A|http-equiv|name|content|charset][]style[A|type|media|scoped][#]script[A|charset|type|src|defer|async][#]noscript[A][C]body[A][C]section[A][C]nav[A][C]article[A][C]aside[A][C]h1[A][B]h2[A][B]h3[A][B]h4[A][B]h5[A][B]h6[A][B]hgroup[A][h1|h2|h3|h4|h5|h6]header[A][C]footer[A][C]address[A][C]p[A][B]br[A][]pre[A][B]dialog[A][dd|dt]blockquote[A|cite][C]ol[A|start|reversed][li]ul[A][li]li[A|value][C]dl[A][dd|dt]dt[A][B]dd[A][C]a[A|href|target|ping|rel|media|type][B]em[A][B]strong[A][B]small[A][B]cite[A][B]q[A|cite][B]dfn[A][B]abbr[A][B]code[A][B]var[A][B]samp[A][B]kbd[A][B]sub[A][B]sup[A][B]i[A][B]b[A][B]mark[A][B]progress[A|value|max][B]meter[A|value|min|max|low|high|optimum][B]time[A|datetime][B]ruby[A][B|rt|rp]rt[A][B]rp[A][B]bdo[A][B]span[A][B]ins[A|cite|datetime][B]del[A|cite|datetime][B]figure[A][C|legend|figcaption]figcaption[A][C]img[A|alt|src|height|width|usemap|ismap][]iframe[A|name|src|height|width|sandbox|seamless][]embed[A|src|height|width|type][]object[A|data|type|height|width|usemap|name|form|classid][param]param[A|name|value][]details[A|open][C|legend]command[A|type|label|icon|disabled|checked|radiogroup][]menu[A|type|label][C|li]legend[A][C|B]div[A][C]source[A|src|type|media][]audio[A|src|autobuffer|autoplay|loop|controls][source]video[A|src|autobuffer|autoplay|loop|controls|width|height|poster][source]hr[A][]form[A|accept-charset|action|autocomplete|enctype|method|name|novalidate|target|onsubmit][C]fieldset[A|disabled|form|name][C|legend]label[A|form|for][B]input[A|type|accept|alt|autocomplete|autofocus|checked|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|height|list|max|maxlength|min|multiple|pattern|placeholder|readonly|required|size|src|step|width|files|value|name][]button[A|autofocus|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|name|value|type][B]select[A|autofocus|disabled|form|multiple|name|size][option|optgroup]datalist[A][B|option]optgroup[A|disabled|label][option]option[A|disabled|selected|label|value][]textarea[A|autofocus|disabled|form|maxlength|name|placeholder|readonly|required|rows|cols|wrap][]keygen[A|autofocus|challenge|disabled|form|keytype|name][]output[A|for|form|name][B]canvas[A|width|height][]map[A|name][B|C]area[A|shape|coords|href|alt|target|media|rel|ping|type][]mathml[A][]svg[A][]table[A|border][caption|colgroup|thead|tfoot|tbody|tr]caption[A][C]colgroup[A|span][col]col[A|span][]thead[A][tr]tfoot[A][tr]tbody[A][tr]tr[A][th|td]th[A|headers|rowspan|colspan|scope][B]td[A|headers|rowspan|colspan][C]wbr[A][]")}return i}function f(){var i=d.html4;if(!i){i=d.html4=c({Z:"H|K|N|O|P",Y:"X|form|R|Q",ZG:"E|span|width|align|char|charoff|valign",X:"p|T|div|U|W|isindex|fieldset|table",ZF:"E|align|char|charoff|valign",W:"pre|hr|blockquote|address|center|noframes",ZE:"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height",ZD:"[E][S]",U:"ul|ol|dl|menu|dir",ZC:"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"X|S|Q",S:"R|P",ZA:"a|G|J|M|O|P",R:"a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe",E:"A|B|C",D:"accesskey|tabindex|onfocus|onblur",C:"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"lang|xml:lang|dir",A:"id|class|style|title"},"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]")}return i}a.html.Schema=function(q){var z=this,x={},k={},j=[],v,C;var o,r,D,t,A,n,p={};function m(F,E,H){var G=q[F];if(!G){G=d[F];if(!G){G=h(E," ",h(E.toUpperCase()," "));G=a.extend(G,H);d[F]=G}}else{G=h(G,",",h(G.toUpperCase()," "))}return G}q=q||{};C=q.schema=="html5"?e():f();if(q.verify_html===false){q.valid_elements="*[*]"}if(q.valid_styles){v={};b(q.valid_styles,function(F,E){v[E]=a.explode(F)})}o=m("whitespace_elements","pre script noscript style textarea");r=m("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");D=m("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr");t=m("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");n=m("non_empty_elements","td th iframe video audio object script",D);textBlockElementsMap=m("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");A=m("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex samp option datalist select optgroup",textBlockElementsMap);function i(E){return new RegExp("^"+E.replace(/([?+*])/g,".$1")+"$")}function u(ac){var ab,X,P,I,Q,W,Z,H,L,R,N,T,M,aa,J,V,F,Y,S,U,O,G,K=/^([#+\-])?([^\[\/]+)(?:\/([^\[]+))?(?:\[([^\]]+)\])?$/,E=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,ad=/[*?+]/;if(ac){ac=g(ac);if(x["@"]){F=x["@"].attributes;Y=x["@"].attributesOrder}for(ab=0,X=ac.length;ab<X;ab++){W=K.exec(ac[ab]);if(W){J=W[1];R=W[2];V=W[3];L=W[4];M={};aa=[];Z={attributes:M,attributesOrder:aa};if(J==="#"){Z.paddEmpty=true}if(J==="-"){Z.removeEmpty=true}if(F){for(U in F){M[U]=F[U]}aa.push.apply(aa,Y)}if(L){L=g(L,"|");for(P=0,I=L.length;P<I;P++){W=E.exec(L[P]);if(W){H={};T=W[1];N=W[2].replace(/::/g,":");J=W[3];G=W[4];if(T==="!"){Z.attributesRequired=Z.attributesRequired||[];Z.attributesRequired.push(N);H.required=true}if(T==="-"){delete M[N];aa.splice(a.inArray(aa,N),1);continue}if(J){if(J==="="){Z.attributesDefault=Z.attributesDefault||[];Z.attributesDefault.push({name:N,value:G});H.defaultValue=G}if(J===":"){Z.attributesForced=Z.attributesForced||[];Z.attributesForced.push({name:N,value:G});H.forcedValue=G}if(J==="<"){H.validValues=h(G,"?")}}if(ad.test(N)){Z.attributePatterns=Z.attributePatterns||[];H.pattern=i(N);Z.attributePatterns.push(H)}else{if(!M[N]){aa.push(N)}M[N]=H}}}}if(!F&&R=="@"){F=M;Y=aa}if(V){Z.outputName=R;x[V]=Z}if(ad.test(R)){Z.pattern=i(R);j.push(Z)}else{x[R]=Z}}}}}function y(E){x={};j=[];u(E);b(C,function(G,F){k[F]=G.children})}function l(F){var E=/^(~)?(.+)$/;if(F){b(g(F),function(J){var H=E.exec(J),I=H[1]==="~",K=I?"span":"div",G=H[2];k[G]=k[K];p[G]=K;if(!I){A[G.toUpperCase()]={};A[G]={}}if(!x[G]){x[G]=x[K]}b(k,function(M,L){if(M[K]){M[G]=M[K]}})})}}function B(F){var E=/^([+\-]?)(\w+)\[([^\]]+)\]$/;if(F){b(g(F),function(J){var I=E.exec(J),G,H;if(I){H=I[1];if(H){G=k[I[2]]}else{G=k[I[2]]={"#comment":{}}}G=k[I[2]];b(g(I[3],"|"),function(K){if(H==="-"){delete G[K]}else{G[K]={}}})}})}}function s(E){var G=x[E],F;if(G){return G}F=j.length;while(F--){G=j[F];if(G.pattern.test(E)){return G}}}if(!q.valid_elements){b(C,function(F,E){x[E]={attributes:F.attributes,attributesOrder:F.attributesOrder};k[E]=F.children});if(q.schema!="html5"){b(g("strong/b,em/i"),function(E){E=g(E,"/");x[E[1]].outputName=E[0]})}x.img.attributesDefault=[{name:"alt",value:""}];b(g("ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr,strong,em,b,i"),function(E){if(x[E]){x[E].removeEmpty=true}});b(g("p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption"),function(E){x[E].paddEmpty=true})}else{y(q.valid_elements)}l(q.custom_elements);B(q.valid_children);u(q.extended_valid_elements);B("+ol[ul|ol],+ul[ul|ol]");if(q.invalid_elements){a.each(a.explode(q.invalid_elements),function(E){if(x[E]){delete x[E]}})}if(!s("span")){u("span[!data-mce-type|*]")}z.children=k;z.styles=v;z.getBoolAttrs=function(){return t};z.getBlockElements=function(){return A};z.getTextBlockElements=function(){return textBlockElementsMap};z.getShortEndedElements=function(){return D};z.getSelfClosingElements=function(){return r};z.getNonEmptyElements=function(){return n};z.getWhiteSpaceElements=function(){return o};z.isValidChild=function(E,G){var F=k[E];return !!(F&&F[G])};z.isValid=function(F,E){var H,G,I=s(F);if(I){if(E){if(I.attributes[E]){return true}H=I.attributePatterns;if(H){G=H.length;while(G--){if(H[G].pattern.test(F)){return true}}}}else{return true}}return false};z.getElementRule=s;z.getCustomElements=function(){return p};z.addValidElements=u;z.setValidElements=y;z.addCustomElements=l;z.addValidChildren=B;z.elements=x}})(tinymce);(function(a){a.html.SaxParser=function(c,e){var b=this,d=function(){};c=c||{};b.schema=e=e||new a.html.Schema();if(c.fix_self_closing!==false){c.fix_self_closing=true}a.each("comment cdata text start end pi doctype".split(" "),function(f){if(f){b[f]=c[f]||d}});b.parse=function(J){var r=this,O,L=0,f,G,F=[],q,Q,H,x,E,y,o,M,s,B,p,l,z,R,t,P,K,S,m,N,h,n,I,k,g,C=0,j=a.html.Entities.decode,D,v;function A(i){var U,T;U=F.length;while(U--){if(F[U].name===i){break}}if(U>=0){for(T=F.length-1;T>=U;T--){i=F[T];if(i.valid){r.end(i.name)}}F.length=U}}function u(T,i,X,W,V){var Y,U;i=i.toLowerCase();X=i in M?i:j(X||W||V||"");if(B&&!E&&i.indexOf("data-")!==0){Y=P[i];if(!Y&&K){U=K.length;while(U--){Y=K[U];if(Y.pattern.test(i)){break}}if(U===-1){Y=null}}if(!Y){return}if(Y.validValues&&!(X in Y.validValues)){return}}q.map[i]=X;q.push({name:i,value:X})}n=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g");I=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;k={script:/<\/script[^>]*>/gi,style:/<\/style[^>]*>/gi,noscript:/<\/noscript[^>]*>/gi};o=e.getShortEndedElements();h=c.self_closing_elements||e.getSelfClosingElements();M=e.getBoolAttrs();B=c.validate;y=c.remove_internals;D=c.fix_self_closing;v=a.isIE;t=/^:/;while(O=n.exec(J)){if(L<O.index){r.text(j(J.substr(L,O.index-L)))}if(f=O[6]){f=f.toLowerCase();if(v&&t.test(f)){f=f.substr(1)}A(f)}else{if(f=O[7]){f=f.toLowerCase();if(v&&t.test(f)){f=f.substr(1)}s=f in o;if(D&&h[f]&&F.length>0&&F[F.length-1].name===f){A(f)}if(!B||(p=e.getElementRule(f))){l=true;if(B){P=p.attributes;K=p.attributePatterns}if(R=O[8]){E=R.indexOf("data-mce-type")!==-1;if(E&&y){l=false}q=[];q.map={};R.replace(I,u)}else{q=[];q.map={}}if(B&&!E){S=p.attributesRequired;m=p.attributesDefault;N=p.attributesForced;if(N){Q=N.length;while(Q--){z=N[Q];x=z.name;g=z.value;if(g==="{$uid}"){g="mce_"+C++}q.map[x]=g;q.push({name:x,value:g})}}if(m){Q=m.length;while(Q--){z=m[Q];x=z.name;if(!(x in q.map)){g=z.value;if(g==="{$uid}"){g="mce_"+C++}q.map[x]=g;q.push({name:x,value:g})}}}if(S){Q=S.length;while(Q--){if(S[Q] in q.map){break}}if(Q===-1){l=false}}if(q.map["data-mce-bogus"]){l=false}}if(l){r.start(f,q,s)}}else{l=false}if(G=k[f]){G.lastIndex=L=O.index+O[0].length;if(O=G.exec(J)){if(l){H=J.substr(L,O.index-L)}L=O.index+O[0].length}else{H=J.substr(L);L=J.length}if(l&&H.length>0){r.text(H,true)}if(l){r.end(f)}n.lastIndex=L;continue}if(!s){if(!R||R.indexOf("/")!=R.length-1){F.push({name:f,valid:l})}else{if(l){r.end(f)}}}}else{if(f=O[1]){r.comment(f)}else{if(f=O[2]){r.cdata(f)}else{if(f=O[3]){r.doctype(f)}else{if(f=O[4]){r.pi(f,O[5])}}}}}}L=O.index+O[0].length}if(L<J.length){r.text(j(J.substr(L)))}for(Q=F.length-1;Q>=0;Q--){f=F[Q];if(f.valid){r.end(f.name)}}}}})(tinymce);(function(b){var a=/^[ \t\r\n]*$/,c={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};function d(g,h,l){var j,i,k=l?"lastChild":"firstChild",f=l?"prev":"next";if(g[k]){return g[k]}if(g!==h){j=g[f];if(j){return j}for(i=g.parent;i&&i!==h;i=i.parent){j=i[f];if(j){return j}}}}function e(f,g){this.name=f;this.type=g;if(g===1){this.attributes=[];this.attributes.map={}}}b.extend(e.prototype,{replace:function(g){var f=this;if(g.parent){g.remove()}f.insert(g,f);f.remove();return f},attr:function(j,h){var g=this,i,k,f;if(typeof j!=="string"){for(k in j){g.attr(k,j[k])}return g}if(i=g.attributes){if(h!==f){if(h===null){if(j in i.map){delete i.map[j];k=i.length;while(k--){if(i[k].name===j){i=i.splice(k,1);return g}}}return g}if(j in i.map){k=i.length;while(k--){if(i[k].name===j){i[k].value=h;break}}}else{i.push({name:j,value:h})}i.map[j]=h;return g}else{return i.map[j]}}},clone:function(){var i=this,k=new e(i.name,i.type),j,h,g,m,f;if(g=i.attributes){f=[];f.map={};for(j=0,h=g.length;j<h;j++){m=g[j];if(m.name!=="id"){f[f.length]={name:m.name,value:m.value};f.map[m.name]=m.value}}k.attributes=f}k.value=i.value;k.shortEnded=i.shortEnded;return k},wrap:function(g){var f=this;f.parent.insert(g,f);g.append(f);return f},unwrap:function(){var h=this,g,f;for(g=h.firstChild;g;){f=g.next;h.insert(g,h,true);g=f}h.remove()},remove:function(){var h=this,f=h.parent,i=h.next,g=h.prev;if(f){if(f.firstChild===h){f.firstChild=i;if(i){i.prev=null}}else{g.next=i}if(f.lastChild===h){f.lastChild=g;if(g){g.next=null}}else{i.prev=g}h.parent=h.next=h.prev=null}return h},append:function(g){var h=this,f;if(g.parent){g.remove()}f=h.lastChild;if(f){f.next=g;g.prev=f;h.lastChild=g}else{h.lastChild=h.firstChild=g}g.parent=h;return g},insert:function(f,h,g){var i;if(f.parent){f.remove()}i=h.parent||this;if(g){if(h===i.firstChild){i.firstChild=f}else{h.prev.next=f}f.prev=h.prev;f.next=h;h.prev=f}else{if(h===i.lastChild){i.lastChild=f}else{h.next.prev=f}f.next=h.next;f.prev=h;h.next=f}f.parent=i;return f},getAll:function(i){var h=this,f,g=[];for(f=h.firstChild;f;f=d(f,h)){if(f.name===i){g.push(f)}}return g},empty:function(){var i=this,h,f,g;if(i.firstChild){h=[];for(g=i.firstChild;g;g=d(g,i)){h.push(g)}f=h.length;while(f--){g=h[f];g.parent=g.firstChild=g.lastChild=g.next=g.prev=null}}i.firstChild=i.lastChild=null;return i},isEmpty:function(g){var h=this,f=h.firstChild,j,i;if(f){do{if(f.type===1){if(f.attributes.map["data-mce-bogus"]){continue}if(g[f.name]){return false}j=f.attributes.length;while(j--){i=f.attributes[j].name;if(i==="name"||i.indexOf("data-mce-")===0){return false}}}if(f.type===8){return false}if((f.type===3&&!a.test(f.value))){return false}}while(f=d(f,h))}return true},walk:function(f){return d(this,null,f)}});b.extend(e,{create:function(i,h){var g,f;g=new e(i,c[i]||1);if(h){for(f in h){g.attr(f,h[f])}}return g}});b.html.Node=e})(tinymce);(function(b){var a=b.html.Node;b.html.DomParser=function(f,g){var d=this,j={},i=[],c={},h={};f=f||{};f.validate="validate" in f?f.validate:true;f.root_name=f.root_name||"body";d.schema=g=g||new b.html.Schema();function e(n){var q,r,z,y,o,p,s,l,v,x,k,u,m,A,t;u=b.makeMap("tr,td,th,tbody,thead,tfoot,table");k=g.getNonEmptyElements();m=g.getTextBlockElements();for(q=0;q<n.length;q++){r=n[q];if(!r.parent||r.fixed){continue}if(m[r.name]&&r.parent.name=="li"){A=r.next;while(A){if(m[A.name]){A.name="li";A.fixed=true;r.parent.insert(A,r.parent)}else{break}A=A.next}r.unwrap(r);continue}y=[r];for(z=r.parent;z&&!g.isValidChild(z.name,r.name)&&!u[z.name];z=z.parent){y.push(z)}if(z&&y.length>1){y.reverse();o=p=d.filterNode(y[0].clone());for(v=0;v<y.length-1;v++){if(g.isValidChild(p.name,y[v].name)){s=d.filterNode(y[v].clone());p.append(s)}else{s=p}for(l=y[v].firstChild;l&&l!=y[v+1];){t=l.next;s.append(l);l=t}p=s}if(!o.isEmpty(k)){z.insert(o,y[0],true);z.insert(r,o)}else{z.insert(r,y[0],true)}z=y[0];if(z.isEmpty(k)||z.firstChild===z.lastChild&&z.firstChild.name==="br"){z.empty().remove()}}else{if(r.parent){if(r.name==="li"){A=r.prev;if(A&&(A.name==="ul"||A.name==="ul")){A.append(r);continue}A=r.next;if(A&&(A.name==="ul"||A.name==="ul")){A.insert(r,A.firstChild,true);continue}r.wrap(d.filterNode(new a("ul",1)));continue}if(g.isValidChild(r.parent.name,"div")&&g.isValidChild("div",r.name)){r.wrap(d.filterNode(new a("div",1)))}else{if(r.name==="style"||r.name==="script"){r.empty().remove()}else{r.unwrap()}}}}}}d.filterNode=function(n){var m,l,k;if(l in j){k=c[l];if(k){k.push(n)}else{c[l]=[n]}}m=i.length;while(m--){l=i[m].name;if(l in n.attributes.map){k=h[l];if(k){k.push(n)}else{h[l]=[n]}}}return n};d.addNodeFilter=function(k,l){b.each(b.explode(k),function(n){var m=j[n];if(!m){j[n]=m=[]}m.push(l)})};d.addAttributeFilter=function(k,l){b.each(b.explode(k),function(n){var m;for(m=0;m<i.length;m++){if(i[m].name===n){i[m].callbacks.push(l);return}}i.push({name:n,callbacks:[l]})})};d.parse=function(q,B){var C,v,J,G,k,M,t,L,o,H,z,E,m,F=[],D,n,y,x,l,I,p,K;B=B||{};c={};h={};E=b.extend(b.makeMap("script,style,head,html,body,title,meta,param"),g.getBlockElements());p=g.getNonEmptyElements();I=g.children;z=f.validate;K="forced_root_block" in B?B.forced_root_block:f.forced_root_block;l=g.getWhiteSpaceElements();m=/^[ \t\r\n]+/;n=/[ \t\r\n]+$/;y=/[ \t\r\n]+/g;x=/^[ \t\r\n]+$/;function r(){var N=v.firstChild,P,O;while(N){P=N.next;if(N.type==3||(N.type==1&&N.name!=="p"&&!E[N.name]&&!N.attr("data-mce-type"))){if(!O){O=A(K,1);v.insert(O,N);O.append(N)}else{O.append(N)}}else{O=null}N=P}}function A(Q,N){var O=new a(Q,N),P;if(Q in j){P=c[Q];if(P){P.push(O)}else{c[Q]=[O]}}return O}function u(O){var P,Q,N;for(P=O.prev;P&&P.type===3;){Q=P.value.replace(n,"");if(Q.length>0){P.value=Q;P=P.prev}else{N=P.prev;P.remove();P=N}}}function s(N){var O,P={};for(O in N){if(O!=="li"&&O!="p"){P[O]=N[O]}}return P}C=new b.html.SaxParser({validate:z,self_closing_elements:s(g.getSelfClosingElements()),cdata:function(N){J.append(A("#cdata",4)).value=N},text:function(O,P){var N;if(!D){O=O.replace(y," ");if(J.lastChild&&E[J.lastChild.name]){O=O.replace(m,"")}}if(O.length!==0){N=A("#text",3);N.raw=!!P;J.append(N).value=O}},comment:function(N){J.append(A("#comment",8)).value=N},pi:function(O,N){J.append(A(O,7)).value=N;u(J)},doctype:function(N){var O;O=J.append(A("#doctype",10));O.value=N;u(J)},start:function(V,N,Q){var W,S,R,P,T,O,X,U;R=z?g.getElementRule(V):{};if(R){W=A(R.outputName||V,1);W.attributes=N;W.shortEnded=Q;J.append(W);U=I[J.name];if(U&&I[W.name]&&!U[W.name]){F.push(W)}S=i.length;while(S--){T=i[S].name;if(T in N.map){o=h[T];if(o){o.push(W)}else{h[T]=[W]}}}if(E[V]){u(W)}if(!Q){J=W}if(!D&&l[V]){D=true}}},end:function(S){var R,O,Q,N,P;O=z?g.getElementRule(S):{};if(O){if(E[S]){if(!D){R=J.firstChild;if(R&&R.type===3){Q=R.value.replace(m,"");if(Q.length>0){R.value=Q;R=R.next}else{N=R.next;R.remove();R=N}while(R&&R.type===3){Q=R.value;N=R.next;if(Q.length===0||x.test(Q)){R.remove();R=N}R=N}}R=J.lastChild;if(R&&R.type===3){Q=R.value.replace(n,"");if(Q.length>0){R.value=Q;R=R.prev}else{N=R.prev;R.remove();R=N}while(R&&R.type===3){Q=R.value;N=R.prev;if(Q.length===0||x.test(Q)){R.remove();R=N}R=N}}}}if(D&&l[S]){D=false}if(O.removeEmpty||O.paddEmpty){if(J.isEmpty(p)){if(O.paddEmpty){J.empty().append(new a("#text","3")).value="\u00a0"}else{if(!J.attributes.map.name&&!J.attributes.map.id){P=J.parent;J.empty().remove();J=P;return}}}}J=J.parent}}},g);v=J=new a(B.context||f.root_name,11);C.parse(q);if(z&&F.length){if(!B.context){e(F)}else{B.invalid=true}}if(K&&v.name=="body"){r()}if(!B.invalid){for(H in c){o=j[H];G=c[H];t=G.length;while(t--){if(!G[t].parent){G.splice(t,1)}}for(k=0,M=o.length;k<M;k++){o[k](G,H,B)}}for(k=0,M=i.length;k<M;k++){o=i[k];if(o.name in h){G=h[o.name];t=G.length;while(t--){if(!G[t].parent){G.splice(t,1)}}for(t=0,L=o.callbacks.length;t<L;t++){o.callbacks[t](G,o.name,B)}}}}return v};if(f.remove_trailing_brs){d.addNodeFilter("br",function(n,m){var r,q=n.length,o,t=b.extend({},g.getBlockElements()),u=g.getNonEmptyElements(),l,k,p,s;t.body=1;for(r=0;r<q;r++){o=n[r];l=o.parent;if(t[o.parent.name]&&o===l.lastChild){p=o.prev;while(p){s=p.name;if(s!=="span"||p.attr("data-mce-type")!=="bookmark"){if(s!=="br"){break}if(s==="br"){o=null;break}}p=p.prev}if(o){o.remove();if(l.isEmpty(u)){elementRule=g.getElementRule(l.name);if(elementRule){if(elementRule.removeEmpty){l.remove()}else{if(elementRule.paddEmpty){l.empty().append(new b.html.Node("#text",3)).value="\u00a0"}}}}}}else{k=o;while(l.firstChild===k&&l.lastChild===k){k=l;if(t[l.name]){break}l=l.parent}if(k===l){textNode=new b.html.Node("#text",3);textNode.value="\u00a0";o.replace(textNode)}}}})}if(!f.allow_html_in_named_anchor){d.addAttributeFilter("id,name",function(o,p){var n=o.length,l,q,k,m;while(n--){m=o[n];if(m.name==="a"&&m.firstChild&&!m.attr("href")){k=m.parent;l=m.lastChild;do{q=l.prev;k.insert(l,m);l=q}while(l)}}})}}})(tinymce);tinymce.html.Writer=function(b){var g=[],e,f,a,c,d;b=b||{};e=b.indent;f=tinymce.makeMap(b.indent_before||"");a=tinymce.makeMap(b.indent_after||"");c=tinymce.html.Entities.getEncodeFunc(b.entity_encoding||"raw",b.entities);d=b.element_format=="html";return{start:function(i,h,l){var j,n,m,k;if(e&&f[i]&&g.length>0){k=g[g.length-1];if(k.length>0&&k!=="\n"){g.push("\n")}}g.push("<",i);if(h){for(j=0,n=h.length;j<n;j++){m=h[j];g.push(" ",m.name,'="',c(m.value,true),'"')}}if(!l||d){g[g.length]=">"}else{g[g.length]=" />"}if(l&&e&&a[i]&&g.length>0){k=g[g.length-1];if(k.length>0&&k!=="\n"){g.push("\n")}}},end:function(h){var i;g.push("</",h,">");if(e&&a[h]&&g.length>0){i=g[g.length-1];if(i.length>0&&i!=="\n"){g.push("\n")}}},text:function(i,h){if(i.length>0){g[g.length]=h?i:c(i)}},cdata:function(h){g.push("<![CDATA[",h,"]]>")},comment:function(h){g.push("<!--",h,"-->")},pi:function(h,i){if(i){g.push("<?",h," ",i,"?>")}else{g.push("<?",h,"?>")}if(e){g.push("\n")}},doctype:function(h){g.push("<!DOCTYPE",h,">",e?"\n":"")},reset:function(){g.length=0},getContent:function(){return g.join("").replace(/\n$/,"")}}};(function(a){a.html.Serializer=function(c,d){var b=this,e=new a.html.Writer(c);c=c||{};c.validate="validate" in c?c.validate:true;b.schema=d=d||new a.html.Schema();b.writer=e;b.serialize=function(h){var g,i;i=c.validate;g={3:function(k,j){e.text(k.value,k.raw)},8:function(j){e.comment(j.value)},7:function(j){e.pi(j.name,j.value)},10:function(j){e.doctype(j.value)},4:function(j){e.cdata(j.value)},11:function(j){if((j=j.firstChild)){do{f(j)}while(j=j.next)}}};e.reset();function f(n){var j=g[n.type],m,s,u,p,t,k,r,q,o;if(!j){m=n.name;s=n.shortEnded;u=n.attributes;if(i&&u&&u.length>1){k=[];k.map={};o=d.getElementRule(n.name);for(r=0,q=o.attributesOrder.length;r<q;r++){p=o.attributesOrder[r];if(p in u.map){t=u.map[p];k.map[p]=t;k.push({name:p,value:t})}}for(r=0,q=u.length;r<q;r++){p=u[r].name;if(!(p in k.map)){t=u.map[p];k.map[p]=t;k.push({name:p,value:t})}}u=k}e.start(n.name,u,s);if(!s){if((n=n.firstChild)){do{f(n)}while(n=n.next)}e.end(m)}}else{j(n)}}if(h.type==1&&!c.inner){f(h)}else{g[11](h)}return e.getContent()}}})(tinymce);tinymce.dom={};(function(e,c){var b=!!document.addEventListener;function f(i,l,j,k){if(i.addEventListener){i.addEventListener(l,j,k||false)}else{if(i.attachEvent){i.attachEvent("on"+l,j)}}}function h(i,l,j,k){if(i.removeEventListener){i.removeEventListener(l,j,k||false)}else{if(i.detachEvent){i.detachEvent("on"+l,j)}}}function d(k,i){var l,n=i||{};function m(){return false}function j(){return true}for(l in k){if(l!=="layerX"&&l!=="layerY"){n[l]=k[l]}}if(!n.target){n.target=n.srcElement||document}n.preventDefault=function(){n.isDefaultPrevented=j;if(k){if(k.preventDefault){k.preventDefault()}else{k.returnValue=false}}};n.stopPropagation=function(){n.isPropagationStopped=j;if(k){if(k.stopPropagation){k.stopPropagation()}else{k.cancelBubble=true}}};n.stopImmediatePropagation=function(){n.isImmediatePropagationStopped=j;n.stopPropagation()};if(!n.isDefaultPrevented){n.isDefaultPrevented=m;n.isPropagationStopped=m;n.isImmediatePropagationStopped=m}return n}function g(j,k,i){var n=j.document,m={type:"ready"};function l(){if(!i.domLoaded){i.domLoaded=true;k(m)}}if(n.readyState=="complete"){l();return}if(b){f(j,"DOMContentLoaded",l)}else{f(n,"readystatechange",function(){if(n.readyState==="complete"){h(n,"readystatechange",arguments.callee);l()}});if(n.documentElement.doScroll&&j===j.top){(function(){try{n.documentElement.doScroll("left")}catch(o){setTimeout(arguments.callee,0);return}l()})()}}f(j,"load",l)}function a(k){var q=this,p={},i,o,n,m,l;m="onmouseenter" in document.documentElement;n="onfocusin" in document.documentElement;l={mouseenter:"mouseover",mouseleave:"mouseout"};i=1;q.domLoaded=false;q.events=p;function j(r,s){var x,u,t,v;x=p[s][r.type];if(x){for(u=0,t=x.length;u<t;u++){v=x[u];if(v&&v.func.call(v.scope,r)===false){r.preventDefault()}if(r.isImmediatePropagationStopped()){return}}}}q.bind=function(y,B,r,t){var s,u,v,E,C,A,D,x=window;function z(F){j(d(F||x.event),s)}if(!y||y.nodeType===3||y.nodeType===8){return}if(!y[c]){s=i++;y[c]=s;p[s]={}}else{s=y[c];if(!p[s]){p[s]={}}}t=t||y;B=B.split(" ");v=B.length;while(v--){E=B[v];A=z;C=D=false;if(E==="DOMContentLoaded"){E="ready"}if((q.domLoaded||y.readyState=="complete")&&E==="ready"){q.domLoaded=true;r.call(t,d({type:E}));continue}if(!m){C=l[E];if(C){A=function(F){var H,G;H=F.currentTarget;G=F.relatedTarget;if(G&&H.contains){G=H.contains(G)}else{while(G&&G!==H){G=G.parentNode}}if(!G){F=d(F||x.event);F.type=F.type==="mouseout"?"mouseleave":"mouseenter";F.target=H;j(F,s)}}}}if(!n&&(E==="focusin"||E==="focusout")){D=true;C=E==="focusin"?"focus":"blur";A=function(F){F=d(F||x.event);F.type=F.type==="focus"?"focusin":"focusout";j(F,s)}}u=p[s][E];if(!u){p[s][E]=u=[{func:r,scope:t}];u.fakeName=C;u.capture=D;u.nativeHandler=A;if(!b){u.proxyHandler=k(s)}if(E==="ready"){g(y,A,q)}else{f(y,C||E,b?A:u.proxyHandler,D)}}else{u.push({func:r,scope:t})}}y=u=0;return r};q.unbind=function(z,B,r){var u,x,y,s,t,v;if(!z||z.nodeType===3||z.nodeType===8){return q}u=z[c];if(u){v=p[u];if(B){B=B.split(" ");y=B.length;while(y--){t=B[y];x=v[t];if(x){if(r){s=x.length;while(s--){if(x[s].func===r){x.splice(s,1)}}}if(!r||x.length===0){delete v[t];h(z,x.fakeName||t,b?x.nativeHandler:x.proxyHandler,x.capture)}}}}else{for(t in v){x=v[t];h(z,x.fakeName||t,b?x.nativeHandler:x.proxyHandler,x.capture)}v={}}for(t in v){return q}delete p[u];try{delete z[c]}catch(A){z[c]=null}}return q};q.fire=function(s,u,r){var t,v;if(!s||s.nodeType===3||s.nodeType===8){return q}v=d(null,r);v.type=u;do{t=s[c];if(t){j(v,t)}s=s.parentNode||s.ownerDocument||s.defaultView||s.parentWindow}while(s&&!v.isPropagationStopped());return q};q.clean=function(t){var r,u,s=q.unbind;if(!t||t.nodeType===3||t.nodeType===8){return q}if(t[c]){s(t)}if(!t.getElementsByTagName){t=t.document}if(t&&t.getElementsByTagName){s(t);u=t.getElementsByTagName("*");r=u.length;while(r--){t=u[r];if(t[c]){s(t)}}}return q};q.callNativeHandler=function(s,r){if(p){p[s][r.type].nativeHandler(r)}};q.destory=function(){p={}};q.add=function(t,u,s,v){if(typeof(t)==="string"){t=document.getElementById(t)}if(t&&t instanceof Array){var r=t.length;while(r--){q.add(t[r],u,s,v)}return}if(u==="init"){u="ready"}return q.bind(t,u instanceof Array?u.join(" "):u,s,v)};q.remove=function(t,u,s,v){if(!t){return q}if(typeof(t)==="string"){t=document.getElementById(t)}if(t instanceof Array){var r=t.length;while(r--){q.remove(t[r],u,s,v)}return q}return q.unbind(t,u instanceof Array?u.join(" "):u,s)};q.clear=function(r){if(typeof(r)==="string"){r=document.getElementById(r)}return q.clean(r)};q.cancel=function(r){if(r){q.prevent(r);q.stop(r)}return false};q.prevent=function(r){if(!r.preventDefault){r=d(r)}r.preventDefault();return false};q.stop=function(r){if(!r.stopPropagation){r=d(r)}r.stopPropagation();return false}}e.EventUtils=a;e.Event=new a(function(i){return function(j){tinymce.dom.Event.callNativeHandler(i,j)}});e.Event.bind(window,"ready",function(){});e=0})(tinymce.dom,"data-mce-expando");tinymce.dom.TreeWalker=function(c,a){var d=c;function b(e,h,g,f){var j,i;if(e){if(!f&&e[h]){return e[h]}if(e!=a){j=e[g];if(j){return j}for(i=e.parentNode;i&&i!=a;i=i.parentNode){j=i[g];if(j){return j}}}}}this.current=function(){return d};this.next=function(e){return(d=b(d,"firstChild","nextSibling",e))};this.prev=function(e){return(d=b(d,"lastChild","previousSibling",e))}};(function(h){var b=h.each,g=h.is,a=h.isWebKit,e=h.isIE,c=h.html.Entities,f=/^([a-z0-9],?)+$/i,d=/^[ \t\r\n]*$/;h.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(l,i){var o=this,m,n,k;o.doc=l;o.win=window;o.files={};o.cssFlicker=false;o.counter=0;o.stdMode=!h.isIE||l.documentMode>=8;o.boxModel=!h.isIE||l.compatMode=="CSS1Compat"||o.stdMode;o.hasOuterHTML="outerHTML" in l.createElement("a");o.settings=i=h.extend({keep_values:false,hex_colors:1},i);o.schema=i.schema;o.styles=new h.html.Styles({url_converter:i.url_converter,url_converter_scope:i.url_converter_scope},i.schema);if(h.isIE6){try{l.execCommand("BackgroundImageCache",false,true)}catch(j){o.cssFlicker=true}}o.fixDoc(l);o.events=i.ownEvents?new h.dom.EventUtils(i.proxy):h.dom.Event;h.addUnload(o.destroy,o);k=i.schema?i.schema.getBlockElements():{};o.isBlock=function(p){if(!p){return false}var q=p.nodeType;if(q){return !!(q===1&&k[p.nodeName])}return !!k[p]}},fixDoc:function(j){var i=this.settings,k;if(e&&!h.isIE11&&i.schema){("abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video").replace(/\w+/g,function(l){j.createElement(l)});for(k in i.schema.getCustomElements()){j.createElement(k)}}},clone:function(m,k){var l=this,j,i;if(!e||h.isIE11||m.nodeType!==1||k){return m.cloneNode(k)}i=l.doc;if(!k){j=i.createElement(m.nodeName);b(l.getAttribs(m),function(n){l.setAttrib(j,n.nodeName,l.getAttrib(m,n.nodeName))});return j}return j.firstChild},getRoot:function(){var i=this,j=i.settings;return(j&&i.get(j.root_element))||i.doc.body},getViewPort:function(i){var j,k;i=!i?this.win:i;j=i.document;k=this.boxModel?j.documentElement:j.body;return{x:i.pageXOffset||k.scrollLeft,y:i.pageYOffset||k.scrollTop,w:i.innerWidth||k.clientWidth,h:i.innerHeight||k.clientHeight}},getRect:function(j){var i,k=this,l;j=k.get(j);i=k.getPos(j);l=k.getSize(j);return{x:i.x,y:i.y,w:l.w,h:l.h}},getSize:function(j){var l=this,k,i;j=l.get(j);k=l.getStyle(j,"width");i=l.getStyle(j,"height");if(k.indexOf("px")===-1){k=0}if(i.indexOf("px")===-1){i=0}return{w:parseInt(k,10)||j.offsetWidth||j.clientWidth,h:parseInt(i,10)||j.offsetHeight||j.clientHeight}},getParent:function(j,i,k){return this.getParents(j,i,k,false)},getParents:function(m,j,p,l){var o=this,n,i=o.settings,k=[];m=o.get(m);l=l===undefined;if(i.strict_root){p=p||o.getRoot()}if(g(j,"string")){n=j;if(j==="*"){j=function(r){return r.nodeType==1}}else{j=function(r){return o.is(r,n)}}}while(m){if(m==p||!m.nodeType||m.nodeType===9){break}if(!j||j(m)){if(l){k.push(m)}else{return m}}m=m.parentNode}return l?k:null},get:function(i){var j;if(i&&this.doc&&typeof(i)=="string"){j=i;i=this.doc.getElementById(i);if(i&&i.id!==j){return this.doc.getElementsByName(j)[1]}}return i},getNext:function(j,i){return this._findSib(j,i,"nextSibling")},getPrev:function(j,i){return this._findSib(j,i,"previousSibling")},select:function(j,i){var k=this;return h.dom.Sizzle(j,k.get(i)||k.get(k.settings.root_element)||k.doc,[])},is:function(j,k){var i;if(j.length===undefined){if(k==="*"){return j.nodeType==1}if(f.test(k)){k=k.toLowerCase().split(/,/);j=j.nodeName.toLowerCase();for(i=k.length-1;i>=0;i--){if(k[i]==j){return true}}return false}}return h.dom.Sizzle.matches(k,j.nodeType?[j]:j).length>0},add:function(i,k,l,n,j){var m=this;return this.run(i,function(q){var p,o;p=g(k,"string")?m.doc.createElement(k):k;m.setAttribs(p,l);if(n){if(n.nodeType){p.appendChild(n)}else{m.setHTML(p,n)}}return !j?q.appendChild(p):p})},create:function(j,k,i){return this.add(this.doc.createElement(j),j,k,i,1)},createHTML:function(l,m,j){var k="",i=this,n;k+="<"+l;for(n in m){if(m.hasOwnProperty(n)){k+=" "+n+'="'+i.encode(m[n])+'"'}}if(typeof(j)!="undefined"){return k+">"+j+"</"+l+">"}return k+" />"},remove:function(i,j){return this.run(i,function(l){var m,k=l.parentNode;if(!k){return null}if(j){while(m=l.firstChild){if(!h.isIE||m.nodeType!==3||m.nodeValue){k.insertBefore(m,l)}else{l.removeChild(m)}}}return k.removeChild(l)})},setStyle:function(j,k,l){var i=this;return i.run(j,function(n){var m,o;m=n.style;k=k.replace(/-(\D)/g,function(p,q){return q.toUpperCase()});if(i.pixelStyles.test(k)&&(h.is(l,"number")||/^[\-0-9\.]+$/.test(l))){l+="px"}switch(k){case"opacity":if(e&&!h.isIE11){m.filter=l===""?"":"alpha(opacity="+(l*100)+")";if(!j.currentStyle||!j.currentStyle.hasLayout){m.display="inline-block"}}m[k]=m["-moz-opacity"]=m["-khtml-opacity"]=l||"";break;case"float":(e&&!h.isIE11)?m.styleFloat=l:m.cssFloat=l;break;default:m[k]=l||""}if(i.settings.update_styles){i.setAttrib(n,"data-mce-style")}})},getStyle:function(j,k,i){j=this.get(j);if(!j){return}if(this.doc.defaultView&&i){k=k.replace(/[A-Z]/g,function(m){return"-"+m});try{return this.doc.defaultView.getComputedStyle(j,null).getPropertyValue(k)}catch(l){return null}}k=k.replace(/-(\D)/g,function(m,n){return n.toUpperCase()});if(k=="float"){k=e?"styleFloat":"cssFloat"}if(j.currentStyle&&i){return j.currentStyle[k]}return j.style?j.style[k]:undefined},setStyles:function(i,j){var l=this,m=l.settings,k;k=m.update_styles;m.update_styles=0;b(j,function(n,o){l.setStyle(i,o,n)});m.update_styles=k;if(m.update_styles){l.setAttrib(i,m.cssText)}},removeAllAttribs:function(i){return this.run(i,function(j){var l,k=j.attributes;for(l=k.length-1;l>=0;l--){j.removeAttributeNode(k.item(l))}})},setAttrib:function(i,j,k){var l=this;if(!i||!j){return}if(l.settings.strict){j=j.toLowerCase()}return this.run(i,function(o){var n=l.settings;var p=o.getAttribute(j);if(k!==null){switch(j){case"style":if(!g(k,"string")){b(k,function(q,r){l.setStyle(o,r,q)});return}if(n.keep_values){if(k&&!l._isRes(k)){o.setAttribute("data-mce-style",k,2)}else{o.removeAttribute("data-mce-style",2)}}o.style.cssText=k;break;case"class":o.className=k||"";break;case"src":case"href":if(n.keep_values){if(n.url_converter){k=n.url_converter.call(n.url_converter_scope||l,k,j,o)}l.setAttrib(o,"data-mce-"+j,k,2)}break;case"shape":o.setAttribute("data-mce-style",k);break}}if(g(k)&&k!==null&&k.length!==0){o.setAttribute(j,""+k,2)}else{o.removeAttribute(j,2)}if(tinyMCE.activeEditor&&p!=k){var m=tinyMCE.activeEditor;m.onSetAttrib.dispatch(m,o,j,k)}})},setAttribs:function(i,j){var k=this;return this.run(i,function(l){b(j,function(n,m){k.setAttrib(l,m,n)})})},getAttrib:function(j,k,n){var l,m=this,i;j=m.get(j);if(!j||j.nodeType!==1){return n===i?false:n}if(!g(n)){n=""}if(/^(src|href|style|coords|shape)$/.test(k)){l=j.getAttribute("data-mce-"+k);if(l){return l}}if(e&&m.props[k]){l=j[m.props[k]];l=l&&l.nodeValue?l.nodeValue:l}if(!l){l=j.getAttribute(k,2)}if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(k)){if(j[m.props[k]]===true&&l===""){return k}return l?k:""}if(j.nodeName==="FORM"&&j.getAttributeNode(k)){return j.getAttributeNode(k).nodeValue}if(k==="style"){l=l||j.style.cssText;if(l){l=m.serializeStyle(m.parseStyle(l),j.nodeName);if(m.settings.keep_values&&!m._isRes(l)){j.setAttribute("data-mce-style",l)}}}if(a&&k==="class"&&l){l=l.replace(/(apple|webkit)\-[a-z\-]+/gi,"")}if(e){switch(k){case"rowspan":case"colspan":if(l===1){l=""}break;case"size":if(l==="+0"||l===20||l===0){l=""}break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":if(l===0){l=""}break;case"hspace":if(l===-1){l=""}break;case"maxlength":case"tabindex":if(l===32768||l===2147483647||l==="32768"){l=""}break;case"multiple":case"compact":case"noshade":case"nowrap":if(l===65535){return k}return n;case"shape":l=l.toLowerCase();break;default:if(k.indexOf("on")===0&&l){l=h._replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1",""+l)}}}return(l!==i&&l!==null&&l!=="")?""+l:n},getPos:function(m,i){var o=this,n=0,l=0,j,k=o.doc,p;m=o.get(m);i=i||k.body;if(m){if(m.getBoundingClientRect){m=m.getBoundingClientRect();j=o.boxModel?k.documentElement:k.body;n=m.left+(k.documentElement.scrollLeft||k.body.scrollLeft)-j.clientTop;l=m.top+(k.documentElement.scrollTop||k.body.scrollTop)-j.clientLeft;return{x:n,y:l}}p=m;while(p&&p!=i&&p.nodeType){n+=p.offsetLeft||0;l+=p.offsetTop||0;p=p.offsetParent}p=m.parentNode;while(p&&p!=i&&p.nodeType){n-=p.scrollLeft||0;l-=p.scrollTop||0;p=p.parentNode}}return{x:n,y:l}},parseStyle:function(i){return this.styles.parse(i)},serializeStyle:function(j,i){return this.styles.serialize(j,i)},addStyle:function(i){var j=this.doc,k;styleElm=j.getElementById("mceDefaultStyles");if(!styleElm){styleElm=j.createElement("style"),styleElm.id="mceDefaultStyles";styleElm.type="text/css";k=j.getElementsByTagName("head")[0];if(k.firstChild){k.insertBefore(styleElm,k.firstChild)}else{k.appendChild(styleElm)}}if(styleElm.styleSheet){styleElm.styleSheet.cssText+=i}else{styleElm.appendChild(j.createTextNode(i))}},loadCSS:function(k){var i=this,j=i.doc,l;if(!k){k=""}l=j.getElementsByTagName("head")[0];b(k.split(","),function(n){var m;if(i.files[n]){return}i.files[n]=true;m=i.create("link",{rel:"stylesheet",href:h._addVer(n)});if(e&&!h.isIE11&&j.documentMode&&j.recalc){m.onload=function(){if(j.recalc){j.recalc()}m.onload=null}}l.appendChild(m)})},addClass:function(i,j){return this.run(i,function(k){var l;if(!j){return 0}if(this.hasClass(k,j)){return k.className}l=this.removeClass(k,j);return k.className=(l!=""?(l+" "):"")+j})},removeClass:function(i,j){var k=this,l;return k.run(i,function(m){var n;if(k.hasClass(m,j)){if(!l){l=new RegExp("(^|\\s+)"+j+"(\\s+|$)","g")}n=m.className.replace(l," ");n=h.trim(n!=" "?n:"");m.className=n;if(!n){m.removeAttribute("class");m.removeAttribute("className")}return n}return m.className})},hasClass:function(j,i){j=this.get(j);if(!j||!i){return false}return(" "+j.className+" ").indexOf(" "+i+" ")!==-1},show:function(i){return this.setStyle(i,"display","block")},hide:function(i){return this.setStyle(i,"display","none")},isHidden:function(i){i=this.get(i);return !i||i.style.display=="none"||this.getStyle(i,"display")=="none"},uniqueId:function(i){return(!i?"mce_":i)+(this.counter++)},setHTML:function(j,i){var k=this;return k.run(j,function(n){if(e){while(n.firstChild){n.removeChild(n.firstChild)}try{n.innerHTML="<br />"+i;n.removeChild(n.firstChild)}catch(m){var l=k.create("div");l.innerHTML="<br />"+i;b(h.grep(l.childNodes),function(p,o){if(o&&n.canHaveHTML){n.appendChild(p)}})}}else{n.innerHTML=i}return i})},getOuterHTML:function(j){var i,k=this;j=k.get(j);if(!j){return null}if(j.nodeType===1&&k.hasOuterHTML){return j.outerHTML}i=(j.ownerDocument||k.doc).createElement("body");i.appendChild(j.cloneNode(true));return i.innerHTML},setOuterHTML:function(i,l,j){var k=this;function m(o,n,q){var r,p;p=q.createElement("body");p.innerHTML=n;r=p.lastChild;while(r){k.insertAfter(r.cloneNode(true),o);r=r.previousSibling}k.remove(o)}return this.run(i,function(o){o=k.get(o);if(o.nodeType==1){j=j||o.ownerDocument||k.doc;if(e){try{if(e&&o.nodeType==1){o.outerHTML=l}else{m(o,l,j)}}catch(n){m(o,l,j)}}else{m(o,l,j)}}})},decode:c.decode,encode:c.encodeAllRaw,insertAfter:function(i,j){j=this.get(j);return this.run(i,function(l){var k,m;k=j.parentNode;m=j.nextSibling;if(m){k.insertBefore(l,m)}else{k.appendChild(l)}return l})},replace:function(j,i,k){var l=this;if(g(i,"array")){j=j.cloneNode(true)}return l.run(i,function(m){if(k){b(h.grep(m.childNodes),function(n){j.appendChild(n)})}return m.parentNode.replaceChild(j,m)})},rename:function(j,k){var i=this,l;if(j.nodeName!=k.toUpperCase()){l=i.create(k);b(i.getAttribs(j),function(m){i.setAttrib(l,m.nodeName,i.getAttrib(j,m.nodeName))});i.replace(l,j,1)}return l||j},findCommonAncestor:function(i,k){var j=i,l;while(j){l=k;while(l&&j!=l){l=l.parentNode}if(j==l){break}j=j.parentNode}if(!j&&i.ownerDocument){return i.ownerDocument.documentElement}return j},toHex:function(k){var j=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(k);function i(l){l=parseInt(l,10).toString(16);return l.length>1?l:"0"+l}if(j){k="#"+i(j[1])+i(j[2])+i(j[3]);return k}return k},getClasses:function(){var k=this,o=[],j,l={},m=k.settings.class_filter,i;if(k.classes){return k.classes}function n(r){b(r.imports,function(q){n(q)});b(r.cssRules||r.rules,function(s){switch(s.type||1){case 1:if(s.selectorText){b(s.selectorText.split(","),function(t){t=t.replace(/^\s*|\s*$|^\s\./g,"");if(/\.mce/.test(t)||!/\.[\w\-]+$/.test(t)){return}i=t;t=h._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",t);if(m&&!(t=m(t,i))){return}if(!l[t]){o.push({"class":t});l[t]=1}})}break;case 3:try{n(s.styleSheet)}catch(q){}break}})}try{b(k.doc.styleSheets,n)}catch(p){}if(o.length>0){k.classes=o}return o},run:function(i,m,l){var k=this,j;if(k.doc&&typeof(i)==="string"){i=k.get(i)}if(!i){return false}l=l||this;if(!i.nodeType&&(i.length||i.length===0)){j=[];b(i,function(o,n){if(o){if(typeof(o)=="string"){o=k.doc.getElementById(o)}j.push(m.call(l,o,n))}});return j}return m.call(l,i)},getAttribs:function(j){var i;j=this.get(j);if(!j){return[]}if(e){i=[];if(j.nodeName=="OBJECT"){return j.attributes}if(j.nodeName==="OPTION"&&this.getAttrib(j,"selected")){i.push({specified:1,nodeName:"selected"})}j.cloneNode(false).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(k){i.push({specified:1,nodeName:k})});return i}return j.attributes},isEmpty:function(k,i){var p=this,m,l,o,q,j,n=0;k=k.firstChild;if(k){q=new h.dom.TreeWalker(k,k.parentNode);i=i||p.schema?p.schema.getNonEmptyElements():null;do{o=k.nodeType;if(o===1){if(k.getAttribute("data-mce-bogus")){continue}j=k.nodeName.toLowerCase();if(i&&i[j]){if(j==="br"){n++;continue}return false}l=p.getAttribs(k);m=k.attributes.length;while(m--){j=k.attributes[m].nodeName;if(j==="name"||j==="data-mce-bookmark"){return false}}}if(o==8){return false}if((o===3&&!d.test(k.nodeValue))){return false}}while(k=q.next())}return n<=1},destroy:function(j){var i=this;i.win=i.doc=i.root=i.events=i.frag=null;if(!j){h.removeUnload(i.destroy)}},createRng:function(){var i=this.doc;return i.createRange?i.createRange():new h.dom.Range(this)},nodeIndex:function(j,k){var l=0,n,i,m;if(j){for(n=j.nodeType,j=j.previousSibling,i=j;j;j=j.previousSibling){m=j.nodeType;if(k&&m==3){if(m==n||!j.nodeValue.length){continue}}l++;n=m}}return l},split:function(m,l,p){var q=this,i=q.createRng(),n,k,o;function j(x){var r,v=x.childNodes,u=x.nodeType;function s(A){var z=A.previousSibling&&A.previousSibling.nodeName=="SPAN";var y=A.nextSibling&&A.nextSibling.nodeName=="SPAN";return z&&y}if(u==1&&x.getAttribute("data-mce-type")=="bookmark"){return}for(r=v.length-1;r>=0;r--){j(v[r])}if(u!=9){if(u==3&&x.nodeValue.length>0){var t=h.trim(x.nodeValue).length;if(!q.isBlock(x.parentNode)||t>0||t===0&&s(x)){return}}else{if(u==1){v=x.childNodes;if(v.length==1&&v[0]&&v[0].nodeType==1&&v[0].getAttribute("data-mce-type")=="bookmark"){x.parentNode.insertBefore(v[0],x)}if(v.length||/^(br|hr|input|img)$/i.test(x.nodeName)){return}}}q.remove(x)}return x}if(m&&l){i.setStart(m.parentNode,q.nodeIndex(m));i.setEnd(l.parentNode,q.nodeIndex(l));n=i.extractContents();i=q.createRng();i.setStart(l.parentNode,q.nodeIndex(l)+1);i.setEnd(m.parentNode,q.nodeIndex(m)+1);k=i.extractContents();o=m.parentNode;o.insertBefore(j(n),m);if(p){o.replaceChild(p,l)}else{o.insertBefore(l,m)}o.insertBefore(j(k),m);q.remove(m);return p||l}},bind:function(j,k,i,l){return this.events.add(j,k,i,l||this)},unbind:function(j,k,i){return this.events.remove(j,k,i)},fire:function(j,i,k){return this.events.fire(j,i,k)},getContentEditable:function(j){var i;if(j.nodeType!=1){return null}i=j.getAttribute("data-mce-contenteditable");if(i&&i!=="inherit"){return i}return j.contentEditable!=="inherit"?j.contentEditable:null},_findSib:function(i,k,l){var m=this,j=k;if(i){if(g(j,"string")){j=function(n){return m.is(n,k)}}for(i=i[l];i;i=i[l]){if(j(i)){return i}}}return null},_isRes:function(i){return/^(top|left|bottom|right|width|height)/i.test(i)||/;\s*(top|left|bottom|right|width|height)/i.test(i)}});h.DOM=new h.dom.DOMUtils(document,{process_html:0})})(tinymce);(function(a){function b(G){var D=this,I=G.doc,U=0,s=1,N=2,r=true,e=false,W="startOffset",L="startContainer",F="endContainer",n="endOffset",O=tinymce.extend,R=G.nodeIndex;O(D,{startContainer:I,startOffset:0,endContainer:I,endOffset:0,collapsed:r,commonAncestorContainer:I,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:d,setEnd:h,setStartBefore:K,setStartAfter:y,setEndBefore:z,setEndAfter:i,collapse:o,selectNode:l,selectNodeContents:u,compareBoundaryPoints:j,deleteContents:T,extractContents:x,cloneContents:H,insertNode:q,surroundContents:C,cloneRange:A,toStringIE:f});function k(){return I.createDocumentFragment()}function d(t,X){p(r,t,X)}function h(t,X){p(e,t,X)}function K(t){d(t.parentNode,R(t))}function y(t){d(t.parentNode,R(t)+1)}function z(t){h(t.parentNode,R(t))}function i(t){h(t.parentNode,R(t)+1)}function o(t){if(t){D[F]=D[L];D[n]=D[W]}else{D[L]=D[F];D[W]=D[n]}D.collapsed=r}function l(t){K(t);i(t)}function u(t){d(t,0);h(t,t.nodeType===1?t.childNodes.length:t.nodeValue.length)}function j(af,X){var Z=D[L],ad=D[W],Y=D[F],ac=D[n],t=X.startContainer,ab=X.startOffset,ae=X.endContainer,aa=X.endOffset;if(af===0){return v(Z,ad,t,ab)}if(af===1){return v(Y,ac,t,ab)}if(af===2){return v(Y,ac,ae,aa)}if(af===3){return v(Z,ad,ae,aa)}}function T(){P(N)}function x(){return P(U)}function H(){return P(s)}function q(Y){var t=this[L],aa=this[W],Z,X;if((t.nodeType===3||t.nodeType===4)&&t.nodeValue){if(!aa){t.parentNode.insertBefore(Y,t)}else{if(aa>=t.nodeValue.length){G.insertAfter(Y,t)}else{Z=t.splitText(aa);t.parentNode.insertBefore(Y,Z)}}}else{if(t.childNodes.length>0){X=t.childNodes[aa]}if(X){t.insertBefore(Y,X)}else{t.appendChild(Y)}}}function C(t){var X=D.extractContents();D.insertNode(t);t.appendChild(X);D.selectNode(t)}function A(){return O(new b(G),{startContainer:D[L],startOffset:D[W],endContainer:D[F],endOffset:D[n],collapsed:D.collapsed,commonAncestorContainer:D.commonAncestorContainer})}function E(Y,t){var X;if(Y.nodeType==3){return Y}if(t<0){return Y}X=Y.firstChild;while(X&&t>0){--t;X=X.nextSibling}if(X){return X}return Y}function Q(){return(D[L]==D[F]&&D[W]==D[n])}function v(ae,t,ac,af){var Y,ad,X,Z,ab,aa;if(ae==ac){if(t==af){return 0}if(t<af){return -1}return 1}Y=ac;while(Y&&Y.parentNode!=ae){Y=Y.parentNode}if(Y){ad=0;X=ae.firstChild;while(X!=Y&&ad<t){ad++;X=X.nextSibling}if(t<=ad){return -1}return 1}Y=ae;while(Y&&Y.parentNode!=ac){Y=Y.parentNode}if(Y){ad=0;X=ac.firstChild;while(X!=Y&&ad<af){ad++;X=X.nextSibling}if(ad<af){return -1}return 1}Z=G.findCommonAncestor(ae,ac);ab=ae;while(ab&&ab.parentNode!=Z){ab=ab.parentNode}if(!ab){ab=Z}aa=ac;while(aa&&aa.parentNode!=Z){aa=aa.parentNode}if(!aa){aa=Z}if(ab==aa){return 0}X=Z.firstChild;while(X){if(X==ab){return -1}if(X==aa){return 1}X=X.nextSibling}}function p(t,Y,Z){var aa,X;if(t){D[L]=Y;D[W]=Z}else{D[F]=Y;D[n]=Z}aa=D[F];while(aa.parentNode){aa=aa.parentNode}X=D[L];while(X.parentNode){X=X.parentNode}if(X==aa){if(v(D[L],D[W],D[F],D[n])>0){D.collapse(t)}}else{D.collapse(t)}D.collapsed=Q();D.commonAncestorContainer=G.findCommonAncestor(D[L],D[F])}function P(Z){var X,ae=0,ab=0,ac,t,ad,af,Y,aa;if(D[L]==D[F]){return J(Z)}for(X=D[F],ac=X.parentNode;ac;X=ac,ac=ac.parentNode){if(ac==D[L]){return g(X,Z)}++ae}for(X=D[L],ac=X.parentNode;ac;X=ac,ac=ac.parentNode){if(ac==D[F]){return V(X,Z)}++ab}t=ab-ae;ad=D[L];while(t>0){ad=ad.parentNode;t--}af=D[F];while(t<0){af=af.parentNode;t++}for(Y=ad.parentNode,aa=af.parentNode;Y!=aa;Y=Y.parentNode,aa=aa.parentNode){ad=Y;af=aa}return S(ad,af,Z)}function J(Y){var aa,ab,X,ad,ae,Z,af,ac,t;if(Y!=N){aa=k()}if(D[W]==D[n]){return aa}if(D[L].nodeType==3){ab=D[L].nodeValue;X=ab.substring(D[W],D[n]);if(Y!=s){ad=D[L];ac=D[W];t=D[n]-D[W];if(ac===0&&t>=ad.nodeValue.length-1){ad.parentNode.removeChild(ad)}else{ad.deleteData(ac,t)}D.collapse(r)}if(Y==N){return}if(X.length>0){aa.appendChild(I.createTextNode(X))}return aa}ad=E(D[L],D[W]);ae=D[n]-D[W];while(ad&&ae>0){Z=ad.nextSibling;af=m(ad,Y);if(aa){aa.appendChild(af)}--ae;ad=Z}if(Y!=s){D.collapse(r)}return aa}function g(ac,Y){var ab,aa,t,ad,Z,X;if(Y!=N){ab=k()}aa=M(ac,Y);if(ab){ab.appendChild(aa)}t=R(ac);ad=t-D[W];if(ad<=0){if(Y!=s){D.setEndBefore(ac);D.collapse(e)}return ab}aa=ac.previousSibling;while(ad>0){Z=aa.previousSibling;X=m(aa,Y);if(ab){ab.insertBefore(X,ab.firstChild)}--ad;aa=Z}if(Y!=s){D.setEndBefore(ac);D.collapse(e)}return ab}function V(aa,Y){var ac,t,ab,ad,Z,X;if(Y!=N){ac=k()}ab=c(aa,Y);if(ac){ac.appendChild(ab)}t=R(aa);++t;ad=D[n]-t;ab=aa.nextSibling;while(ab&&ad>0){Z=ab.nextSibling;X=m(ab,Y);if(ac){ac.appendChild(X)}--ad;ab=Z}if(Y!=s){D.setStartAfter(aa);D.collapse(r)}return ac}function S(t,X,aa){var ae,ac,ag,Y,Z,ad,ab,af;if(aa!=N){ac=k()}ae=c(t,aa);if(ac){ac.appendChild(ae)}ag=t.parentNode;Y=R(t);Z=R(X);++Y;ad=Z-Y;ab=t.nextSibling;while(ad>0){af=ab.nextSibling;ae=m(ab,aa);if(ac){ac.appendChild(ae)}ab=af;--ad}ae=M(X,aa);if(ac){ac.appendChild(ae)}if(aa!=s){D.setStartAfter(t);D.collapse(r)}return ac}function M(Y,Z){var ac=E(D[F],D[n]-1),aa,t,ae,X,ab,ad=ac!=D[F];if(ac==Y){return B(ac,ad,e,Z)}aa=ac.parentNode;t=B(aa,e,e,Z);while(aa){while(ac){ae=ac.previousSibling;X=B(ac,ad,e,Z);if(Z!=N){t.insertBefore(X,t.firstChild)}ad=r;ac=ae}if(aa==Y){return t}ac=aa.previousSibling;aa=aa.parentNode;ab=B(aa,e,e,Z);if(Z!=N){ab.appendChild(t)}t=ab}}function c(Y,Z){var ad=E(D[L],D[W]),ae=ad!=D[L],aa,t,ac,X,ab;if(ad==Y){return B(ad,ae,r,Z)}aa=ad.parentNode;t=B(aa,e,r,Z);while(aa){while(ad){ac=ad.nextSibling;X=B(ad,ae,r,Z);if(Z!=N){t.appendChild(X)}ae=r;ad=ac}if(aa==Y){return t}ad=aa.nextSibling;aa=aa.parentNode;ab=B(aa,e,r,Z);if(Z!=N){ab.appendChild(t)}t=ab}}function B(X,ae,Z,aa){var ad,ac,t,ab,Y;if(ae){return m(X,aa)}if(X.nodeType==3){ad=X.nodeValue;if(Z){ab=D[W];ac=ad.substring(ab);t=ad.substring(0,ab)}else{ab=D[n];ac=ad.substring(0,ab);t=ad.substring(ab)}if(aa!=s){X.nodeValue=t}if(aa==N){return}Y=G.clone(X,e);Y.nodeValue=ac;return Y}if(aa==N){return}return G.clone(X,e)}function m(t,X){if(X!=N){return X==s?G.clone(t,r):t}t.parentNode.removeChild(t)}function f(){return G.create("body",null,H()).outerText}return D}a.Range=b;b.prototype.toString=function(){return this.toStringIE()}})(tinymce.dom);(function(){function a(b){var d=this,g=b.dom,h=true,e=false;function c(q,r){var s,p=0,n,k,j,t,l,o,m=-1,i;s=q.duplicate();s.collapse(r);i=s.parentElement();if(i.ownerDocument!==b.dom.doc){return}while(i.contentEditable==="false"){i=i.parentNode}if(!i.hasChildNodes()){return{node:i,inside:1}}j=i.children;n=j.length-1;while(p<=n){o=Math.floor((p+n)/2);t=j[o];s.moveToElementText(t);m=s.compareEndPoints(r?"StartToStart":"EndToEnd",q);if(m>0){n=o-1}else{if(m<0){p=o+1}else{return{node:t}}}}if(m<0){if(!t){s.moveToElementText(i);s.collapse(true);t=i;k=true}else{s.collapse(false)}l=0;while(s.compareEndPoints(r?"StartToStart":"StartToEnd",q)!==0){if(s.move("character",1)===0||i!=s.parentElement()){break}l++}}else{s.collapse(true);l=0;while(s.compareEndPoints(r?"StartToStart":"StartToEnd",q)!==0){if(s.move("character",-1)===0||i!=s.parentElement()){break}l++}}return{node:t,position:m,offset:l,inside:k}}function f(){var o=b.getRng(),n=g.createRng(),r,q,l,m,i,p;r=o.item?o.item(0):o.parentElement();if(r.ownerDocument!=g.doc){return n}q=b.isCollapsed();if(o.item){n.setStart(r.parentNode,g.nodeIndex(r));n.setEnd(n.startContainer,n.startOffset+1);return n}function k(x){var s=c(o,x),z,u,v=0,y,t,A;z=s.node;u=s.offset;if(s.inside&&!z.hasChildNodes()){n[x?"setStart":"setEnd"](z,0);return}if(u===t){n[x?"setStartBefore":"setEndAfter"](z);return}if(s.position<0){y=s.inside?z.firstChild:z.nextSibling;if(!y){n[x?"setStartAfter":"setEndAfter"](z);return}if(!u){if(y.nodeType==3){n[x?"setStart":"setEnd"](y,0)}else{n[x?"setStartBefore":"setEndBefore"](y)}return}while(y){A=y.nodeValue;v+=A.length;if(v>=u){z=y;v-=u;v=A.length-v;break}y=y.nextSibling}}else{y=z.previousSibling;if(!y){return n[x?"setStartBefore":"setEndBefore"](z)}if(!u){if(z.nodeType==3){n[x?"setStart":"setEnd"](y,z.nodeValue.length)}else{n[x?"setStartAfter":"setEndAfter"](y)}return}while(y){v+=y.nodeValue.length;if(v>=u){z=y;v-=u;break}y=y.previousSibling}}n[x?"setStart":"setEnd"](z,v)}try{k(true);if(!q){k()}}catch(j){if(j.number==-2147024809){i=d.getBookmark(2);l=o.duplicate();l.collapse(true);r=l.parentElement();if(!q){l=o.duplicate();l.collapse(false);m=l.parentElement();m.innerHTML=m.innerHTML}r.innerHTML=r.innerHTML;d.moveToBookmark(i);o=b.getRng();k(true);if(!q){k()}}else{throw j}}return n}this.getBookmark=function(o){var k=b.getRng(),i,j,n={};function m(t){var r,q,p,u,s=[];r=t.parentNode;q=g.getRoot().parentNode;while(r!=q&&r.nodeType!==9){p=r.children;u=p.length;while(u--){if(t===p[u]){s.push(u);break}}t=r;r=r.parentNode}return s}function l(q){var p;p=c(k,q);if(p){return{position:p.position,offset:p.offset,indexes:m(p.node),inside:p.inside}}}if(o===2){if(!k.item){n.start=l(true);if(!b.isCollapsed()){n.end=l()}}else{n.start={ctrl:true,indexes:m(k.item(0))}}}return n};this.moveToBookmark=function(k){var j,i=g.doc.body;function m(o){var r,q,n,p;r=g.getRoot();for(q=o.length-1;q>=0;q--){p=r.children;n=o[q];if(n<=p.length-1){r=p[n]}}return r}function l(r){var n=k[r?"start":"end"],q,p,o;if(n){q=n.position>0;p=i.createTextRange();p.moveToElementText(m(n.indexes));offset=n.offset;if(offset!==o){p.collapse(n.inside||q);p.moveStart("character",q?-offset:offset)}else{p.collapse(r)}j.setEndPoint(r?"StartToStart":"EndToStart",p);if(r){j.collapse(true)}}}if(k.start){if(k.start.ctrl){j=i.createControlRange();j.addElement(m(k.start.indexes));j.select()}else{j=i.createTextRange();l(true);l();j.select()}}};this.addRange=function(l){var n,u,t,p,k,q,i,v=b.dom.doc,m=v.body,s,j;function r(z){var x,y,B,C,A;B=g.create("a");x=z?t:k;y=z?p:q;C=n.duplicate();if(x==v||x==v.documentElement){x=m;y=0}if(x.nodeType==3){x.parentNode.insertBefore(B,x);C.moveToElementText(B);C.moveStart("character",y);g.remove(B);n.setEndPoint(z?"StartToStart":"EndToEnd",C)}else{A=x.childNodes;if(A.length){if(y>=A.length){g.insertAfter(B,A[A.length-1])}else{x.insertBefore(B,A[y])}C.moveToElementText(B)}else{if(x.canHaveHTML){x.innerHTML="<span>\uFEFF</span>";B=x.firstChild;C.moveToElementText(B);C.collapse(e)}}n.setEndPoint(z?"StartToStart":"EndToEnd",C);g.remove(B)}}t=l.startContainer;p=l.startOffset;k=l.endContainer;q=l.endOffset;n=m.createTextRange();if(t==k&&t.nodeType==1){if(p==q&&!t.hasChildNodes()){if(t.canHaveHTML){i=t.previousSibling;if(i&&!i.hasChildNodes()&&g.isBlock(i)){i.innerHTML="\uFEFF"}else{i=null}t.innerHTML="<span>\uFEFF</span><span>\uFEFF</span>";n.moveToElementText(t.lastChild);n.select();g.doc.selection.clear();t.innerHTML="";if(i){i.innerHTML=""}return}else{p=g.nodeIndex(t);t=t.parentNode}}if(p==q-1){try{j=t.childNodes[p];u=m.createControlRange();u.addElement(j);u.select();s=b.getRng();if(s.item&&j===s.item(0)){return}}catch(o){}}}r(true);r();n.select()};this.getRangeAt=f}tinymce.dom.TridentSelection=a})();(function(){var p=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i="sizcache",q=0,t=Object.prototype.toString,h=false,g=true,s=/\\/g,k=/\r\n/g,x=/\W/;[0,0].sort(function(){g=false;return 0});var d=function(M,I,y,z){y=y||[];I=I||document;var B=I;if(I.nodeType!==1&&I.nodeType!==9){return[]}if(!M||typeof M!=="string"){return y}var F,D,J,E,C,H,G,e,L=true,K=d.isXML(I),N=[],A=M;do{p.exec("");F=p.exec(A);if(F){A=F[3];N.push(F[1]);if(F[2]){E=F[3];break}}}while(F);if(N.length>1&&j.exec(M)){if(N.length===2&&l.relative[N[0]]){D=u(N[0]+N[1],I,z)}else{D=l.relative[N[0]]?[I]:d(N.shift(),I);while(N.length){M=N.shift();if(l.relative[M]){M+=N.shift()}D=u(M,D,z)}}}else{if(!z&&N.length>1&&I.nodeType===9&&!K&&l.match.ID.test(N[0])&&!l.match.ID.test(N[N.length-1])){C=d.find(N.shift(),I,K);I=C.expr?d.filter(C.expr,C.set)[0]:C.set[0]}if(I){C=z?{expr:N.pop(),set:n(z)}:d.find(N.pop(),N.length===1&&(N[0]==="~"||N[0]==="+")&&I.parentNode?I.parentNode:I,K);D=C.expr?d.filter(C.expr,C.set):C.set;if(N.length>0){J=n(D)}else{L=false}while(N.length){H=N.pop();G=H;if(!l.relative[H]){H=""}else{G=N.pop()}if(G==null){G=I}l.relative[H](J,G,K)}}else{J=N=[]}}if(!J){J=D}if(!J){d.error(H||M)}if(t.call(J)==="[object Array]"){if(!L){y.push.apply(y,J)}else{if(I&&I.nodeType===1){for(e=0;J[e]!=null;e++){if(J[e]&&(J[e]===true||J[e].nodeType===1&&d.contains(I,J[e]))){y.push(D[e])}}}else{for(e=0;J[e]!=null;e++){if(J[e]&&J[e].nodeType===1){y.push(D[e])}}}}}else{n(J,y)}if(E){d(E,B,y,z);d.uniqueSort(y)}return y};d.uniqueSort=function(e){if(r){h=g;e.sort(r);if(h){for(var y=1;y<e.length;y++){if(e[y]===e[y-1]){e.splice(y--,1)}}}}return e};d.matches=function(y,e){return d(y,null,null,e)};d.matchesSelector=function(y,e){return d(e,null,null,[y]).length>0};d.find=function(e,B,y){var F,A,D,C,E,z;if(!e){return[]}for(A=0,D=l.order.length;A<D;A++){E=l.order[A];if((C=l.leftMatch[E].exec(e))){z=C[1];C.splice(1,1);if(z.substr(z.length-1)!=="\\"){C[1]=(C[1]||"").replace(s,"");F=l.find[E](C,B,y);if(F!=null){e=e.replace(l.match[E],"");break}}}}if(!F){F=typeof B.getElementsByTagName!=="undefined"?B.getElementsByTagName("*"):[]}return{set:F,expr:e}};d.filter=function(B,A,F,L){var N,I,z,J,D,E,K,M,C,G=B,H=[],y=A,e=A&&A[0]&&d.isXML(A[0]);while(B&&A.length){for(z in l.filter){if((N=l.leftMatch[z].exec(B))!=null&&N[2]){E=l.filter[z];K=N[1];I=false;N.splice(1,1);if(K.substr(K.length-1)==="\\"){continue}if(y===H){H=[]}if(l.preFilter[z]){N=l.preFilter[z](N,y,F,H,L,e);if(!N){I=J=true}else{if(N===true){continue}}}if(N){for(M=0;(D=y[M])!=null;M++){if(D){J=E(D,N,M,y);C=L^J;if(F&&J!=null){if(C){I=true}else{y[M]=false}}else{if(C){H.push(D);I=true}}}}}if(J!==undefined){if(!F){y=H}B=B.replace(l.match[z],"");if(!I){return[]}break}}}if(B===G){if(I==null){d.error(B)}else{break}}G=B}return y};d.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var b=d.getText=function(z){var B,y,e=z.nodeType,A="";if(e){if(e===1||e===9||e===11){if(typeof z.textContent==="string"){return z.textContent}else{if(typeof z.innerText==="string"){return z.innerText.replace(k,"")}else{for(z=z.firstChild;z;z=z.nextSibling){A+=b(z)}}}}else{if(e===3||e===4){return z.nodeValue}}}else{for(B=0;(y=z[B]);B++){if(y.nodeType!==8){A+=b(y)}}}return A};var l=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(D,z){var y=typeof z==="string",B=y&&!x.test(z),e=y&&!B;if(B){z=z.toLowerCase()}for(var C=0,E=D.length,A;C<E;C++){if((A=D[C])){while((A=A.previousSibling)&&A.nodeType!==1){}D[C]=e||A&&A.nodeName.toLowerCase()===z?A||false:A===z}}if(e){d.filter(z,D,true)}},">":function(D,z){var B,A=typeof z==="string",C=0,e=D.length;if(A&&!x.test(z)){z=z.toLowerCase();for(;C<e;C++){B=D[C];if(B){var y=B.parentNode;D[C]=y.nodeName.toLowerCase()===z?y:false}}}else{for(;C<e;C++){B=D[C];if(B){D[C]=A?B.parentNode:B.parentNode===z}}if(A){d.filter(z,D,true)}}},"":function(y,z,B){var A,C=q++,e=v;if(typeof z==="string"&&!x.test(z)){z=z.toLowerCase();A=z;e=a}e("parentNode",z,C,y,A,B)},"~":function(y,z,B){var A,C=q++,e=v;if(typeof z==="string"&&!x.test(z)){z=z.toLowerCase();A=z;e=a}e("previousSibling",z,C,y,A,B)}},find:{ID:function(z,A,y){if(typeof A.getElementById!=="undefined"&&!y){var e=A.getElementById(z[1]);return e&&e.parentNode?[e]:[]}},NAME:function(B,C){if(typeof C.getElementsByName!=="undefined"){var z=[],A=C.getElementsByName(B[1]);for(var y=0,e=A.length;y<e;y++){if(A[y].getAttribute("name")===B[1]){z.push(A[y])}}return z.length===0?null:z}},TAG:function(y,e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName(y[1])}}},preFilter:{CLASS:function(y,z,B,D,E,e){y=" "+y[1].replace(s,"")+" ";if(e){return y}for(var A=0,C;(C=z[A])!=null;A++){if(C){if(E^(C.className&&(" "+C.className+" ").replace(/[\t\n\r]/g," ").indexOf(y)>=0)){if(!B){D.push(C)}}else{if(B){z[A]=false}}}}return false},ID:function(e){return e[1].replace(s,"")},TAG:function(e,y){return e[1].replace(s,"").toLowerCase()},CHILD:function(y){if(y[1]==="nth"){if(!y[2]){d.error(y[0])}y[2]=y[2].replace(/^\+|\s*/g,"");var e=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(y[2]==="even"&&"2n"||y[2]==="odd"&&"2n+1"||!/\D/.test(y[2])&&"0n+"+y[2]||y[2]);y[2]=(e[1]+(e[2]||1))-0;y[3]=e[3]-0}else{if(y[2]){d.error(y[0])}}y[0]=q++;return y},ATTR:function(z,A,B,D,C,e){var y=z[1]=z[1].replace(s,"");if(!e&&l.attrMap[y]){z[1]=l.attrMap[y]}z[4]=(z[4]||z[5]||"").replace(s,"");if(z[2]==="~="){z[4]=" "+z[4]+" "}return z},PSEUDO:function(z,A,B,e,C){if(z[1]==="not"){if((p.exec(z[3])||"").length>1||/^\w/.test(z[3])){z[3]=d(z[3],null,null,A)}else{var y=d.filter(z[3],A,B,true^C);if(!B){e.push.apply(e,y)}return false}}else{if(l.match.POS.test(z[0])||l.match.CHILD.test(z[0])){return true}}return z},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(e,z,y){return !!d(y[3],e).length},header:function(e){return(/h\d/i).test(e.nodeName)},text:function(e){var y=e.getAttribute("type"),z=e.type;return e.nodeName.toLowerCase()==="input"&&"text"===z&&(y===z||y===null)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(e){var y=e.nodeName.toLowerCase();return(y==="input"||y==="button")&&"submit"===e.type},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type},reset:function(e){var y=e.nodeName.toLowerCase();return(y==="input"||y==="button")&&"reset"===e.type},button:function(e){var y=e.nodeName.toLowerCase();return y==="input"&&"button"===e.type||y==="button"},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,y){return y===0},last:function(A,z,e,y){return z===y.length-1},even:function(e,y){return y%2===0},odd:function(e,y){return y%2===1},lt:function(e,z,y){return z<y[3]-0},gt:function(e,z,y){return z>y[3]-0},nth:function(e,z,y){return y[3]-0===z},eq:function(e,z,y){return y[3]-0===z}},filter:{PSEUDO:function(A,e,F,y){var B=e[1],z=l.filters[B];if(z){return z(A,F,e,y)}else{if(B==="contains"){return(A.textContent||A.innerText||b([A])||"").indexOf(e[3])>=0}else{if(B==="not"){var C=e[3];for(var E=0,D=C.length;E<D;E++){if(C[E]===A){return false}}return true}else{d.error(B)}}}},CHILD:function(C,F){var E,A,H,z,D,G,y,e=F[1],B=C;switch(e){case"only":case"first":while((B=B.previousSibling)){if(B.nodeType===1){return false}}if(e==="first"){return true}B=C;case"last":while((B=B.nextSibling)){if(B.nodeType===1){return false}}return true;case"nth":E=F[2];A=F[3];if(E===1&&A===0){return true}H=F[0];z=C.parentNode;if(z&&(z[i]!==H||!C.nodeIndex)){G=0;for(B=z.firstChild;B;B=B.nextSibling){if(B.nodeType===1){B.nodeIndex=++G}}z[i]=H}y=C.nodeIndex-A;if(E===0){return y===0}else{return(y%E===0&&y/E>=0)}}},ID:function(e,y){return e.nodeType===1&&e.getAttribute("id")===y},TAG:function(e,y){return(y==="*"&&e.nodeType===1)||!!e.nodeName&&e.nodeName.toLowerCase()===y},CLASS:function(e,y){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(y)>-1},ATTR:function(B,y){var C=y[1],D=d.attr?d.attr(B,C):l.attrHandle[C]?l.attrHandle[C](B):B[C]!=null?B[C]:B.getAttribute(C),e=D+"",z=y[2],A=y[4];return D==null?z==="!=":!z&&d.attr?D!=null:z==="="?e===A:z==="*="?e.indexOf(A)>=0:z==="~="?(" "+e+" ").indexOf(A)>=0:!A?e&&D!==false:z==="!="?e!==A:z==="^="?e.indexOf(A)===0:z==="$="?e.substr(e.length-A.length)===A:z==="|="?e===A||e.substr(0,A.length+1)===A+"-":false},POS:function(z,A,B,C){var e=A[2],y=l.setFilters[e];if(y){return y(z,B,A,C)}}}};var j=l.match.POS,c=function(e,y){return"\\"+(y-0+1)};for(var f in l.match){l.match[f]=new RegExp(l.match[f].source+(/(?![^\[]*\])(?![^\(]*\))/.source));l.leftMatch[f]=new RegExp(/(^(?:.|\r|\n)*?)/.source+l.match[f].source.replace(/\\(\d+)/g,c))}l.match.globalPOS=j;var n=function(e,y){e=Array.prototype.slice.call(e,0);if(y){y.push.apply(y,e);return y}return e};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(m){n=function(z,y){var B=0,A=y||[];if(t.call(z)==="[object Array]"){Array.prototype.push.apply(A,z)}else{if(typeof z.length==="number"){for(var e=z.length;B<e;B++){A.push(z[B])}}else{for(;z[B];B++){A.push(z[B])}}}return A}}var r,o;if(document.documentElement.compareDocumentPosition){r=function(e,y){if(e===y){h=true;return 0}if(!e.compareDocumentPosition||!y.compareDocumentPosition){return e.compareDocumentPosition?-1:1}return e.compareDocumentPosition(y)&4?-1:1}}else{r=function(y,e){if(y===e){h=true;return 0}else{if(y.sourceIndex&&e.sourceIndex){return y.sourceIndex-e.sourceIndex}}var F,A,B=[],C=[],E=y.parentNode,G=e.parentNode,z=E;if(E===G){return o(y,e)}else{if(!E){return -1}else{if(!G){return 1}}}while(z){B.unshift(z);z=z.parentNode}z=G;while(z){C.unshift(z);z=z.parentNode}F=B.length;A=C.length;for(var D=0;D<F&&D<A;D++){if(B[D]!==C[D]){return o(B[D],C[D])}}return D===F?o(y,C[D],-1):o(B[D],e,1)};o=function(z,e,A){if(z===e){return A}var y=z.nextSibling;while(y){if(y===e){return -1}y=y.nextSibling}return 1}}(function(){var z=document.createElement("div"),e="script"+(new Date()).getTime(),y=document.documentElement;z.innerHTML="<a name='"+e+"'/>";y.insertBefore(z,y.firstChild);if(document.getElementById(e)){l.find.ID=function(A,B,C){if(typeof B.getElementById!=="undefined"&&!C){var D=B.getElementById(A[1]);return D?D.id===A[1]||typeof D.getAttributeNode!=="undefined"&&D.getAttributeNode("id").nodeValue===A[1]?[D]:undefined:[]}};l.filter.ID=function(B,C){var A=typeof B.getAttributeNode!=="undefined"&&B.getAttributeNode("id");return B.nodeType===1&&A&&A.nodeValue===C}}y.removeChild(z);y=z=null})();(function(){var e=document.createElement("div");e.appendChild(document.createComment(""));if(e.getElementsByTagName("*").length>0){l.find.TAG=function(z,B){var A=B.getElementsByTagName(z[1]);if(z[1]==="*"){var y=[];for(var C=0;A[C];C++){if(A[C].nodeType===1){y.push(A[C])}}A=y}return A}}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){l.attrHandle.href=function(y){return y.getAttribute("href",2)}}e=null})();if(document.querySelectorAll){(function(){var e=d,y=document.createElement("div"),A="__sizzle__";y.innerHTML="<p class='TEST'></p>";if(y.querySelectorAll&&y.querySelectorAll(".TEST").length===0){return}d=function(I,M,D,H){M=M||document;if(!H&&!d.isXML(M)){var G=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(I);if(G&&(M.nodeType===1||M.nodeType===9)){if(G[1]){return n(M.getElementsByTagName(I),D)}else{if(G[2]&&l.find.CLASS&&M.getElementsByClassName){return n(M.getElementsByClassName(G[2]),D)}}}if(M.nodeType===9){if(I==="body"&&M.body){return n([M.body],D)}else{if(G&&G[3]){var C=M.getElementById(G[3]);if(C&&C.parentNode){if(C.id===G[3]){return n([C],D)}}else{return n([],D)}}}try{return n(M.querySelectorAll(I),D)}catch(E){}}else{if(M.nodeType===1&&M.nodeName.toLowerCase()!=="object"){var N=M,B=M.getAttribute("id"),L=B||A,K=M.parentNode,J=/^\s*[+~]/.test(I);if(!B){M.setAttribute("id",L)}else{L=L.replace(/'/g,"\\$&")}if(J&&K){M=M.parentNode}try{if(!J||K){return n(M.querySelectorAll("[id='"+L+"'] "+I),D)}}catch(F){}finally{if(!B){N.removeAttribute("id")}}}}}return e(I,M,D,H)};for(var z in e){d[z]=e[z]}y=null})()}(function(){var e=document.documentElement,B=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(B){var z=!B.call(document.createElement("div"),"div"),A=false;try{B.call(document.documentElement,"[test!='']:sizzle")}catch(y){A=true}d.matchesSelector=function(D,F){F=F.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!d.isXML(D)){try{if(A||!l.match.PSEUDO.test(F)&&!/!=/.test(F)){var C=B.call(D,F);if(C||!z||D.document&&D.document.nodeType!==11){return C}}}catch(E){}}return d(F,null,null,[D]).length>0}}})();(function(){var e=document.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0){return}e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return}l.order.splice(1,0,"CLASS");l.find.CLASS=function(z,A,y){if(typeof A.getElementsByClassName!=="undefined"&&!y){return A.getElementsByClassName(z[1])}};e=null})();function a(A,G,F,z,e,y){for(var D=0,B=z.length;D<B;D++){var C=z[D];if(C){var E=false;C=C[A];while(C){if(C[i]===F){E=z[C.sizset];break}if(C.nodeType===1&&!y){C[i]=F;C.sizset=D}if(C.nodeName.toLowerCase()===G){E=C;break}C=C[A]}z[D]=E}}}function v(A,G,F,z,e,y){for(var D=0,B=z.length;D<B;D++){var C=z[D];if(C){var E=false;C=C[A];while(C){if(C[i]===F){E=z[C.sizset];break}if(C.nodeType===1){if(!y){C[i]=F;C.sizset=D}if(typeof G!=="string"){if(C===G){E=true;break}}else{if(d.filter(G,[C]).length>0){E=C;break}}}C=C[A]}z[D]=E}}}if(document.documentElement.contains){d.contains=function(e,y){return e!==y&&(e.contains?e.contains(y):true)}}else{if(document.documentElement.compareDocumentPosition){d.contains=function(e,y){return !!(e.compareDocumentPosition(y)&16)}}else{d.contains=function(){return false}}}d.isXML=function(y){var e=(y?y.ownerDocument||y:0).documentElement;return e?e.nodeName!=="HTML":false};var u=function(A,B,F){var E,e=[],D="",y=B.nodeType?[B]:B;while((E=l.match.PSEUDO.exec(A))){D+=E[0];A=A.replace(l.match.PSEUDO,"")}A=l.relative[A]?A+"*":A;for(var C=0,z=y.length;C<z;C++){d(A,y[C],e,F)}return d.filter(D,e)};window.tinymce.dom.Sizzle=d})();(function(a){a.dom.Element=function(f,d){var b=this,e,c;b.settings=d=d||{};b.id=f;b.dom=e=d.dom||a.DOM;if(!a.isIE){c=e.get(b.id)}a.each(("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get").split(/,/),function(g){b[g]=function(){var h=[f],i;for(i=0;i<arguments.length;i++){h.push(arguments[i])}h=e[g].apply(e,h);b.update(g);return h}});a.extend(b,{on:function(i,h,g){return a.dom.Event.add(b.id,i,h,g)},getXY:function(){return{x:parseInt(b.getStyle("left")),y:parseInt(b.getStyle("top"))}},getSize:function(){var g=e.get(b.id);return{w:parseInt(b.getStyle("width")||g.clientWidth),h:parseInt(b.getStyle("height")||g.clientHeight)}},moveTo:function(g,h){b.setStyles({left:g,top:h})},moveBy:function(g,i){var h=b.getXY();b.moveTo(h.x+g,h.y+i)},resizeTo:function(g,h){b.setStyles({width:g,height:h})},resizeBy:function(g,i){var h=b.getSize();b.resizeTo(h.w+g,h.h+i)},update:function(h){var g;if(a.isIE6&&d.blocker){h=h||"";if(h.indexOf("get")===0||h.indexOf("has")===0||h.indexOf("is")===0){return}if(h=="remove"){e.remove(b.blocker);return}if(!b.blocker){b.blocker=e.uniqueId();g=e.add(d.container||e.getRoot(),"iframe",{id:b.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'});e.setStyle(g,"opacity",0)}else{g=e.get(b.blocker)}e.setStyles(g,{left:b.getStyle("left",1),top:b.getStyle("top",1),width:b.getStyle("width",1),height:b.getStyle("height",1),display:b.getStyle("display",1),zIndex:parseInt(b.getStyle("zIndex",1)||0)-1})}}})}})(tinymce);(function(b){function d(g){return g.replace(/[\n\r]+/g,"")}var a=b.is,f=b.isIE,c=b.each,e=b.dom.TreeWalker;b.create("tinymce.dom.Selection",{Selection:function(h,g,k,j){var i=this;i.dom=h;i.win=g;i.serializer=k;i.editor=j;c(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(l){i[l]=new b.util.Dispatcher(i)});if(!i.win.getSelection){i.tridentSel=new b.dom.TridentSelection(i)}if(b.isIE&&!b.isIE11&&h.boxModel){this._fixIESelection()}b.addUnload(i.destroy,i)},setCursorLocation:function(g,h){var i=this;var j=i.dom.createRng();j.setStart(g,h);j.setEnd(g,h);i.setRng(j);i.collapse(false)},getContent:function(i){var o=this,k=o.getRng(),h=o.dom.create("body"),m=o.getSel(),l,g,j;i=i||{};l=g="";i.get=true;i.format=i.format||"html";i.forced_root_block="";o.onBeforeGetContent.dispatch(o,i);if(i.format=="text"){return o.isCollapsed()?"":(k.text||(m.toString?m.toString():""))}if(k.cloneContents){j=k.cloneContents();if(j){h.appendChild(j)}}else{if(a(k.item)||a(k.htmlText)){h.innerHTML="<br>"+(k.item?k.item(0).outerHTML:k.htmlText);h.removeChild(h.firstChild)}else{h.innerHTML=k.toString()}}if(/^\s/.test(h.innerHTML)){l=" "}if(/\s+$/.test(h.innerHTML)){g=" "}i.getInner=true;i.content=o.isCollapsed()?"":l+o.serializer.serialize(h,i)+g;o.onGetContent.dispatch(o,i);return i.content},setContent:function(h,j){var o=this,g=o.getRng(),k,l=o.win.document,n,m;j=j||{format:"html"};j.set=true;h=j.content=h;if(!j.no_events){o.onBeforeSetContent.dispatch(o,j)}h=j.content;if(g.insertNode){h+='<span id="__caret">_</span>';if(g.startContainer==l&&g.endContainer==l){l.body.innerHTML=h}else{g.deleteContents();if(l.body.childNodes.length===0){l.body.innerHTML=h}else{if(g.createContextualFragment){g.insertNode(g.createContextualFragment(h))}else{n=l.createDocumentFragment();m=l.createElement("div");n.appendChild(m);m.outerHTML=h;g.insertNode(n)}}}k=o.dom.get("__caret");g=l.createRange();g.setStartBefore(k);g.setEndBefore(k);o.setRng(g);o.dom.remove("__caret");try{o.setRng(g)}catch(i){}}else{if(g.item){l.execCommand("Delete",false,null);g=o.getRng()}if(/^\s+/.test(h)){g.pasteHTML('<span id="__mce_tmp">_</span>'+h);o.dom.remove("__mce_tmp")}else{g.pasteHTML(h)}}if(!j.no_events){o.onSetContent.dispatch(o,j)}},getStart:function(){var k=this,j=k.getRng(),l,i,h,g;if(j.duplicate||j.item){if(j.item){return j.item(0)}h=j.duplicate();h.collapse(1);l=h.parentElement();if(l.ownerDocument!==k.dom.doc){l=k.dom.getRoot()}i=g=j.parentElement();while(g=g.parentNode){if(g==l){l=i;break}}return l}else{l=j.startContainer;if(l.nodeType==1&&l.hasChildNodes()){l=l.childNodes[Math.min(l.childNodes.length-1,j.startOffset)]}if(l&&l.nodeType==3){return l.parentNode}return l}},getEnd:function(){var j=this,i=j.getRng(),h,g;if(i.duplicate||i.item){if(i.item){return i.item(0)}i=i.duplicate();i.collapse(0);h=i.parentElement();if(h.ownerDocument!==j.dom.doc){h=j.dom.getRoot()}if(h&&h.nodeName=="BODY"){return h.lastChild||h}return h}else{h=i.endContainer;g=i.endOffset;if(h.nodeType==1&&h.hasChildNodes()){h=h.childNodes[g>0?g-1:g]}if(h&&h.nodeType==3){return h.parentNode}return h}},getBookmark:function(r,u){var y=this,l=y.dom,h,o,j,m,i,n,p,k="\uFEFF",x;function g(z,t){var A=0;c(l.select(z),function(C,B){if(C==t){A=B}});return A}function s(t){function z(D){var E,C,B,A=D?"start":"end";E=t[A+"Container"];C=t[A+"Offset"];if(E.nodeType==1&&E.nodeName=="TR"){B=E.childNodes;E=B[Math.min(D?C:C-1,B.length-1)];if(E){C=D?0:E.childNodes.length;t["set"+(D?"Start":"End")](E,C)}}}z(true);z();return t}function v(){var A=y.getRng(true),B=l.getRoot(),t={};function z(C,I){var J=C[I?"startContainer":"endContainer"],H=C[I?"startOffset":"endOffset"],D=[],E,G,F=0;if(J.nodeType==3){if(u){for(E=J.previousSibling;E&&E.nodeType==3;E=E.previousSibling){H+=E.nodeValue.length}}D.push(H)}else{G=J.childNodes;if(H>=G.length&&G.length){F=1;H=Math.max(0,G.length-1)}D.push(y.dom.nodeIndex(G[H],u)+F)}for(;J&&J!=B;J=J.parentNode){D.push(y.dom.nodeIndex(J,u))}return D}t.start=z(A,true);if(!y.isCollapsed()){t.end=z(A)}return t}if(r==2){if(y.tridentSel){return y.tridentSel.getBookmark(r)}return v()}if(r){h=y.getRng();if(h.setStart){h={startContainer:h.startContainer,startOffset:h.startOffset,endContainer:h.endContainer,endOffset:h.endOffset}}return{rng:h}}h=y.getRng();j=l.uniqueId();m=tinyMCE.activeEditor.selection.isCollapsed();x="overflow:hidden;line-height:0px";if(h.duplicate||h.item){if(!h.item){o=h.duplicate();try{h.collapse();h.pasteHTML('<span data-mce-type="bookmark" id="'+j+'_start" style="'+x+'">'+k+"</span>");if(!m){o.collapse(false);h.moveToElementText(o.parentElement());if(h.compareEndPoints("StartToEnd",o)===0){o.move("character",-1)}o.pasteHTML('<span data-mce-type="bookmark" id="'+j+'_end" style="'+x+'">'+k+"</span>")}}catch(q){return null}}else{n=h.item(0);i=n.nodeName;return{name:i,index:g(i,n)}}}else{n=y.getNode();i=n.nodeName;if(i=="IMG"){return{name:i,index:g(i,n)}}o=s(h.cloneRange());if(!m){o.collapse(false);o.insertNode(l.create("span",{"data-mce-type":"bookmark",id:j+"_end",style:x},k))}h=s(h);h.collapse(true);h.insertNode(l.create("span",{"data-mce-type":"bookmark",id:j+"_start",style:x},k))}y.moveToBookmark({id:j,keep:1});return{id:j}},moveToBookmark:function(q){var x=this,l=x.dom,v,o,h,j,u,p,g,r,s;function i(A){var C=q[A?"start":"end"],B,t,y,z;if(C){y=C[0];for(t=u,B=C.length-1;B>=1;B--){z=t.childNodes;if(C[B]>z.length-1){return}t=z[C[B]]}if(t.nodeType===3){y=Math.min(C[0],t.nodeValue.length)}if(t.nodeType===1){y=Math.min(C[0],t.childNodes.length)}if(A){h.setStart(t,y)}else{h.setEnd(t,y)}}return true}function k(C){var y=l.get(q.id+"_"+C),A,D,t,z,B=q.keep;if(y){A=y.parentNode;if(C=="start"){if(!B){D=l.nodeIndex(y)}else{A=y.firstChild;D=1}p=g=A;r=s=D}else{if(!B){D=l.nodeIndex(y)}else{A=y.firstChild;D=1}g=A;s=D}if(!B){z=y.previousSibling;t=y.nextSibling;c(b.grep(y.childNodes),function(E){if(E.nodeType==3){E.nodeValue=E.nodeValue.replace(/\uFEFF/g,"")}});while(y=l.get(q.id+"_"+C)){l.remove(y,1)}if(z&&t&&z.nodeType==t.nodeType&&z.nodeType==3&&!b.isOpera){D=z.nodeValue.length;z.appendData(t.nodeValue);l.remove(t);if(C=="start"){p=g=z;r=s=D}else{g=z;s=D}}}}}function m(t){if(l.isBlock(t)&&!t.innerHTML&&!f){t.innerHTML='<br data-mce-bogus="1" />'}return t}if(q){if(q.start){h=l.createRng();u=l.getRoot();if(x.tridentSel){return x.tridentSel.moveToBookmark(q)}if(i(true)&&i()){x.setRng(h)}}else{if(q.id){k("start");k("end");if(p){h=l.createRng();h.setStart(m(p),r);h.setEnd(m(g),s);x.setRng(h)}}else{if(q.name){x.select(l.select(q.name)[q.index])}else{if(q.rng){h=q.rng;if(h.startContainer){j=x.dom.createRng();try{j.setStart(h.startContainer,h.startOffset);j.setEnd(h.endContainer,h.endOffset)}catch(n){}h=j}x.setRng(h)}}}}}},select:function(g,m){var k=this,h=k.dom,i=h.createRng(),l;function j(o,n){var p=new e(o,o);do{if(o.nodeType==3&&b.trim(o.nodeValue).length!==0){if(n){i.setStart(o,0)}else{i.setEnd(o,o.nodeValue.length)}return}if(o.nodeName=="BR"){if(n){i.setStartBefore(o)}else{i.setEndBefore(o)}return}}while(o=(n?p.next():p.prev()))}if(g){l=h.nodeIndex(g);i.setStart(g.parentNode,l);i.setEnd(g.parentNode,l+1);if(m){j(g,1);j(g)}k.setRng(i)}return g},isCollapsed:function(){var i=this,h=i.getRng(),g=i.getSel();if(!h||h.item){return false}if(h.compareEndPoints){return h.compareEndPoints("StartToEnd",h)===0}return !g||h.collapsed},collapse:function(i){var g=this,j=g.getRng(),h;if(j.item){h=j.item(0);j=g.win.document.body.createTextRange();j.moveToElementText(h)}j.collapse(!!i);g.setRng(j)},getSel:function(){var h=this,g=this.win;return g.getSelection?g.getSelection():g.document.selection},getRng:function(h){var i=this,k,m,g,l=i.win.document;if(i.fakeRng){return i.fakeRng}if(h&&i.tridentSel){return i.tridentSel.getRangeAt(0)}try{if(k=i.getSel()){m=k.rangeCount>0?k.getRangeAt(0):(k.createRange?k.createRange():l.createRange())}}catch(j){}if(b.isIE&&!b.isIE11&&m&&m.setStart&&l.selection.createRange().item){g=l.selection.createRange().item(0);m=l.createRange();m.setStartBefore(g);m.setEndAfter(g)}if(!m){m=l.createRange?l.createRange():l.body.createTextRange()}if(m.setStart&&m.startContainer.nodeType===9&&m.collapsed){g=i.dom.getRoot();m.setStart(g,0);m.setEnd(g,0)}if(i.selectedRange&&i.explicitRange){if(m.compareBoundaryPoints(m.START_TO_START,i.selectedRange)===0&&m.compareBoundaryPoints(m.END_TO_END,i.selectedRange)===0){m=i.explicitRange}else{i.selectedRange=null;i.explicitRange=null}}return m},setRng:function(h,i){var g,k=this;if(!k.tridentSel){g=k.getSel();if(g){k.explicitRange=h;try{g.removeAllRanges()}catch(j){}g.addRange(h);if(i===false&&g.extend){g.collapse(h.endContainer,h.endOffset);g.extend(h.startContainer,h.startOffset)}k.selectedRange=g.rangeCount>0?g.getRangeAt(0):null}}else{if(h.cloneRange){try{k.tridentSel.addRange(h);return}catch(j){}}try{h.select()}catch(j){}}},setNode:function(h){var g=this;g.setContent(g.dom.getOuterHTML(h));return h},getNode:function(){var j=this,i=j.getRng(),k=j.getSel(),h,g=i.startContainer,m=i.endContainer;function l(n,o){var p=n;while(n&&n.nodeType===3&&n.length===0){n=o?n.nextSibling:n.previousSibling}return n||p}if(!i){return j.dom.getRoot()}if(i.setStart){h=i.commonAncestorContainer;if(!i.collapsed){if(i.startContainer==i.endContainer){if(i.endOffset-i.startOffset<2){if(i.startContainer.hasChildNodes()){h=i.startContainer.childNodes[i.startOffset]}}}if(g.nodeType===3&&m.nodeType===3){if(g.length===i.startOffset){g=l(g.nextSibling,true)}else{g=g.parentNode}if(i.endOffset===0){m=l(m.previousSibling,false)}else{m=m.parentNode}if(g&&g===m){return g}}}if(h&&h.nodeType==3){return h.parentNode}return h}return i.item?i.item(0):i.parentElement()},getSelectedBlocks:function(p,h){var o=this,k=o.dom,m,l,i,j=[];m=k.getParent(p||o.getStart(),k.isBlock);l=k.getParent(h||o.getEnd(),k.isBlock);if(m){j.push(m)}if(m&&l&&m!=l){i=m;var g=new e(m,k.getRoot());while((i=g.next())&&i!=l){if(k.isBlock(i)){j.push(i)}}}if(l&&m!=l){j.push(l)}return j},isForward:function(){var g=this.dom,i=this.getSel(),h,j;if(!i||i.anchorNode==null||i.focusNode==null){return true}h=g.createRng();h.setStart(i.anchorNode,i.anchorOffset);h.collapse(true);j=g.createRng();j.setStart(i.focusNode,i.focusOffset);j.collapse(true);return h.compareBoundaryPoints(h.START_TO_START,j)<=0},normalize:function(){var i=this,m,h,g,k,j;function l(q){var p,r,o,t=i.dom,v=t.getRoot(),s,u,x;function n(A,B){var z=new e(A,t.getParent(A.parentNode,t.isBlock)||v);while(A=z[B?"prev":"next"]()){if(A.nodeName==="BR"){return true}}}function y(z,A){var B,C;A=A||p;B=new e(A,t.getParent(A.parentNode,t.isBlock)||v);while(s=B[z?"prev":"next"]()){if(s.nodeType===3&&s.nodeValue.length>0){p=s;r=z?s.nodeValue.length:0;h=true;return}if(t.isBlock(s)||u[s.nodeName.toLowerCase()]){return}C=s}if(g&&C){p=C;h=true;r=0}}p=m[(q?"start":"end")+"Container"];r=m[(q?"start":"end")+"Offset"];u=t.schema.getNonEmptyElements();if(p.nodeType===9){p=t.getRoot();r=0}if(p===v){if(q){s=p.childNodes[r>0?r-1:0];if(s){x=s.nodeName.toLowerCase();if(u[s.nodeName]||s.nodeName=="TABLE"){return}}}if(p.hasChildNodes()){p=p.childNodes[Math.min(!q&&r>0?r-1:r,p.childNodes.length-1)];r=0;if(p.hasChildNodes()&&!/TABLE/.test(p.nodeName)){s=p;o=new e(p,v);do{if(s.nodeType===3&&s.nodeValue.length>0){r=q?0:s.nodeValue.length;p=s;h=true;break}if(u[s.nodeName.toLowerCase()]){r=t.nodeIndex(s);p=s.parentNode;if(s.nodeName=="IMG"&&!q){r++}h=true;break}}while(s=(q?o.next():o.prev()))}}}if(g){if(p.nodeType===3&&r===0){y(true)}if(p.nodeType===1){s=p.childNodes[r];if(s&&s.nodeName==="BR"&&!n(s)&&!n(s,true)){y(true,p.childNodes[r])}}}if(q&&!g&&p.nodeType===3&&r===p.nodeValue.length){y(false)}if(h){m["set"+(q?"Start":"End")](p,r)}}if(b.isIE){return}m=i.getRng();g=m.collapsed;l(true);if(!g){l()}if(h){if(g){m.collapse(true)}i.setRng(m,i.isForward())}},selectorChanged:function(i,h){var j=this,g;if(!j.selectorChangedData){j.selectorChangedData={};g={};j.editor.onNodeChange.addToTop(function(o,n,l){var m=j.dom,p=m.getParents(l,null,m.getRoot()),k={};c(j.selectorChangedData,function(q,r){c(p,function(s){if(m.is(s,r)){if(!g[r]){c(q,function(t){t(true,{node:s,selector:r,parents:p})});g[r]=q}k[r]=q;return false}})});c(g,function(q,r){if(!k[r]){delete g[r];c(q,function(s){s(false,{node:l,selector:r,parents:p})})}})})}if(!j.selectorChangedData[i]){j.selectorChangedData[i]=[]}j.selectorChangedData[i].push(h);return j},scrollIntoView:function(h){var g,j,i=this,k=i.dom;j=k.getViewPort(i.editor.getWin());g=k.getPos(h).y;if(g<j.y||g+25>j.y+j.h){i.editor.getWin().scrollTo(0,g<j.y?g:g-j.h+25)}},destroy:function(h){var g=this;g.win=null;if(!h){b.removeUnload(g.destroy)}},_fixIESelection:function(){var h=this.dom,n=h.doc,i=n.body,k,o,g;function j(q,p){var r=i.createTextRange();try{r.moveToPoint(q,p)}catch(s){r=null}return r}function m(p){var q;if(p.button){q=j(p.x,p.y);if(q){if(q.compareEndPoints("StartToStart",o)>0){q.setEndPoint("StartToStart",o)}else{q.setEndPoint("EndToEnd",o)}q.select()}}else{l()}}function l(){var p=n.selection.createRange();if(o&&!p.item&&p.compareEndPoints("StartToEnd",p)===0){o.select()}h.unbind(n,"mouseup",l);h.unbind(n,"mousemove",m);o=k=0}n.documentElement.unselectable=true;h.bind(n,["mousedown","contextmenu"],function(p){if(p.target.nodeName==="HTML"){if(k){l()}g=n.documentElement;if(g.scrollHeight>g.clientHeight){return}k=1;o=j(p.x,p.y);if(o){h.bind(n,"mouseup",l);h.bind(n,"mousemove",m);h.win.focus();o.select()}}})}})})(tinymce);(function(a){a.dom.Serializer=function(i,f,b){var e,d,h=a.isIE,c=a.each,g;if(!i.apply_source_formatting){i.indent=false}f=f||a.DOM;b=b||new a.html.Schema(i);i.entity_encoding=i.entity_encoding||"named";i.remove_trailing_brs="remove_trailing_brs" in i?i.remove_trailing_brs:true;e=new a.util.Dispatcher(self);d=new a.util.Dispatcher(self);g=new a.html.DomParser(i,b);g.addAttributeFilter("src,href,style",function(r,q){var m=r.length,j,o,l="data-mce-"+q,n=i.url_converter,p=i.url_converter_scope,k;while(m--){j=r[m];o=j.attributes.map[l];if(o!==k){j.attr(q,o.length>0?o:null);j.attr(l,null)}else{o=j.attributes.map[q];if(q==="style"){o=f.serializeStyle(f.parseStyle(o),j.name)}else{if(n){o=n.call(p,o,q,j.name)}}j.attr(q,o.length>0?o:null)}}});g.addAttributeFilter("class",function(k,l){var m=k.length,n,j;while(m--){n=k[m];j=n.attr("class").replace(/(?:^|\s)mce(Item\w+|Selected)(?!\S)/g,"");n.attr("class",j.length>0?j:null)}});g.addAttributeFilter("data-mce-type",function(k,m,l){var n=k.length,j;while(n--){j=k[n];if(j.attributes.map["data-mce-type"]==="bookmark"&&!l.cleanup){j.remove()}}});g.addAttributeFilter("data-mce-expando",function(j,l,k){var m=j.length;while(m--){j[m].attr(l,null)}});g.addNodeFilter("noscript",function(j){var k=j.length,l;while(k--){l=j[k].firstChild;if(l){l.value=a.html.Entities.decode(l.value)}}});g.addNodeFilter("script,style",function(m,n){var o=m.length,j,k;function l(p){return p.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}while(o--){j=m[o];k=j.firstChild?j.firstChild.value:"";if(n==="script"){j.attr("type",(j.attr("type")||"text/javascript").replace(/^mce\-/,""));if(k.length>0){j.firstChild.value="// <![CDATA[\n"+l(k)+"\n// ]]>"}}else{if(k.length>0){j.firstChild.value="<!--\n"+l(k)+"\n-->"}}}});g.addNodeFilter("#comment",function(j,k){var l=j.length,m;while(l--){m=j[l];if(m.value.indexOf("[CDATA[")===0){m.name="#cdata";m.type=4;m.value=m.value.replace(/^\[CDATA\[|\]\]$/g,"")}else{if(m.value.indexOf("mce:protected ")===0){m.name="#text";m.type=3;m.raw=true;m.value=unescape(m.value).substr(14)}}}});g.addNodeFilter("xml:namespace,input",function(j,k){var l=j.length,m;while(l--){m=j[l];if(m.type===7){m.remove()}else{if(m.type===1){if(k==="input"&&!("type" in m.attributes.map)){m.attr("type","text")}}}}});if(i.fix_list_elements){g.addNodeFilter("ul,ol",function(l,m){var n=l.length,j,k;while(n--){j=l[n];k=j.parent;if(k.name==="ul"||k.name==="ol"){if(j.prev&&j.prev.name==="li"){j.prev.append(j)}}}})}g.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style",function(j,k){var l=j.length;while(l--){j[l].attr(k,null)}});return{schema:b,addNodeFilter:g.addNodeFilter,addAttributeFilter:g.addAttributeFilter,onPreProcess:e,onPostProcess:d,serialize:function(k,p){var o,l,n,m,j;if(h&&f.select("script,style,select,map").length>0){j=k.innerHTML;k=k.cloneNode(false);f.setHTML(k,j)}else{k=k.cloneNode(true)}o=k.ownerDocument.implementation;if(o.createHTMLDocument){l=o.createHTMLDocument("");c(k.nodeName=="BODY"?k.childNodes:[k],function(q){l.body.appendChild(l.importNode(q,true))});if(k.nodeName!="BODY"){k=l.body.firstChild}else{k=l.body}n=f.doc;f.doc=l}p=p||{};p.format=p.format||"html";if(!p.no_events){p.node=k;e.dispatch(self,p)}m=new a.html.Serializer(i,b);p.content=m.serialize(g.parse(a.trim(p.getInner?k.innerHTML:f.getOuterHTML(k)),p));if(!p.cleanup){p.content=p.content.replace(/\uFEFF/g,"")}if(!p.no_events){d.dispatch(self,p)}if(n){f.doc=n}p.node=null;return p.content},addRules:function(j){b.addValidElements(j)},setRules:function(j){b.setValidElements(j)}}}})(tinymce);(function(a){a.dom.ScriptLoader=function(d){var j=0,g=1,e=2,h={},f=[],l={},k=[],c=0,b;function i(q,o){var p=this,u=a.DOM,m,s,v,r;function t(){u.remove(r);if(m){m.onreadystatechange=m.onload=m=null}o()}function n(){if(typeof(console)!=="undefined"&&console.log){console.log("Failed to load: "+q)}}r=u.uniqueId();if(a.isIE6){s=new a.util.URI(q);v=location;if(s.host==v.hostname&&s.port==v.port&&(s.protocol+":")==v.protocol&&s.protocol.toLowerCase()!="file"){a.util.XHR.send({url:a._addVer(s.getURI()),success:function(A){var y=u.create("script",{type:"text/javascript"});y.text=A;document.getElementsByTagName("head")[0].appendChild(y);u.remove(y);t()},error:n});return}}m=document.createElement("script");m.id=r;m.type="text/javascript";m.src=a._addVer(q);if(!a.isIE||a.isIE11){m.onload=t}m.onerror=n;if(!a.isOpera){m.onreadystatechange=function(){var y=m.readyState;if(y=="complete"||y=="loaded"){t()}}}(document.getElementsByTagName("head")[0]||document.body).appendChild(m)}this.isDone=function(m){return h[m]==e};this.markDone=function(m){h[m]=e};this.add=this.load=function(q,p,m){var n,o=h[q];if(o==b){f.push(q);h[q]=j}if(p){if(!l[q]){l[q]=[]}l[q].push({func:p,scope:m||this})}};this.loadQueue=function(m,n){this.loadScripts(f,m,n)};this.loadScripts=function(q,p,o){var n;function m(r){a.each(l[r],function(s){s.func.call(s.scope)});l[r]=b}k.push({func:p,scope:o||this});n=function(){var r=a.grep(q);q.length=0;a.each(r,function(s){if(h[s]==e){m(s);return}if(h[s]!=g){h[s]=g;c++;i(s,function(){h[s]=e;c--;m(s);n()})}});if(!c){a.each(k,function(s){s.func.call(s.scope)});k.length=0}};n()}};a.ScriptLoader=new a.dom.ScriptLoader()})(tinymce);(function(a){a.dom.RangeUtils=function(c){var b="\uFEFF";this.walk=function(n,k){var d=n.startContainer,g=n.startOffset,m=n.endContainer,i=n.endOffset,e,s,l,t,h,r,p;p=c.select("td.mceSelected,th.mceSelected");if(p.length>0){a.each(p,function(u){k([u])});return}function q(u){var v;v=u[0];if(v.nodeType===3&&v===d&&g>=v.nodeValue.length){u.splice(0,1)}v=u[u.length-1];if(i===0&&u.length>0&&v===m&&v.nodeType===3){u.splice(u.length-1,1)}return u}function o(y,x,v){var u=[];for(;y&&y!=v;y=y[x]){u.push(y)}return u}function j(v,u){do{if(v.parentNode==u){return v}v=v.parentNode}while(v)}function f(y,x,u){var v=u?"nextSibling":"previousSibling";for(t=y,h=t.parentNode;t&&t!=x;t=h){h=t.parentNode;r=o(t==y?t:t[v],v);if(r.length){if(!u){r.reverse()}k(q(r))}}}if(d.nodeType==1&&d.hasChildNodes()){d=d.childNodes[g]}if(m.nodeType==1&&m.hasChildNodes()){m=m.childNodes[Math.min(i-1,m.childNodes.length-1)]}if(d==m){return k(q([d]))}e=c.findCommonAncestor(d,m);for(t=d;t;t=t.parentNode){if(t===m){return f(d,e,true)}if(t===e){break}}for(t=m;t;t=t.parentNode){if(t===d){return f(m,e)}if(t===e){break}}s=j(d,e)||d;l=j(m,e)||m;f(d,s,true);r=o(s==d?s:s.nextSibling,"nextSibling",l==m?l.nextSibling:l);if(r.length){k(q(r))}f(m,l)};this.split=function(d){var g=d.startContainer,i=d.startOffset,h=d.endContainer,f=d.endOffset;function e(j,k){return j.splitText(k)}if(g==h&&g.nodeType==3){if(i>0&&i<g.nodeValue.length){h=e(g,i);g=h.previousSibling;if(f>i){f=f-i;g=h=e(h,f).previousSibling;f=h.nodeValue.length;i=0}else{f=0}}}else{if(g.nodeType==3&&i>0&&i<g.nodeValue.length){g=e(g,i);i=0}if(h.nodeType==3&&f>0&&f<h.nodeValue.length){h=e(h,f).previousSibling;f=h.nodeValue.length}}return{startContainer:g,startOffset:i,endContainer:h,endOffset:f}}};a.dom.RangeUtils.compareRanges=function(c,b){if(c&&b){if(c.item||c.duplicate){if(c.item&&b.item&&c.item(0)===b.item(0)){return true}if(c.isEqual&&b.isEqual&&b.isEqual(c)){return true}}else{return c.startContainer==b.startContainer&&c.startOffset==b.startOffset}}return false}})(tinymce);(function(c){var b=c.dom.Event,a=c.each;c.create("tinymce.ui.KeyboardNavigation",{KeyboardNavigation:function(f,g){var l=this,d=f.root,q=f.items,i=f.enableUpDown,m=f.enableLeftRight||!f.enableUpDown,p=f.excludeFromTabOrder,o,k,j,e,h;g=g||c.DOM;o=function(r){h=r.target.id};k=function(r){g.setAttrib(r.target.id,"tabindex","-1")};e=function(r){var s=g.get(h);g.setAttrib(s,"tabindex","0");s.focus()};l.focus=function(){g.get(h).focus()};l.destroy=function(){a(q,function(s){var t=g.get(s.id);g.unbind(t,"focus",o);g.unbind(t,"blur",k)});var r=g.get(d);g.unbind(r,"focus",e);g.unbind(r,"keydown",j);q=g=d=l.focus=o=k=j=e=null;l.destroy=function(){}};l.moveFocus=function(v,s){var r=-1,u=l.controls,t;if(!h){return}a(q,function(x,y){if(x.id===h){r=y;return false}});r+=v;if(r<0){r=q.length-1}else{if(r>=q.length){r=0}}t=q[r];g.setAttrib(h,"tabindex","-1");g.setAttrib(t.id,"tabindex","0");g.get(t.id).focus();if(f.actOnFocus){f.onAction(t.id)}if(s){b.cancel(s)}};j=function(y){var u=37,t=39,x=38,z=40,A=27,s=14,r=13,v=32;switch(y.keyCode){case u:if(m){l.moveFocus(-1)}b.cancel(y);break;case t:if(m){l.moveFocus(1)}b.cancel(y);break;case x:if(i){l.moveFocus(-1)}b.cancel(y);break;case z:if(i){l.moveFocus(1)}b.cancel(y);break;case A:if(f.onCancel){f.onCancel();b.cancel(y)}break;case s:case r:case v:if(f.onAction){f.onAction(h);b.cancel(y)}break}};a(q,function(t,r){var s,u;if(!t.id){t.id=g.uniqueId("_mce_item_")}u=g.get(t.id);if(p){g.bind(u,"blur",k);s="-1"}else{s=(r===0?"0":"-1")}u.setAttribute("tabindex",s);g.bind(u,"focus",o)});if(q[0]){h=q[0].id}g.setAttrib(d,"tabindex","-1");var n=g.get(d);g.bind(n,"focus",e);g.bind(n,"keydown",j)}})})(tinymce);(function(a){var c=a.DOM,b=a.is;a.create("tinymce.ui.Control",{Control:function(e,d,f){this.id=e;this.settings=d=d||{};this.rendered=false;this.onRender=new a.util.Dispatcher(this);this.classPrefix="";this.scope=d.scope||this;this.disabled=0;this.active=0;this.editor=f},setAriaProperty:function(e,d){var f=c.get(this.id+"_aria")||c.get(this.id);if(f){c.setAttrib(f,"aria-"+e,!!d)}},focus:function(){c.get(this.id).focus()},setDisabled:function(d){if(d!=this.disabled){this.setAriaProperty("disabled",d);this.setState("Disabled",d);this.setState("Enabled",!d);this.disabled=d}},isDisabled:function(){return this.disabled},setActive:function(d){if(d!=this.active){this.setState("Active",d);this.active=d;this.setAriaProperty("pressed",d)}},isActive:function(){return this.active},setState:function(e,f){var d=c.get(this.id);e=this.classPrefix+e;if(f){c.addClass(d,e)}else{c.removeClass(d,e)}},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(d){c.setHTML(d,this.renderHTML())},postRender:function(){var e=this,d;if(b(e.disabled)){d=e.disabled;e.disabled=-1;e.setDisabled(d)}if(b(e.active)){d=e.active;e.active=-1;e.setActive(d)}},remove:function(){c.remove(this.id);this.destroy()},destroy:function(){a.dom.Event.clear(this.id)}})})(tinymce);tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(a,c,b){this.parent(a,c,b);this.controls=[];this.lookup={}},add:function(a){this.lookup[a.id]=a;this.controls.push(a);return a},get:function(a){return this.lookup[a]}});tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(b,a){this.parent(b,a);this.classPrefix="mceSeparator";this.setDisabled(true)},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix,role:"separator","aria-orientation":"vertical",tabindex:"-1"})}});(function(b){var a=b.is,e=b.DOM,c=b.each,d=b.walk;b.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(g,f){this.parent(g,f);this.classPrefix="mceMenuItem"},setSelected:function(f){this.setState("Selected",f);this.setAriaProperty("checked",!!f);this.selected=f},isSelected:function(){return this.selected},postRender:function(){var f=this;f.parent();if(a(f.selected)){f.setSelected(f.selected)}}})})(tinymce);(function(b){var a=b.is,e=b.DOM,c=b.each,d=b.walk;b.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(g,f){var h=this;h.parent(g,f);h.items={};h.collapsed=false;h.menuCount=0;h.onAddItem=new b.util.Dispatcher(this)},expand:function(g){var f=this;if(g){d(f,function(h){if(h.expand){h.expand()}},"items",f)}f.collapsed=false},collapse:function(g){var f=this;if(g){d(f,function(h){if(h.collapse){h.collapse()}},"items",f)}f.collapsed=true},isCollapsed:function(){return this.collapsed},add:function(f){if(!f.settings){f=new b.ui.MenuItem(f.id||e.uniqueId(),f)}this.onAddItem.dispatch(this,f);return this.items[f.id]=f},addSeparator:function(){return this.add({separator:true})},addMenu:function(f){if(!f.collapse){f=this.createMenu(f)}this.menuCount++;return this.add(f)},hasMenus:function(){return this.menuCount!==0},remove:function(f){delete this.items[f.id]},removeAll:function(){var f=this;d(f,function(g){if(g.removeAll){g.removeAll()}else{g.remove()}g.destroy()},"items",f);f.items={}},createMenu:function(g){var f=new b.ui.Menu(g.id||e.uniqueId(),g);f.onAddItem.add(this.onAddItem.dispatch,this.onAddItem);return f}})})(tinymce);(function(c){var b=c.is,a=c.DOM,d=c.each,e=c.dom.Event,f=c.dom.Element;c.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(h,g){g=g||{};g.container=g.container||a.doc.body;g.offset_x=g.offset_x||0;g.offset_y=g.offset_y||0;g.vp_offset_x=g.vp_offset_x||0;g.vp_offset_y=g.vp_offset_y||0;if(b(g.icons)&&!g.icons){g["class"]+=" mceNoIcons"}this.parent(h,g);this.onShowMenu=new c.util.Dispatcher(this);this.onHideMenu=new c.util.Dispatcher(this);this.classPrefix="mceMenu"},createMenu:function(h){var j=this,g=j.settings,i;h.container=h.container||g.container;h.parent=j;h.constrain=h.constrain||g.constrain;h["class"]=h["class"]||g["class"];h.vp_offset_x=h.vp_offset_x||g.vp_offset_x;h.vp_offset_y=h.vp_offset_y||g.vp_offset_y;h.keyboard_focus=g.keyboard_focus;i=new c.ui.DropMenu(h.id||a.uniqueId(),h);i.onAddItem.add(j.onAddItem.dispatch,j.onAddItem);return i},focus:function(){var g=this;if(g.keyboardNav){g.keyboardNav.focus()}},update:function(){var k=this,l=k.settings,i=a.get("menu_"+k.id+"_tbl"),h=a.get("menu_"+k.id+"_co"),j,g;j=l.max_width?Math.min(i.offsetWidth,l.max_width):i.offsetWidth;g=l.max_height?Math.min(i.offsetHeight,l.max_height):i.offsetHeight;if(!a.boxModel){k.element.setStyles({width:j+2,height:g+2})}else{k.element.setStyles({width:j,height:g})}if(l.max_width){a.setStyle(h,"width",j)}if(l.max_height){a.setStyle(h,"height",g);if(i.clientHeight<l.max_height){a.setStyle(h,"overflow","hidden")}}},showMenu:function(m,j,q){var g=this,k=g.settings,l,h=a.getViewPort(),u,r,z,o,i=2,p,n,v=g.classPrefix;g.collapse(1);if(g.isMenuVisible){return}if(!g.rendered){l=a.add(g.settings.container,g.renderNode());d(g.items,function(s){s.postRender()});g.element=new f("menu_"+g.id,{blocker:1,container:k.container})}else{l=a.get("menu_"+g.id)}if(!c.isOpera){a.setStyles(l,{left:-65535,top:-65535})}a.show(l);g.update();m+=k.offset_x||0;j+=k.offset_y||0;h.w-=4;h.h-=4;if(k.constrain){u=l.clientWidth-i;r=l.clientHeight-i;z=h.x+h.w;o=h.y+h.h;if((m+k.vp_offset_x+u)>z){m=q?q-u:Math.max(0,(z-k.vp_offset_x)-u)}if((j+k.vp_offset_y+r)>o){j=Math.max(0,(o-k.vp_offset_y)-r)}}a.setStyles(l,{left:m,top:j});g.element.update();g.isMenuVisible=1;g.mouseClickFunc=e.add(l,"click",function(t){var s;t=t.target;if(t&&(t=a.getParent(t,"tr"))&&!a.hasClass(t,v+"ItemSub")){s=g.items[t.id];if(s.isDisabled()){return}p=g;while(p){if(p.hideMenu){p.hideMenu()}p=p.settings.parent}if(s.settings.onclick){s.settings.onclick(t)}return false}});if(g.hasMenus()){g.mouseOverFunc=e.add(l,"mouseover",function(s){var t,y,x;s=s.target;if(s&&(s=a.getParent(s,"tr"))){t=g.items[s.id];if(g.lastMenu){g.lastMenu.collapse(1)}if(t.isDisabled()){return}if(s&&a.hasClass(s,v+"ItemSub")){y=a.getRect(s);t.showMenu((y.x+y.w-i),y.y-i,y.x);g.lastMenu=t;a.addClass(a.get(t.id).firstChild,v+"ItemActive")}}})}e.add(l,"keydown",g._keyHandler,g);g.onShowMenu.dispatch(g);if(k.keyboard_focus){g._setupKeyboardNav()}},hideMenu:function(h){var i=this,g=a.get("menu_"+i.id),j;if(!i.isMenuVisible){return}if(i.keyboardNav){i.keyboardNav.destroy()}e.remove(g,"mouseover",i.mouseOverFunc);e.remove(g,"click",i.mouseClickFunc);e.remove(g,"keydown",i._keyHandler);a.hide(g);i.isMenuVisible=0;if(!h){i.collapse(1)}if(i.element){i.element.hide()}if(j=a.get(i.id)){a.removeClass(j.firstChild,i.classPrefix+"ItemActive")}i.onHideMenu.dispatch(i)},add:function(h){var i=this,g;h=i.parent(h);if(i.isRendered&&(g=a.get("menu_"+i.id))){i._add(a.select("tbody",g)[0],h)}return h},collapse:function(g){this.parent(g);this.hideMenu(1)},remove:function(g){a.remove(g.id);this.destroy();return this.parent(g)},destroy:function(){var g=this,h=a.get("menu_"+g.id);if(g.keyboardNav){g.keyboardNav.destroy()}e.remove(h,"mouseover",g.mouseOverFunc);e.remove(a.select("a",h),"focus",g.mouseOverFunc);e.remove(h,"click",g.mouseClickFunc);e.remove(h,"keydown",g._keyHandler);if(g.element){g.element.remove()}a.remove(h)},renderNode:function(){var k=this,l=k.settings,h,j,g,i;i=a.create("div",{role:"listbox",id:"menu_"+k.id,"class":l["class"],style:"position:absolute;left:0;top:0;z-index:200000;outline:0"});if(k.settings.parent){a.setAttrib(i,"aria-parent","menu_"+k.settings.parent.id)}g=a.add(i,"div",{role:"presentation",id:"menu_"+k.id+"_co","class":k.classPrefix+(l["class"]?" "+l["class"]:"")});k.element=new f("menu_"+k.id,{blocker:1,container:l.container});if(l.menu_line){a.add(g,"span",{"class":k.classPrefix+"Line"})}h=a.add(g,"table",{role:"presentation",id:"menu_"+k.id+"_tbl",border:0,cellPadding:0,cellSpacing:0});j=a.add(h,"tbody");d(k.items,function(m){k._add(j,m)});k.rendered=true;return i},_setupKeyboardNav:function(){var h,g,i=this;h=a.get("menu_"+i.id);g=a.select("a[role=option]","menu_"+i.id);g.splice(0,0,h);i.keyboardNav=new c.ui.KeyboardNavigation({root:"menu_"+i.id,items:g,onCancel:function(){i.hideMenu()},enableUpDown:true});h.focus()},_keyHandler:function(i){var g=this,h;switch(i.keyCode){case 37:if(g.settings.parent){g.hideMenu();g.settings.parent.focus();e.cancel(i)}break;case 39:if(g.mouseOverFunc){g.mouseOverFunc(i)}break}},_add:function(j,h){var i,q=h.settings,p,l,k,m=this.classPrefix,g;if(q.separator){l=a.add(j,"tr",{id:h.id,"class":m+"ItemSeparator"});a.add(l,"td",{"class":m+"ItemSeparator"});if(i=l.previousSibling){a.addClass(i,"mceLast")}return}i=l=a.add(j,"tr",{id:h.id,"class":m+"Item "+m+"ItemEnabled"});i=k=a.add(i,q.titleItem?"th":"td");i=p=a.add(i,"a",{id:h.id+"_aria",role:q.titleItem?"presentation":"option",href:"javascript:;",onclick:"return false;",onmousedown:"return false;"});if(q.parent){a.setAttrib(p,"aria-haspopup","true");a.setAttrib(p,"aria-owns","menu_"+h.id)}a.addClass(k,q["class"]);g=a.add(i,"span",{"class":"mceIcon"+(q.icon?" mce_"+q.icon:"")});if(q.icon_src){a.add(g,"img",{src:q.icon_src})}i=a.add(i,q.element||"span",{"class":"mceText",title:h.settings.title},h.settings.title);if(h.settings.style){if(typeof h.settings.style=="function"){h.settings.style=h.settings.style()}a.setAttrib(i,"style",h.settings.style)}if(j.childNodes.length==1){a.addClass(l,"mceFirst")}if((i=l.previousSibling)&&a.hasClass(i,m+"ItemSeparator")){a.addClass(l,"mceFirst")}if(h.collapse){a.addClass(l,m+"ItemSub")}if(i=l.previousSibling){a.removeClass(i,"mceLast")}a.addClass(l,"mceLast")}})})(tinymce);(function(b){var a=b.DOM;b.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(d,c,e){this.parent(d,c,e);this.classPrefix="mceButton"},renderHTML:function(){var d=this.classPrefix,c=this.settings,f,e;e=a.encode(c.label||"");f='<a role="button" id="'+this.id+'" href="javascript:;" class="'+d+" "+d+"Enabled "+c["class"]+(e?" "+d+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" aria-labelledby="'+this.id+'_voice" title="'+a.encode(c.title)+'">';if(c.image&&!(this.editor&&this.editor.forcedHighContrastMode)){f+='<span class="mceIcon '+c["class"]+'"><img class="mceIcon" src="'+c.image+'" alt="'+a.encode(c.title)+'" /></span>'+(e?'<span class="'+d+'Label">'+e+"</span>":"")}else{f+='<span class="mceIcon '+c["class"]+'"></span>'+(e?'<span class="'+d+'Label">'+e+"</span>":"")}f+='<span class="mceVoiceLabel mceIconOnly" style="display: none;" id="'+this.id+'_voice">'+c.title+"</span>";f+="</a>";return f},postRender:function(){var c=this,d=c.settings,e;if(b.isIE&&c.editor){b.dom.Event.add(c.id,"mousedown",function(f){var g=c.editor.selection.getNode().nodeName;e=g==="IMG"?c.editor.selection.getBookmark():null})}b.dom.Event.add(c.id,"click",function(f){if(!c.isDisabled()){if(b.isIE&&c.editor&&e!==null){c.editor.selection.moveToBookmark(e)}return d.onclick.call(d.scope,f)}});b.dom.Event.add(c.id,"keydown",function(f){if(!c.isDisabled()&&f.keyCode==b.VK.SPACEBAR){b.dom.Event.cancel(f);return d.onclick.call(d.scope,f)}})}})})(tinymce);(function(c){var b=c.DOM,f=c.dom.Event,d=c.each,e=c.util.Dispatcher,a;c.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(h,g,i){var j=this;j.parent(h,g,i);j.items=[];j.onChange=new e(j);j.onPostRender=new e(j);j.onAdd=new e(j);j.onRenderMenu=new c.util.Dispatcher(this);j.classPrefix="mceListBox";j.marked={}},select:function(j){var i=this,h,g;i.marked={};if(j==a){return i.selectByIndex(-1)}if(j&&typeof(j)=="function"){g=j}else{g=function(k){return k==j}}if(j!=i.selectedValue){d(i.items,function(l,k){if(g(l.value)){h=1;i.selectByIndex(k);return false}});if(!h){i.selectByIndex(-1)}}},selectByIndex:function(i){var k=this,g,h,j;k.marked={};if(i!=k.selectedIndex){g=b.get(k.id+"_text");j=b.get(k.id+"_voiceDesc");h=k.items[i];if(h){k.selectedValue=h.value;k.selectedIndex=i;b.setHTML(g,b.encode(h.title));b.setHTML(j,k.settings.title+" - "+h.title);b.removeClass(g,"mceTitle");b.setAttrib(k.id,"aria-valuenow",h.title)}else{b.setHTML(g,b.encode(k.settings.title));b.setHTML(j,b.encode(k.settings.title));b.addClass(g,"mceTitle");k.selectedValue=k.selectedIndex=null;b.setAttrib(k.id,"aria-valuenow",k.settings.title)}g=0}},mark:function(g){this.marked[g]=true},add:function(h,i,g){var j=this;g=g||{};g=c.extend(g,{title:h,value:i});j.items.push(g);j.onAdd.dispatch(j,g)},getLength:function(){return this.items.length},renderHTML:function(){var g="",i=this,j=i.settings,h=i.classPrefix;g='<span role="listbox" aria-haspopup="true" aria-labelledby="'+i.id+'_voiceDesc" aria-describedby="'+i.id+'_voiceDesc"><table role="presentation" tabindex="0" id="'+i.id+'" cellpadding="0" cellspacing="0" class="'+h+" "+h+"Enabled"+(j["class"]?(" "+j["class"]):"")+'"><tbody><tr>';g+="<td>"+b.createHTML("span",{id:i.id+"_voiceDesc","class":"voiceLabel",style:"display:none;"},i.settings.title);g+=b.createHTML("a",{id:i.id+"_text",tabindex:-1,href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},b.encode(i.settings.title))+"</td>";g+="<td>"+b.createHTML("a",{id:i.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},'<span><span style="display:none;" class="mceIconOnly" aria-hidden="true">\u25BC</span></span>')+"</td>";g+="</tr></tbody></table></span>";return g},showMenu:function(){var j=this,h,g=b.get(this.id),i;if(j.isDisabled()||j.items.length===0){return}if(j.menu&&j.menu.isMenuVisible){return j.hideMenu()}if(!j.isMenuRendered){j.renderMenu();j.isMenuRendered=true}h=b.getPos(g);i=j.menu;i.settings.offset_x=h.x;i.settings.offset_y=h.y;i.settings.keyboard_focus=!c.isOpera;d(j.items,function(k){if(i.items[k.id]){i.items[k.id].setSelected(0)}});d(j.items,function(k){if(i.items[k.id]&&j.marked[k.value]){i.items[k.id].setSelected(1)}if(k.value===j.selectedValue){i.items[k.id].setSelected(1)}});i.showMenu(0,g.clientHeight);f.add(b.doc,"mousedown",j.hideMenu,j);b.addClass(j.id,j.classPrefix+"Selected")},hideMenu:function(h){var g=this;if(g.menu&&g.menu.isMenuVisible){b.removeClass(g.id,g.classPrefix+"Selected");if(h&&h.type=="mousedown"&&(h.target.id==g.id+"_text"||h.target.id==g.id+"_open")){return}if(!h||!b.getParent(h.target,".mceMenu")){b.removeClass(g.id,g.classPrefix+"Selected");f.remove(b.doc,"mousedown",g.hideMenu,g);g.menu.hideMenu()}}},renderMenu:function(){var h=this,g;g=h.settings.control_manager.createDropMenu(h.id+"_menu",{menu_line:1,"class":h.classPrefix+"Menu mceNoIcons",max_width:250,max_height:150});g.onHideMenu.add(function(){h.hideMenu();h.focus()});g.add({title:h.settings.title,"class":"mceMenuItemTitle",onclick:function(){if(h.settings.onselect("")!==false){h.select("")}}});d(h.items,function(i){if(i.value===a){g.add({title:i.title,role:"option","class":"mceMenuItemTitle",onclick:function(){if(h.settings.onselect("")!==false){h.select("")}}})}else{i.id=b.uniqueId();i.role="option";i.onclick=function(){if(h.settings.onselect(i.value)!==false){h.select(i.value)}};g.add(i)}});h.onRenderMenu.dispatch(h,g);h.menu=g},postRender:function(){var g=this,h=g.classPrefix;f.add(g.id,"click",g.showMenu,g);f.add(g.id,"keydown",function(i){if(i.keyCode==32){g.showMenu(i);f.cancel(i)}});f.add(g.id,"focus",function(){if(!g._focused){g.keyDownHandler=f.add(g.id,"keydown",function(i){if(i.keyCode==40){g.showMenu();f.cancel(i)}});g.keyPressHandler=f.add(g.id,"keypress",function(j){var i;if(j.keyCode==13){i=g.selectedValue;g.selectedValue=null;f.cancel(j);g.settings.onselect(i)}})}g._focused=1});f.add(g.id,"blur",function(){f.remove(g.id,"keydown",g.keyDownHandler);f.remove(g.id,"keypress",g.keyPressHandler);g._focused=0});if(c.isIE6||!b.boxModel){f.add(g.id,"mouseover",function(){if(!b.hasClass(g.id,h+"Disabled")){b.addClass(g.id,h+"Hover")}});f.add(g.id,"mouseout",function(){if(!b.hasClass(g.id,h+"Disabled")){b.removeClass(g.id,h+"Hover")}})}g.onPostRender.dispatch(g,b.get(g.id))},destroy:function(){this.parent();f.clear(this.id+"_text");f.clear(this.id+"_open")}})})(tinymce);(function(c){var b=c.DOM,f=c.dom.Event,d=c.each,e=c.util.Dispatcher,a;c.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(h,g){this.parent(h,g);this.classPrefix="mceNativeListBox"},setDisabled:function(g){b.get(this.id).disabled=g;this.setAriaProperty("disabled",g)},isDisabled:function(){return b.get(this.id).disabled},select:function(j){var i=this,h,g;if(j==a){return i.selectByIndex(-1)}if(j&&typeof(j)=="function"){g=j}else{g=function(k){return k==j}}if(j!=i.selectedValue){d(i.items,function(l,k){if(g(l.value)){h=1;i.selectByIndex(k);return false}});if(!h){i.selectByIndex(-1)}}},selectByIndex:function(g){b.get(this.id).selectedIndex=g+1;this.selectedValue=this.items[g]?this.items[g].value:null},add:function(h,j,i){var g,k=this;i=i||{};i.value=j;if(k.isRendered()){b.add(b.get(this.id),"option",i,h)}g={title:h,value:j,attribs:i};k.items.push(g);k.onAdd.dispatch(k,g)},getLength:function(){return this.items.length},renderHTML:function(){var h,g=this;h=b.createHTML("option",{value:""},"-- "+g.settings.title+" --");d(g.items,function(i){h+=b.createHTML("option",{value:i.value},i.title)});h=b.createHTML("select",{id:g.id,"class":"mceNativeListBox","aria-labelledby":g.id+"_aria"},h);h+=b.createHTML("span",{id:g.id+"_aria",style:"display: none"},g.settings.title);return h},postRender:function(){var j=this,g,h=true;j.rendered=true;function i(l){var k=j.items[l.target.selectedIndex-1];if(k&&(k=k.value)){j.onChange.dispatch(j,k);if(j.settings.onselect){j.settings.onselect(k)}}}f.add(j.id,"change",i);f.add(j.id,"keydown",function(m){var r,l=37,q=39,p=38,n=40,o=13,k=32;f.remove(j.id,"change",g);h=false;r=f.add(j.id,"blur",function(){if(h){return}h=true;f.add(j.id,"change",i);f.remove(j.id,"blur",r)});if(m.keyCode==o||m.keyCode==k){i(m);return f.cancel(m)}else{if(m.keyCode==n||m.keyCode==p){m.stopImmediatePropagation()}}});j.onPostRender.dispatch(j,b.get(j.id))}})})(tinymce);(function(a){var d=a.DOM,c=a.dom.Event,b=a.each;a.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(f,e,g){this.parent(f,e,g);this.onRenderMenu=new a.util.Dispatcher(this);e.menu_container=e.menu_container||d.doc.body},showMenu:function(){var h=this,f,e,i=d.get(h.id),g;if(h.isDisabled()){return}if(!h.isMenuRendered){h.renderMenu();h.isMenuRendered=true}if(h.isMenuVisible){return h.hideMenu()}f=d.getPos(h.settings.menu_container);e=d.getPos(i);g=h.menu;g.settings.offset_x=e.x;g.settings.offset_y=e.y;g.settings.vp_offset_x=e.x;g.settings.vp_offset_y=e.y;g.settings.keyboard_focus=h._focused;g.showMenu(0,i.firstChild.clientHeight);c.add(d.doc,"mousedown",h.hideMenu,h);h.setState("Selected",1);h.isMenuVisible=1},renderMenu:function(){var f=this,e;e=f.settings.control_manager.createDropMenu(f.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:f.settings.icons});e.onHideMenu.add(function(){f.hideMenu();f.focus()});f.onRenderMenu.dispatch(f,e);f.menu=e},hideMenu:function(f){var e=this;if(f&&f.type=="mousedown"&&d.getParent(f.target,function(g){return g.id===e.id||g.id===e.id+"_open"})){return}if(!f||!d.getParent(f.target,".mceMenu")){e.setState("Selected",0);c.remove(d.doc,"mousedown",e.hideMenu,e);if(e.menu){e.menu.hideMenu()}}e.isMenuVisible=0},postRender:function(){var e=this,f=e.settings;c.add(e.id,"click",function(){if(!e.isDisabled()){if(f.onclick){f.onclick(e.value)}e.showMenu()}})}})})(tinymce);(function(a){var d=a.DOM,c=a.dom.Event,b=a.each;a.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(f,e,g){this.parent(f,e,g);this.classPrefix="mceSplitButton"},renderHTML:function(){var f,h=this,e=h.settings,g;f="<tbody><tr>";if(e.image){g=d.createHTML("img ",{src:e.image,role:"presentation","class":"mceAction "+e["class"]})}else{g=d.createHTML("span",{"class":"mceAction "+e["class"]},"")}g+=d.createHTML("span",{"class":"mceVoiceLabel mceIconOnly",id:h.id+"_voice",style:"display:none;"},e.title);f+="<td >"+d.createHTML("a",{role:"button",id:h.id+"_action",tabindex:"-1",href:"javascript:;","class":"mceAction "+e["class"],onclick:"return false;",onmousedown:"return false;",title:e.title},g)+"</td>";g=d.createHTML("span",{"class":"mceOpen "+e["class"]},'<span style="display:none;" class="mceIconOnly" aria-hidden="true">\u25BC</span>');f+="<td >"+d.createHTML("a",{role:"button",id:h.id+"_open",tabindex:"-1",href:"javascript:;","class":"mceOpen "+e["class"],onclick:"return false;",onmousedown:"return false;",title:e.title},g)+"</td>";f+="</tr></tbody>";f=d.createHTML("table",{role:"presentation","class":"mceSplitButton mceSplitButtonEnabled "+e["class"],cellpadding:"0",cellspacing:"0",title:e.title},f);return d.createHTML("div",{id:h.id,role:"button",tabindex:"0","aria-labelledby":h.id+"_voice","aria-haspopup":"true"},f)},postRender:function(){var g=this,f=g.settings,e;if(f.onclick){e=function(h){if(!g.isDisabled()){f.onclick(g.value);c.cancel(h)}};c.add(g.id+"_action","click",e);c.add(g.id,["click","keydown"],function(h){var l=32,k=14,i=13,j=38,m=40;if((h.keyCode===32||h.keyCode===13||h.keyCode===14)&&!h.altKey&&!h.ctrlKey&&!h.metaKey){e();c.cancel(h)}else{if(h.type==="click"||h.keyCode===m){g.showMenu();c.cancel(h)}}})}c.add(g.id+"_open","click",function(h){g.showMenu();c.cancel(h)});c.add([g.id,g.id+"_open"],"focus",function(){g._focused=1});c.add([g.id,g.id+"_open"],"blur",function(){g._focused=0});if(a.isIE6||!d.boxModel){c.add(g.id,"mouseover",function(){if(!d.hasClass(g.id,"mceSplitButtonDisabled")){d.addClass(g.id,"mceSplitButtonHover")}});c.add(g.id,"mouseout",function(){if(!d.hasClass(g.id,"mceSplitButtonDisabled")){d.removeClass(g.id,"mceSplitButtonHover")}})}},destroy:function(){this.parent();c.clear(this.id+"_action");c.clear(this.id+"_open");c.clear(this.id)}})})(tinymce);(function(b){var a=b.DOM,d=b.dom.Event,e=b.is,c=b.each;b.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(g,f,h){var i=this;i.parent(g,f,h);i.settings=f=b.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},i.settings);i.onShowMenu=new b.util.Dispatcher(i);i.onHideMenu=new b.util.Dispatcher(i);i.value=f.default_color},showMenu:function(){var h=this,i,g,f,j;if(h.isDisabled()){return}if(!h.isMenuRendered){h.renderMenu();h.isMenuRendered=true}if(h.isMenuVisible){return h.hideMenu()}f=a.get(h.id);a.show(h.id+"_menu");a.addClass(f,"mceSplitButtonSelected");j=a.getPos(f);a.setStyles(h.id+"_menu",{left:j.x,top:j.y+f.firstChild.clientHeight,zIndex:200000});f=0;d.add(a.doc,"mousedown",h.hideMenu,h);h.onShowMenu.dispatch(h);if(h._focused){h._keyHandler=d.add(h.id+"_menu","keydown",function(k){if(k.keyCode==27){h.hideMenu()}});a.select("a",h.id+"_menu")[0].focus()}h.keyboardNav=new b.ui.KeyboardNavigation({root:h.id+"_menu",items:a.select("a",h.id+"_menu"),onCancel:function(){h.hideMenu();h.focus()}});h.keyboardNav.focus();h.isMenuVisible=1},hideMenu:function(g){var f=this;if(f.isMenuVisible){if(g&&g.type=="mousedown"&&a.getParent(g.target,function(h){return h.id===f.id+"_open"})){return}if(!g||!a.getParent(g.target,".mceSplitButtonMenu")){a.removeClass(f.id,"mceSplitButtonSelected");d.remove(a.doc,"mousedown",f.hideMenu,f);d.remove(f.id+"_menu","keydown",f._keyHandler);a.hide(f.id+"_menu")}f.isMenuVisible=0;f.onHideMenu.dispatch();f.keyboardNav.destroy()}},renderMenu:function(){var l=this,g,i=0,o=l.settings,f,h,j,k,p;k=a.add(o.menu_container,"div",{role:"listbox",id:l.id+"_menu","class":o.menu_class+" "+o["class"],style:"position:absolute;left:0;top:-1000px;"});g=a.add(k,"div",{"class":o["class"]+" mceSplitButtonMenu"});a.add(g,"span",{"class":"mceMenuLine"});f=a.add(g,"table",{role:"presentation","class":"mceColorSplitMenu"});h=a.add(f,"tbody");i=0;c(e(o.colors,"array")?o.colors:o.colors.split(","),function(n){n=n.replace(/^#/,"");if(!i--){j=a.add(h,"tr");i=o.grid_width-1}f=a.add(j,"td");var m={href:"javascript:;",style:{backgroundColor:"#"+n},title:l.editor.getLang("colors."+n,n),"data-mce-color":"#"+n};if(!b.isIE){m.role="option"}f=a.add(f,"a",m);if(l.editor.forcedHighContrastMode){f=a.add(f,"canvas",{width:16,height:16,"aria-hidden":"true"});if(f.getContext&&(p=f.getContext("2d"))){p.fillStyle="#"+n;p.fillRect(0,0,16,16)}else{a.remove(f)}}});if(o.more_colors_func){f=a.add(h,"tr");f=a.add(f,"td",{colspan:o.grid_width,"class":"mceMoreColors"});f=a.add(f,"a",{role:"option",id:l.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},o.more_colors_title);d.add(f,"click",function(m){o.more_colors_func.call(o.more_colors_scope||this);return d.cancel(m)})}a.addClass(g,"mceColorSplitMenu");d.add(l.id+"_menu","mousedown",function(m){return d.cancel(m)});d.add(l.id+"_menu","click",function(m){var n;m=a.getParent(m.target,"a",h);if(m&&m.nodeName.toLowerCase()=="a"&&(n=m.getAttribute("data-mce-color"))){l.setColor(n)}return false});return k},setColor:function(f){this.displayColor(f);this.hideMenu();this.settings.onselect(f)},displayColor:function(g){var f=this;a.setStyle(f.id+"_preview","backgroundColor",g);f.value=g},postRender:function(){var f=this,g=f.id;f.parent();a.add(g+"_action","div",{id:g+"_preview","class":"mceColorPreview"});a.setStyle(f.id+"_preview","backgroundColor",f.value)},destroy:function(){var f=this;f.parent();d.clear(f.id+"_menu");d.clear(f.id+"_more");a.remove(f.id+"_menu");if(f.keyboardNav){f.keyboardNav.destroy()}}})})(tinymce);(function(d){var b=d.DOM,a=d.each,c=d.dom.Event;d.create("tinymce.ui.ToolbarGroup:tinymce.ui.Container",{renderHTML:function(){var h=this,e=[],g=h.controls,f=d.each,i=h.settings;e.push('<div id="'+h.id+'" role="group" aria-labelledby="'+h.id+'_voice">');e.push("<span role='application'>");e.push('<span id="'+h.id+'_voice" class="mceVoiceLabel" style="display:none;">'+b.encode(i.name)+"</span>");f(g,function(j){e.push(j.renderHTML())});e.push("</span>");e.push("</div>");return e.join("")},focus:function(){var e=this;b.get(e.id).focus()},postRender:function(){var f=this,e=[];a(f.controls,function(g){a(g.controls,function(h){if(h.id){e.push(h)}})});f.keyNav=new d.ui.KeyboardNavigation({root:f.id,items:e,onCancel:function(){if(d.isWebKit){b.get(f.editor.id+"_ifr").focus()}f.editor.focus()},excludeFromTabOrder:!f.settings.tab_focus_toolbar})},destroy:function(){var e=this;e.parent();e.keyNav.destroy();c.clear(e.id)}})})(tinymce);(function(b){var a=b.DOM,c=b.each;b.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var m=this,f="",j,k,n=m.settings,e,d,g,l;l=m.controls;for(e=0;e<l.length;e++){k=l[e];d=l[e-1];g=l[e+1];if(e===0){j="mceToolbarStart";if(k.Button){j+=" mceToolbarStartButton"}else{if(k.SplitButton){j+=" mceToolbarStartSplitButton"}else{if(k.ListBox){j+=" mceToolbarStartListBox"}}}f+=a.createHTML("td",{"class":j},a.createHTML("span",null,"<!-- IE -->"))}if(d&&k.ListBox){if(d.Button||d.SplitButton){f+=a.createHTML("td",{"class":"mceToolbarEnd"},a.createHTML("span",null,"<!-- IE -->"))}}if(a.stdMode){f+='<td style="position: relative">'+k.renderHTML()+"</td>"}else{f+="<td>"+k.renderHTML()+"</td>"}if(g&&k.ListBox){if(g.Button||g.SplitButton){f+=a.createHTML("td",{"class":"mceToolbarStart"},a.createHTML("span",null,"<!-- IE -->"))}}}j="mceToolbarEnd";if(k.Button){j+=" mceToolbarEndButton"}else{if(k.SplitButton){j+=" mceToolbarEndSplitButton"}else{if(k.ListBox){j+=" mceToolbarEndListBox"}}}f+=a.createHTML("td",{"class":j},a.createHTML("span",null,"<!-- IE -->"));return a.createHTML("table",{id:m.id,"class":"mceToolbar"+(n["class"]?" "+n["class"]:""),cellpadding:"0",cellspacing:"0",align:m.settings.align||"",role:"presentation",tabindex:"-1"},"<tbody><tr>"+f+"</tr></tbody>")}})})(tinymce);(function(c){var b=c.util.Dispatcher,a=c.each;c.create("tinymce.AddOnManager",{AddOnManager:function(){var d=this;d.items=[];d.urls={};d.lookup={};d.onAdd=new b(d)},get:function(d){if(this.lookup[d]){return this.lookup[d].instance}else{return undefined}},dependencies:function(e){var d;if(this.lookup[e]){d=this.lookup[e].dependencies}return d||[]},requireLangPack:function(e){var d=c.settings;if(d&&d.language&&d.language_load!==false){c.ScriptLoader.add(this.urls[e]+"/langs/"+d.language+".js")}},add:function(e,d,f){this.items.push(d);this.lookup[e]={instance:d,dependencies:f};this.onAdd.dispatch(this,e,d);return d},createUrl:function(d,e){if(typeof e==="object"){return e}else{return{prefix:d.prefix,resource:e,suffix:d.suffix}}},addComponents:function(e,f){var d=this.urls[e];c.each(f,function(g){c.ScriptLoader.add(d+"/"+g)})},load:function(g,f,j,i){var h=this,e=f;function d(){var k=h.dependencies(g);c.each(k,function(m){var l=h.createUrl(f,m);h.load(l.resource,l,undefined,undefined)});if(j){if(i){j.call(i)}else{j.call(c.ScriptLoader)}}}if(h.urls[g]){return}if(typeof f==="object"){e=f.prefix+f.resource+f.suffix}if(e.indexOf("/")!==0&&e.indexOf("://")==-1){e=c.baseURL+"/"+e}h.urls[g]=e.substring(0,e.lastIndexOf("/"));if(h.lookup[g]){d()}else{c.ScriptLoader.add(e,d,i)}}});c.PluginManager=new c.AddOnManager();c.ThemeManager=new c.AddOnManager()}(tinymce));(function(f){var c=f.each,k=f.extend,g=f.DOM,e=f.dom.Event,b=f.ThemeManager,i=f.PluginManager,a=f.explode,d=f.util.Dispatcher,h,j=0;f.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(f.documentBaseURL)){f.documentBaseURL+="/"}f.baseURL=new f.util.URI(f.documentBaseURL).toAbsolute(f.baseURL);f.baseURI=new f.util.URI(f.baseURL);f.onBeforeUnload=new d(f);e.add(window,"beforeunload",function(l){f.onBeforeUnload.dispatch(f,l)});f.onAddEditor=new d(f);f.onRemoveEditor=new d(f);f.EditorManager=k(f,{editors:[],i18n:{},activeEditor:null,init:function(n){var m=this,r,q=f.ScriptLoader,l,o=[],u;function t(y){var v=y.id;if(!v){v=y.name;if(v&&!g.get(v)){v=y.name}else{v=g.uniqueId()}y.setAttribute("id",v)}return v}function p(A,y,v){var z=A[y];if(!z){return}if(f.is(z,"string")){v=z.replace(/\.\w+$/,"");v=v?f.resolve(v):0;z=f.resolve(z)}return z.apply(v||this,Array.prototype.slice.call(arguments,2))}function s(y,v){return v.constructor===RegExp?v.test(y.className):g.hasClass(y,v)}m.settings=n;e.bind(window,"ready",function(){var v,y;p(n,"onpageload");switch(n.mode){case"exact":v=n.elements||"";if(v.length>0){c(a(v),function(x){if(g.get(x)){u=new f.Editor(x,n);o.push(u);u.render(1)}else{c(document.forms,function(z){c(z.elements,function(A){if(A.name===x){x="mce_editor_"+j++;g.setAttrib(A,"id",x);u=new f.Editor(x,n);o.push(u);u.render(1)}})})}})}break;case"textareas":case"specific_textareas":c(g.select("textarea"),function(x){if(n.editor_deselector&&s(x,n.editor_deselector)){return}if(!n.editor_selector||s(x,n.editor_selector)){u=new f.Editor(t(x),n);o.push(u);u.render(1)}});break;default:if(n.types){c(n.types,function(x){c(g.select(x.selector),function(A){var z=new f.Editor(t(A),f.extend({},n,x));o.push(z);z.render(1)})})}else{if(n.selector){c(g.select(n.selector),function(x){var z=new f.Editor(t(x),n);o.push(z);z.render(1)})}}}if(n.oninit){v=y=0;c(o,function(x){y++;if(!x.initialized){x.onInit.add(function(){v++;if(v==y){p(n,"oninit")}})}else{v++}if(v==y){p(n,"oninit")}})}})},get:function(l){if(l===h){return this.editors}if(!this.editors.hasOwnProperty(l)){return h}return this.editors[l]},getInstanceById:function(l){return this.get(l)},add:function(m){var l=this,n=l.editors;n[m.id]=m;n.push(m);l._setActive(m);l.onAddEditor.dispatch(l,m);return m},remove:function(n){var m=this,l,o=m.editors;if(!o[n.id]){return null}delete o[n.id];for(l=0;l<o.length;l++){if(o[l]==n){o.splice(l,1);break}}if(m.activeEditor==n){m._setActive(o[0])}n.destroy();m.onRemoveEditor.dispatch(m,n);return n},execCommand:function(r,p,o){var q=this,n=q.get(o),l;function m(){n.destroy();l.detachEvent("onunload",m);l=l.tinyMCE=l.tinymce=null}switch(r){case"mceFocus":n.focus();return true;case"mceAddEditor":case"mceAddControl":if(!q.get(o)){new f.Editor(o,q.settings).render()}return true;case"mceAddFrameControl":l=o.window;l.tinyMCE=tinyMCE;l.tinymce=f;f.DOM.doc=l.document;f.DOM.win=l;n=new f.Editor(o.element_id,o);n.render();if(f.isIE&&!f.isIE11){l.attachEvent("onunload",m)}o.page_window=null;return true;case"mceRemoveEditor":case"mceRemoveControl":if(n){n.remove()}return true;case"mceToggleEditor":if(!n){q.execCommand("mceAddControl",0,o);return true}if(n.isHidden()){n.show()}else{n.hide()}return true}if(q.activeEditor){return q.activeEditor.execCommand(r,p,o)}return false},execInstanceCommand:function(p,o,n,m){var l=this.get(p);if(l){return l.execCommand(o,n,m)}return false},triggerSave:function(){c(this.editors,function(l){l.save()})},addI18n:function(n,o){var l,m=this.i18n;if(!f.is(n,"string")){c(n,function(q,p){c(q,function(s,r){c(s,function(u,t){if(r==="common"){m[p+"."+t]=u}else{m[p+"."+r+"."+t]=u}})})})}else{c(o,function(q,p){m[n+"."+p]=q})}},_setActive:function(l){this.selectedInstance=this.activeEditor=l}})})(tinymce);(function(e){var f=e.DOM,d=e.dom.Event,l=e.extend,c=e.each,g=e.isGecko,h=e.isIE,k=e.isWebKit,j=e.is,b=e.ThemeManager,i=e.PluginManager,a=e.explode;e.create("tinymce.Editor",{Editor:function(m,p){var n=this,o=true;n.settings=p=l({id:m,language:"en",theme:"advanced",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:e.documentBaseURL,add_form_submit_trigger:o,submit_patch:o,add_unload_trigger:o,convert_urls:o,relative_urls:o,remove_script_host:o,table_inline_editing:false,object_resizing:o,accessibility_focus:o,doctype:e.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual:o,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",apply_source_formatting:o,directionality:"ltr",forced_root_block:"p",hidden_input:o,padd_empty_editor:o,render_ui:o,indentation:"30px",fix_table_elements:o,inline_styles:o,convert_fonts_to_spans:o,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:o,entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n,ie7_compat:o},p);n.id=n.editorId=m;n.isNotDirty=false;n.plugins={};n.documentBaseURI=new e.util.URI(p.document_base_url||e.documentBaseURL,{base_uri:tinyMCE.baseURI});n.baseURI=e.baseURI;n.contentCSS=[];n.contentStyles=[];n.setupEvents();n.execCommands={};n.queryStateCommands={};n.queryValueCommands={};n.execCallback("setup",n)},render:function(p){var q=this,r=q.settings,m=q.id,n=e.ScriptLoader;if(!d.domLoaded){d.add(window,"ready",function(){q.render()});return}tinyMCE.settings=r;if(!q.getElement()){return}if(e.isIDevice&&!e.isIOS5){return}if(!/TEXTAREA|INPUT/i.test(q.getElement().nodeName)&&r.hidden_input&&f.getParent(m,"form")){f.insertAfter(f.create("input",{type:"hidden",name:m}),m)}if(!r.content_editable){q.orgVisibility=q.getElement().style.visibility;q.getElement().style.visibility="hidden"}if(e.WindowManager){q.windowManager=new e.WindowManager(q)}if(r.encoding=="xml"){q.onGetContent.add(function(s,t){if(t.save){t.content=f.encode(t.content)}})}if(r.add_form_submit_trigger){q.onSubmit.addToTop(function(){if(q.initialized){q.save();q.isNotDirty=1}})}if(r.add_unload_trigger){q._beforeUnload=tinyMCE.onBeforeUnload.add(function(){if(q.initialized&&!q.destroyed&&!q.isHidden()){q.save({format:"raw",no_events:true})}})}e.addUnload(q.destroy,q);if(r.submit_patch){q.onBeforeRenderUI.add(function(){var s=q.getElement().form;if(!s){return}if(s._mceOldSubmit){return}if(!s.submit.nodeType&&!s.submit.length){q.formElement=s;s._mceOldSubmit=s.submit;s.submit=function(){e.triggerSave();q.isNotDirty=1;return q.formElement._mceOldSubmit(q.formElement)}}s=null})}function o(){if(r.language&&r.language_load!==false){n.add(e.baseURL+"/langs/"+r.language+".js")}if(r.theme&&typeof r.theme!="function"&&r.theme.charAt(0)!="-"&&!b.urls[r.theme]){b.load(r.theme,"themes/"+r.theme+"/editor_template"+e.suffix+".js")}c(a(r.plugins),function(t){if(t&&!i.urls[t]){if(t.charAt(0)=="-"){t=t.substr(1,t.length);var s=i.dependencies(t);c(s,function(v){var u={prefix:"plugins/",resource:v,suffix:"/editor_plugin"+e.suffix+".js"};v=i.createUrl(u,v);i.load(v.resource,v)})}else{if(t=="safari"){return}i.load(t,{prefix:"plugins/",resource:t,suffix:"/editor_plugin"+e.suffix+".js"})}}});n.loadQueue(function(){if(!q.removed){q.init()}})}o()},init:function(){var u,B=this,C=B.settings,z,o,p,x=B.getElement(),s,q,v,m,t,y,n,A=[];e.add(B);C.aria_label=C.aria_label||f.getAttrib(x,"aria-label",B.getLang("aria.rich_text_area"));if(C.theme){if(typeof C.theme!="function"){C.theme=C.theme.replace(/-/,"");s=b.get(C.theme);B.theme=new s();if(B.theme.init){B.theme.init(B,b.urls[C.theme]||e.documentBaseURL.replace(/\/$/,""))}}else{B.theme=C.theme}}function r(D){var F=i.get(D),G=i.urls[D]||e.documentBaseURL.replace(/\/$/,""),E;if(F&&e.inArray(A,D)===-1){c(i.dependencies(D),function(H){r(H)});E=new F(B,G);B.plugins[D]=E;if(E.init){E.init(B,G);A.push(D)}}}c(a(C.plugins.replace(/\-/g,"")),r);if(C.popup_css!==false){if(C.popup_css){C.popup_css=B.documentBaseURI.toAbsolute(C.popup_css)}else{C.popup_css=B.baseURI.toAbsolute("themes/"+C.theme+"/skins/"+C.skin+"/dialog.css")}}if(C.popup_css_add){C.popup_css+=","+B.documentBaseURI.toAbsolute(C.popup_css_add)}B.controlManager=new e.ControlManager(B);B.onBeforeRenderUI.dispatch(B,B.controlManager);if(C.render_ui&&B.theme){B.orgDisplay=x.style.display;if(typeof C.theme!="function"){z=C.width||x.style.width||x.offsetWidth;o=C.height||x.style.height||x.offsetHeight;p=C.min_height||100;y=/^[0-9\.]+(|px)$/i;if(y.test(""+z)){z=Math.max(parseInt(z,10)+(s.deltaWidth||0),100)}if(y.test(""+o)){o=Math.max(parseInt(o,10)+(s.deltaHeight||0),p)}s=B.theme.renderUI({targetNode:x,width:z,height:o,deltaWidth:C.delta_width,deltaHeight:C.delta_height});f.setStyles(s.sizeContainer||s.editorContainer,{width:z,height:o});o=(s.iframeHeight||o)+(typeof(o)=="number"?(s.deltaHeight||0):"");if(o<p){o=p}}else{s=C.theme(B,x);if(s.editorContainer.nodeType){s.editorContainer=s.editorContainer.id=s.editorContainer.id||B.id+"_parent"}if(s.iframeContainer.nodeType){s.iframeContainer=s.iframeContainer.id=s.iframeContainer.id||B.id+"_iframecontainer"}o=s.iframeHeight||x.offsetHeight;if(h){B.onInit.add(function(D){D.dom.bind(D.getBody(),"beforedeactivate keydown keyup",function(){D.bookmark=D.selection.getBookmark(1)})});B.onNodeChange.add(function(D){if(document.activeElement.id==D.id+"_ifr"){D.bookmark=D.selection.getBookmark(1)}})}}B.editorContainer=s.editorContainer}if(C.content_css){c(a(C.content_css),function(D){B.contentCSS.push(B.documentBaseURI.toAbsolute(D))})}if(C.content_style){B.contentStyles.push(C.content_style)}if(C.content_editable){x=u=s=null;return B.initContentBody()}if(document.domain&&location.hostname!=document.domain){e.relaxedDomain=document.domain}B.iframeHTML=C.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">';if(C.document_base_url!=e.documentBaseURL){B.iframeHTML+='<base href="'+B.documentBaseURI.getURI()+'" />'}if(e.isIE8){if(C.ie7_compat){B.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'}else{B.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=edge" />'}}B.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';for(n=0;n<B.contentCSS.length;n++){B.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+B.contentCSS[n]+'" />'}B.contentCSS=[];m=C.body_id||"tinymce";if(m.indexOf("=")!=-1){m=B.getParam("body_id","","hash");m=m[B.id]||m}t=C.body_class||"";if(t.indexOf("=")!=-1){t=B.getParam("body_class","","hash");t=t[B.id]||""}B.iframeHTML+='</head><body id="'+m+'" class="mceContentBody '+t+'" onload="window.parent.tinyMCE.get(\''+B.id+"').onLoad.dispatch();\"><br></body></html>";if(e.relaxedDomain&&(h||(e.isOpera&&parseFloat(opera.version())<11))){v='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+B.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody();})()'}u=f.add(s.iframeContainer,"iframe",{id:B.id+"_ifr",src:v||'javascript:""',frameBorder:"0",allowTransparency:"true",title:C.aria_label,style:{width:"100%",height:o,display:"block"}});B.contentAreaContainer=s.iframeContainer;if(s.editorContainer){f.get(s.editorContainer).style.display=B.orgDisplay}x.style.visibility=B.orgVisibility;f.get(B.id).style.display="none";f.setAttrib(B.id,"aria-hidden",true);if(!e.relaxedDomain||!v){B.initContentBody()}x=u=s=null},initContentBody:function(){var o=this,q=o.settings,r=f.get(o.id),s=o.getDoc(),p,n,m;if((!h||!e.relaxedDomain)&&!q.content_editable){s.open();s.write(o.iframeHTML);s.close();if(e.relaxedDomain){s.domain=e.relaxedDomain}}if(q.content_editable){f.addClass(r,"mceContentBody");o.contentDocument=s=q.content_document||document;o.contentWindow=q.content_window||window;o.bodyElement=r;q.content_document=q.content_window=null}n=o.getBody();n.disabled=true;if(!q.readonly){n.contentEditable=o.getParam("content_editable_state",true)}n.disabled=false;o.schema=new e.html.Schema(q);o.dom=new e.dom.DOMUtils(s,{keep_values:true,url_converter:o.convertURL,url_converter_scope:o,hex_colors:q.force_hex_style_colors,class_filter:q.class_filter,update_styles:true,root_element:q.content_editable?o.id:null,schema:o.schema});o.parser=new e.html.DomParser(q,o.schema);o.parser.addAttributeFilter("src,href,style",function(t,u){var v=t.length,z,x=o.dom,A,y;while(v--){z=t[v];A=z.attr(u);y="data-mce-"+u;if(!z.attributes.map[y]){if(u==="style"){z.attr(y,x.serializeStyle(x.parseStyle(A),z.name))}else{z.attr(y,o.convertURL(A,u,z.name))}}}});o.parser.addNodeFilter("script",function(t,u){var v=t.length,x;while(v--){x=t[v];x.attr("type","mce-"+(x.attr("type")||"text/javascript"))}});o.parser.addNodeFilter("#cdata",function(t,u){var v=t.length,x;while(v--){x=t[v];x.type=8;x.name="#comment";x.value="[CDATA["+x.value+"]]"}});o.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(v,x){var y=v.length,t,u=o.schema.getNonEmptyElements();while(y--){t=v[y];if(t.isEmpty(u)){t.empty().append(new e.html.Node("br",1)).shortEnded=true}}});o.serializer=new e.dom.Serializer(q,o.dom,o.schema);o.selection=new e.dom.Selection(o.dom,o.getWin(),o.serializer,o);o.formatter=new e.Formatter(o);o.undoManager=new e.UndoManager(o);o.forceBlocks=new e.ForceBlocks(o);o.enterKey=new e.EnterKey(o);o.editorCommands=new e.EditorCommands(o);o.onExecCommand.add(function(t,u){if(!/^(FontName|FontSize)$/.test(u)){o.nodeChanged()}});o.serializer.onPreProcess.add(function(t,u){return o.onPreProcess.dispatch(o,u,t)});o.serializer.onPostProcess.add(function(t,u){return o.onPostProcess.dispatch(o,u,t)});o.onPreInit.dispatch(o);if(!q.browser_spellcheck&&!q.gecko_spellcheck){s.body.spellcheck=false}if(!q.readonly){o.bindNativeEvents()}o.controlManager.onPostRender.dispatch(o,o.controlManager);o.onPostRender.dispatch(o);o.quirks=e.util.Quirks(o);if(q.directionality){n.dir=q.directionality}if(q.nowrap){n.style.whiteSpace="nowrap"}if(q.protect){o.onBeforeSetContent.add(function(t,u){c(q.protect,function(v){u.content=u.content.replace(v,function(x){return"<!--mce:protected "+escape(x)+"-->"})})})}o.onSetContent.add(function(){o.addVisual(o.getBody())});if(q.padd_empty_editor){o.onPostProcess.add(function(t,u){u.content=u.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})}o.load({initial:true,format:"html"});o.startContent=o.getContent({format:"raw"});o.initialized=true;o.onInit.dispatch(o);o.execCallback("setupcontent_callback",o.id,n,s);o.execCallback("init_instance_callback",o);o.focus(true);o.nodeChanged({initial:true});if(o.contentStyles.length>0){m="";c(o.contentStyles,function(t){m+=t+"\r\n"});o.dom.addStyle(m)}c(o.contentCSS,function(t){o.dom.loadCSS(t)});if(q.auto_focus){setTimeout(function(){var t=e.get(q.auto_focus);t.selection.select(t.getBody(),1);t.selection.collapse(1);t.getBody().focus();t.getWin().focus()},100)}r=s=n=null},focus:function(s){var r,o=this,n=o.selection,t=o.settings.content_editable,q,u,m=o.getDoc(),p;if(!s){if(o.bookmark){n.moveToBookmark(o.bookmark);o.bookmark=null}q=n.getRng();if(q.item){u=q.item(0)}o._refreshContentEditable();if(!t){o.getWin().focus()}if(e.isGecko||t){p=o.getBody();if(p.setActive&&!e.isIE11){p.setActive()}else{p.focus()}if(t){n.normalize()}}if(u&&u.ownerDocument==m){q=m.body.createControlRange();q.addElement(u);q.select()}}if(e.activeEditor!=o){if((r=e.activeEditor)!=null){r.onDeactivate.dispatch(r,o)}o.onActivate.dispatch(o,r)}e._setActive(o)},execCallback:function(m){var n=this,p=n.settings[m],o;if(!p){return}if(n.callbackLookup&&(o=n.callbackLookup[m])){p=o.func;o=o.scope}if(j(p,"string")){o=p.replace(/\.\w+$/,"");o=o?e.resolve(o):0;p=e.resolve(p);n.callbackLookup=n.callbackLookup||{};n.callbackLookup[m]={func:p,scope:o}}return p.apply(o||n,Array.prototype.slice.call(arguments,1))},translate:function(n){var m=this.settings.language||"en",o=e.i18n;if(!n){return""}return o[m+"."+n]||n.replace(/\{\#([^\}]+)\}/g,function(q,p){return o[m+"."+p]||"{#"+p+"}"})},getLang:function(m,n){return e.i18n[(this.settings.language||"en")+"."+m]||(j(n)?n:"{#"+m+"}")},getParam:function(m,p,n){var q=e.trim,o=j(this.settings[m])?this.settings[m]:p,r;if(n==="hash"){r={};if(j(o,"string")){c(o.indexOf("=")>0?o.split(/[;,](?![^=;,]*(?:[;,]|$))/):o.split(","),function(s){s=s.split("=");if(s.length>1){r[q(s[0])]=q(s[1])}else{r[q(s[0])]=q(s)}})}else{r=o}return r}return o},nodeChanged:function(m){var n=this,o=n.selection,p;if(n.initialized){m=m||{};p=o.getStart()||n.getBody();p=h&&p.ownerDocument!=n.getDoc()?n.getBody():p;m.parents=[];n.dom.getParent(p,function(q){if(q.nodeName=="BODY"){return true}m.parents.push(q)});n.onNodeChange.dispatch(n,m?m.controlManager||n.controlManager:n.controlManager,p,o.isCollapsed(),m)}},addButton:function(o,m){var n=this;n.buttons=n.buttons||{};n.buttons[o]=m},addCommand:function(n,m,o){this.execCommands[n]={func:m,scope:o||this}},addQueryStateHandler:function(n,m,o){this.queryStateCommands[n]={func:m,scope:o||this}},addQueryValueHandler:function(n,m,o){this.queryValueCommands[n]={func:m,scope:o||this}},addShortcut:function(p,r,n,q){var o=this,m;if(o.settings.custom_shortcuts===false){return false}o.shortcuts=o.shortcuts||{};if(j(n,"string")){m=n;n=function(){o.execCommand(m,false,null)}}if(j(n,"object")){m=n;n=function(){o.execCommand(m[0],m[1],m[2])}}c(a(p),function(s){var t={func:n,scope:q||this,desc:o.translate(r),alt:false,ctrl:false,shift:false};c(a(s,"+"),function(u){switch(u){case"alt":case"ctrl":case"shift":t[u]=true;break;default:t.charCode=u.charCodeAt(0);t.keyCode=u.toUpperCase().charCodeAt(0)}});o.shortcuts[(t.ctrl?"ctrl":"")+","+(t.alt?"alt":"")+","+(t.shift?"shift":"")+","+t.keyCode]=t});return true},execCommand:function(s,r,m,n){var p=this,q=0,t,o;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(s)&&(!n||!n.skip_focus)){p.focus()}n=l({},n);p.onBeforeExecCommand.dispatch(p,s,r,m,n);if(n.terminate){return false}if(p.execCallback("execcommand_callback",p.id,p.selection.getNode(),s,r,m)){p.onExecCommand.dispatch(p,s,r,m,n);return true}if(t=p.execCommands[s]){o=t.func.call(t.scope,r,m);if(o!==true){p.onExecCommand.dispatch(p,s,r,m,n);return o}}c(p.plugins,function(u){if(u.execCommand&&u.execCommand(s,r,m)){p.onExecCommand.dispatch(p,s,r,m,n);q=1;return false}});if(q){return true}if(p.theme&&p.theme.execCommand&&p.theme.execCommand(s,r,m)){p.onExecCommand.dispatch(p,s,r,m,n);return true}if(p.editorCommands.execCommand(s,r,m)){p.onExecCommand.dispatch(p,s,r,m,n);return true}p.getDoc().execCommand(s,r,m);p.onExecCommand.dispatch(p,s,r,m,n)},queryCommandState:function(q){var o=this,m,p;if(o._isHidden()){return}if(m=o.queryStateCommands[q]){p=m.func.call(m.scope);if(p!==true){return p}}m=o.editorCommands.queryCommandState(q);if(m!==-1){return m}try{return this.getDoc().queryCommandState(q)}catch(n){}},queryCommandValue:function(m){var o=this,q,p;if(o._isHidden()){return}if(q=o.queryValueCommands[m]){p=q.func.call(q.scope);if(p!==true){return p}}q=o.editorCommands.queryCommandValue(m);if(j(q)){return q}try{return this.getDoc().queryCommandValue(m)}catch(n){}},show:function(){var m=this;f.show(m.getContainer());f.hide(m.id);m.load()},hide:function(){var n=this,m=n.getDoc();if(h&&m){m.execCommand("SelectAll")}n.save();f.hide(n.getContainer());f.setStyle(n.id,"display",n.orgDisplay)},isHidden:function(){return !f.isHidden(this.id)},setProgressState:function(n,o,m){this.onSetProgressState.dispatch(this,n,o,m);return n},load:function(m){var n=this,p=n.getElement(),o;if(p){m=m||{};m.load=true;o=n.setContent(j(p.value)?p.value:p.innerHTML,m);m.element=p;if(!m.no_events){n.onLoadContent.dispatch(n,m)}m.element=p=null;return o}},save:function(m){var n=this,q=n.getElement(),o,p;if(!q||!n.initialized){return}m=m||{};m.save=true;m.element=q;o=m.content=n.getContent(m);if(!m.no_events){n.onSaveContent.dispatch(n,m)}o=m.content;if(!/TEXTAREA|INPUT/i.test(q.nodeName)){q.innerHTML=o;if(p=f.getParent(n.id,"form")){c(p.elements,function(r){if(r.name==n.id){r.value=o;return false}})}}else{q.value=o}m.element=q=null;return o},setContent:function(m,q){var p=this,o,n=p.getBody(),r;q=q||{};q.format=q.format||"html";q.set=true;q.content=m;if(!q.no_events){p.onBeforeSetContent.dispatch(p,q)}m=q.content;if(m.length===0||/^\s+$/.test(m)){r=p.settings.forced_root_block;if(r&&p.schema.isValidChild(n.nodeName.toLowerCase(),r.toLowerCase())){if(h){m="<"+r+"></"+r+">"}else{m="<"+r+'><br data-mce-bogus="1"></'+r+">"}}else{if(!h){m='<br data-mce-bogus="1">'}}n.innerHTML=m;p.selection.select(n,true);p.selection.collapse(true);return}if(q.format!=="raw"){m=new e.html.Serializer({},p.schema).serialize(p.parser.parse(m))}q.content=e.trim(m);p.dom.setHTML(n,q.content);if(!q.no_events){p.onSetContent.dispatch(p,q)}if(!p.settings.content_editable||document.activeElement===p.getBody()){p.selection.normalize()}return q.content},getContent:function(p){var o=this,m,n=o.getBody();p=p||{};p.format=p.format||"html";p.get=true;p.getInner=true;if(!p.no_events){o.onBeforeGetContent.dispatch(o,p)}if(p.format=="raw"){m=n.innerHTML}else{if(p.format=="text"){m=n.innerText||n.textContent}else{m=o.serializer.serialize(n,p)}}if(p.format!="text"){p.content=e.trim(m)}else{p.content=m}if(!p.no_events){o.onGetContent.dispatch(o,p)}return p.content},isDirty:function(){var m=this;return e.trim(m.startContent)!=e.trim(m.getContent({format:"raw",no_events:1}))&&!m.isNotDirty},getContainer:function(){var m=this;if(!m.container){m.container=f.get(m.editorContainer||m.id+"_parent")}return m.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return f.get(this.settings.content_element||this.id)},getWin:function(){var n=this,m;if(!n.contentWindow){m=f.get(n.id+"_ifr");if(m){n.contentWindow=m.contentWindow}}return n.contentWindow},getDoc:function(){var n=this,m;if(!n.contentDocument){m=n.getWin();if(m){n.contentDocument=m.document}}return n.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(p,o,m){var n=this,q=n.settings;if(q.urlconverter_callback){return n.execCallback("urlconverter_callback",p,m,true,o)}if(!q.convert_urls||(m&&m.nodeName=="LINK")||p.indexOf("file:")===0){return p}if(q.relative_urls){return n.documentBaseURI.toRelative(p)}p=n.documentBaseURI.toAbsolute(p,q.remove_script_host);return p},addVisual:function(m){var o=this,p=o.settings,q=o.dom,n;m=m||o.getBody();if(!j(o.hasVisual)){o.hasVisual=p.visual}c(q.select("table,a",m),function(s){var r;switch(s.nodeName){case"TABLE":n=p.visual_table_class||"mceItemTable";r=q.getAttrib(s,"border");if(!r||r=="0"){if(o.hasVisual){q.addClass(s,n)}else{q.removeClass(s,n)}}return;case"A":if(!q.getAttrib(s,"href",false)){r=q.getAttrib(s,"name")||s.id;n="mceItemAnchor";if(r){if(o.hasVisual){q.addClass(s,n)}else{q.removeClass(s,n)}}}return}});o.onVisualAid.dispatch(o,m,o.hasVisual)},remove:function(){var n=this,m=n.getContainer(),o=n.getDoc();if(!n.removed){n.removed=1;if(h&&o){o.execCommand("SelectAll")}n.save();f.setStyle(n.id,"display",n.orgDisplay);if(!n.settings.content_editable){d.unbind(n.getWin());d.unbind(n.getDoc())}d.unbind(n.getBody());d.clear(m);n.execCallback("remove_instance_callback",n);n.onRemove.dispatch(n);n.onExecCommand.listeners=[];e.remove(n);f.remove(m)}},destroy:function(m){var n=this;if(n.destroyed){return}if(g){d.unbind(n.getDoc());d.unbind(n.getWin());d.unbind(n.getBody())}if(!m){e.removeUnload(n.destroy);tinyMCE.onBeforeUnload.remove(n._beforeUnload);if(n.theme&&n.theme.destroy){n.theme.destroy()}n.controlManager.destroy();n.selection.destroy();n.dom.destroy()}if(n.formElement){n.formElement.submit=n.formElement._mceOldSubmit;n.formElement._mceOldSubmit=null}n.contentAreaContainer=n.formElement=n.container=n.settings.content_element=n.bodyElement=n.contentDocument=n.contentWindow=null;if(n.selection){n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null}n.destroyed=1},_refreshContentEditable:function(){var o=this,n,m;if(o._isHidden()){n=o.getBody();m=n.parentNode;m.removeChild(n);m.appendChild(n);n.focus()}},_isHidden:function(){var m;if(!g){return 0}m=this.selection.getSel();return(!m||!m.rangeCount||m.rangeCount===0)}})})(tinymce);(function(a){var b=a.each;a.Editor.prototype.setupEvents=function(){var c=this,d=c.settings;b(["onPreInit","onBeforeRenderUI","onPostRender","onLoad","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState","onSetAttrib"],function(e){c[e]=new a.util.Dispatcher(c)});if(d.cleanup_callback){c.onBeforeSetContent.add(function(e,f){f.content=e.execCallback("cleanup_callback","insert_to_editor",f.content,f)});c.onPreProcess.add(function(e,f){if(f.set){e.execCallback("cleanup_callback","insert_to_editor_dom",f.node,f)}if(f.get){e.execCallback("cleanup_callback","get_from_editor_dom",f.node,f)}});c.onPostProcess.add(function(e,f){if(f.set){f.content=e.execCallback("cleanup_callback","insert_to_editor",f.content,f)}if(f.get){f.content=e.execCallback("cleanup_callback","get_from_editor",f.content,f)}})}if(d.save_callback){c.onGetContent.add(function(e,f){if(f.save){f.content=e.execCallback("save_callback",e.id,f.content,e.getBody())}})}if(d.handle_event_callback){c.onEvent.add(function(f,g,h){if(c.execCallback("handle_event_callback",g,f,h)===false){g.preventDefault();g.stopPropagation()}})}if(d.handle_node_change_callback){c.onNodeChange.add(function(f,e,g){f.execCallback("handle_node_change_callback",f.id,g,-1,-1,true,f.selection.isCollapsed())})}if(d.save_callback){c.onSaveContent.add(function(e,g){var f=e.execCallback("save_callback",e.id,g.content,e.getBody());if(f){g.content=f}})}if(d.onchange_callback){c.onChange.add(function(f,e){f.execCallback("onchange_callback",f,e)})}};a.Editor.prototype.bindNativeEvents=function(){var l=this,f,d=l.settings,e=l.dom,h;h={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"};function c(m,n){var i=m.type;if(l.removed){return}if(l.onEvent.dispatch(l,m,n)!==false){l[h[m.fakeType||m.type]].dispatch(l,m,n)}}function j(i){l.focus(true)}function k(i,m){if(m.keyCode!=65||!a.VK.metaKeyPressed(m)){l.selection.normalize()}l.nodeChanged()}b(h,function(n,i){var m=d.content_editable?l.getBody():l.getDoc();switch(i){case"contextmenu":e.bind(m,i,c);break;case"paste":e.bind(l.getBody(),i,c);break;case"submit":case"reset":e.bind(l.getElement().form||a.DOM.getParent(l.id,"form"),i,c);break;default:e.bind(m,i,c)}});e.bind(d.content_editable?l.getBody():(a.isGecko?l.getDoc():l.getWin()),"focus",function(i){l.focus(true)});if(d.content_editable&&a.isOpera){e.bind(l.getBody(),"click",j);e.bind(l.getBody(),"keydown",j)}l.onMouseUp.add(k);l.onKeyUp.add(function(m,i){var n=i.keyCode;if((n>=33&&n<=36)||(n>=37&&n<=40)||n==13||n==45||n==46||n==8||(a.isMac&&(n==91||n==93))||i.ctrlKey){k(m,i)}});l.onReset.add(function(){l.setContent(l.startContent,{format:"raw"})});function g(m,i){if(m.altKey||m.ctrlKey||m.metaKey){b(l.shortcuts,function(n){var o=a.isMac?m.metaKey:m.ctrlKey;if(n.ctrl!=o||n.alt!=m.altKey||n.shift!=m.shiftKey){return}if(m.keyCode==n.keyCode||(m.charCode&&m.charCode==n.charCode)){m.preventDefault();if(i){n.func.call(n.scope)}return true}})}}l.onKeyUp.add(function(i,m){g(m)});l.onKeyPress.add(function(i,m){g(m)});l.onKeyDown.add(function(i,m){g(m,true)});if(a.isOpera){l.onClick.add(function(i,m){m.preventDefault()})}}})(tinymce);(function(b){var c=b.each,e,d=true,a=false;b.EditorCommands=function(j){var r=j.dom,l=j.selection,m={state:{},exec:{},value:{}},n=j.settings,o=j.formatter,k;function q(v,z,y){var x;v=v.toLowerCase();if(x=m.exec[v]){x(v,z,y);return d}return a}function p(x){var v;x=x.toLowerCase();if(v=m.state[x]){return v(x)}return -1}function h(x){var v;x=x.toLowerCase();if(v=m.value[x]){return v(x)}return a}function u(v,x){x=x||"exec";c(v,function(y,z){c(z.toLowerCase().split(","),function(A){m[x][A]=y})})}b.extend(this,{execCommand:q,queryCommandState:p,queryCommandValue:h,addCommands:u});function f(v,y,x){if(y===e){y=a}if(x===e){x=null}return j.getDoc().execCommand(v,y,x)}function t(v){return o.match(v)}function s(v,x){o.toggle(v,x?{value:x}:e)}function i(v){k=l.getBookmark(v)}function g(){l.moveToBookmark(k)}u({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){j.undoManager.add()},"Cut,Copy,Paste":function(v){var z=j.getDoc(),x;try{f(v)}catch(y){x=d}if(x||!z.queryCommandSupported(v)){if(b.isGecko){j.windowManager.confirm(j.getLang("clipboard_msg"),function(A){if(A){open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}})}else{j.windowManager.alert(j.getLang("clipboard_no_support"))}}},unlink:function(v){if(l.isCollapsed()){l.select(l.getNode())}f(v);l.collapse(a)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(v){var x=v.substring(7);c("left,center,right,full".split(","),function(y){if(x!=y){o.remove("align"+y)}});s("align"+x);q("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(v){var x,y;f(v);x=r.getParent(l.getNode(),"ol,ul");if(x){y=x.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(y.nodeName)){i();r.split(y,x);g()}}},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(v){s(v)},"ForeColor,HiliteColor,FontName":function(v,y,x){s(v,x)},FontSize:function(A,z,x){var v,y;if(x>=1&&x<=7){y=b.explode(n.font_size_style_values);v=b.explode(n.font_size_classes);if(v){x=v[x-1]||x}else{x=y[x-1]||x}}s(A,x)},RemoveFormat:function(v){o.remove(v)},mceBlockQuote:function(v){s("blockquote")},FormatBlock:function(v,y,x){return s(x||"p")},mceCleanup:function(){var v=l.getBookmark();j.setContent(j.getContent({cleanup:d}),{cleanup:d});l.moveToBookmark(v)},mceRemoveNode:function(v,z,y){var x=y||l.getNode();if(x!=j.getBody()){i();j.dom.remove(x,d);g()}},mceSelectNodeDepth:function(v,z,y){var x=0;r.getParent(l.getNode(),function(A){if(A.nodeType==1&&x++==y){l.select(A);return a}},j.getBody())},mceSelectNode:function(v,y,x){l.select(x)},mceInsertContent:function(B,J,M){var v,K,E,x,F,G,D,C,y,L,A,z,H,I;v=j.parser;K=new b.html.Serializer({},j.schema);H='<span id="mce_marker" data-mce-type="bookmark">\uFEFF</span>';G={content:M,format:"html"};l.onBeforeSetContent.dispatch(l,G);M=G.content;if(M.indexOf("{$caret}")==-1){M+="{$caret}"}M=M.replace(/\{\$caret\}/,H);if(!l.isCollapsed()){j.getDoc().execCommand("Delete",false,null)}E=l.getNode();G={context:E.nodeName.toLowerCase()};F=v.parse(M,G);A=F.lastChild;if(A.attr("id")=="mce_marker"){D=A;for(A=A.prev;A;A=A.walk(true)){if(A.type==3||!r.isBlock(A.name)){A.parent.insert(D,A,A.name==="br");break}}}if(!G.invalid){M=K.serialize(F);A=E.firstChild;z=E.lastChild;if(!A||(A===z&&A.nodeName==="BR")){r.setHTML(E,M)}else{l.setContent(M)}}else{l.setContent(H);E=l.getNode();x=j.getBody();if(E.nodeType==9){E=A=x}else{A=E}while(A!==x){E=A;A=A.parentNode}M=E==x?x.innerHTML:r.getOuterHTML(E);M=K.serialize(v.parse(M.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return K.serialize(F)})));if(E==x){r.setHTML(x,M)}else{r.setOuterHTML(E,M)}}D=r.get("mce_marker");C=r.getRect(D);y=r.getViewPort(j.getWin());if((C.y+C.h>y.y+y.h||C.y<y.y)||(C.x>y.x+y.w||C.x<y.x)){I=b.isIE?j.getDoc().documentElement:j.getBody();I.scrollLeft=C.x;I.scrollTop=C.y-y.h+25}L=r.createRng();A=D.previousSibling;if(A&&A.nodeType==3){L.setStart(A,A.nodeValue.length)}else{L.setStartBefore(D);L.setEndBefore(D)}r.remove(D);l.setRng(L);l.onSetContent.dispatch(l,G);j.addVisual()},mceInsertRawHTML:function(v,y,x){l.setContent("tiny_mce_marker");j.setContent(j.getContent().replace(/tiny_mce_marker/g,function(){return x}))},mceToggleFormat:function(v,y,x){s(x)},mceSetContent:function(v,y,x){j.setContent(x)},"Indent,Outdent":function(v){var y,x,z;y=n.indentation;x=/[a-z%]+$/i.exec(y);y=parseInt(y);if(!p("InsertUnorderedList")&&!p("InsertOrderedList")){if(!n.forced_root_block&&!r.getParent(l.getNode(),r.isBlock)){o.apply("div")}c(l.getSelectedBlocks(),function(A){if(v=="outdent"){z=Math.max(0,parseInt(A.style.paddingLeft||0)-y);r.setStyle(A,"paddingLeft",z?z+x:"")}else{r.setStyle(A,"paddingLeft",(parseInt(A.style.paddingLeft||0)+y)+x)}})}else{f(v)}},mceRepaint:function(){var x;if(b.isGecko){try{i(d);if(l.getSel()){l.getSel().selectAllChildren(j.getBody())}l.collapse(d);g()}catch(v){}}},mceToggleFormat:function(v,y,x){o.toggle(x)},InsertHorizontalRule:function(){j.execCommand("mceInsertContent",false,"<hr />")},mceToggleVisualAid:function(){j.hasVisual=!j.hasVisual;j.addVisual()},mceReplaceContent:function(v,y,x){j.execCommand("mceInsertContent",false,x.replace(/\{\$selection\}/g,l.getContent({format:"text"})))},mceInsertLink:function(v,z,y){var x;if(typeof(y)=="string"){y={href:y}}x=r.getParent(l.getNode(),"a");y.href=y.href.replace(" ","%20");if(!x||!y.href){o.remove("link")}if(y.href){o.apply("link",y,x)}},selectAll:function(){var x=r.getRoot(),v=r.createRng();if(l.getRng().setStart){v.setStart(x,0);v.setEnd(x,x.childNodes.length);l.setRng(v)}else{f("SelectAll")}}});u({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(v){var y="align"+v.substring(7);var x=l.isCollapsed()?[r.getParent(l.getNode(),r.isBlock)]:l.getSelectedBlocks();var z=b.map(x,function(A){return !!o.matchNode(A,y)});return b.inArray(z,d)!==-1},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(v){return t(v)},mceBlockQuote:function(){return t("blockquote")},Outdent:function(){var v;if(n.inline_styles){if((v=r.getParent(l.getStart(),r.isBlock))&&parseInt(v.style.paddingLeft)>0){return d}if((v=r.getParent(l.getEnd(),r.isBlock))&&parseInt(v.style.paddingLeft)>0){return d}}return p("InsertUnorderedList")||p("InsertOrderedList")||(!n.inline_styles&&!!r.getParent(l.getNode(),"BLOCKQUOTE"))},"InsertUnorderedList,InsertOrderedList":function(x){var v=r.getParent(l.getNode(),"ul,ol");return v&&(x==="insertunorderedlist"&&v.tagName==="UL"||x==="insertorderedlist"&&v.tagName==="OL")}},"state");u({"FontSize,FontName":function(v){var y=0,x;if(x=r.getParent(l.getNode(),"span")){if(v=="fontsize"){y=x.style.fontSize}else{y=x.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()}}return y}},"value");u({Undo:function(){j.undoManager.undo()},Redo:function(){j.undoManager.redo()}})}})(tinymce);(function(b){var a=b.util.Dispatcher;b.UndoManager=function(f){var j,g=0,c=[],e,i,h,d;function k(){return b.trim(f.getContent({format:"raw",no_events:1}).replace(/<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\/span>/g,""))}function l(){j.typing=false;j.add()}onBeforeAdd=new a(j);i=new a(j);h=new a(j);d=new a(j);i.add(function(n,m){if(n.hasUndo()){return f.onChange.dispatch(f,m,n)}});h.add(function(n,m){return f.onUndo.dispatch(f,m,n)});d.add(function(n,m){return f.onRedo.dispatch(f,m,n)});f.onInit.add(function(){j.add()});f.onBeforeExecCommand.add(function(q,o,n,p,m){if(o!="Undo"&&o!="Redo"&&o!="mceRepaint"&&(!m||!m.skip_undo)){j.beforeChange()}});f.onExecCommand.add(function(q,o,n,p,m){if(o!="Undo"&&o!="Redo"&&o!="mceRepaint"&&(!m||!m.skip_undo)){j.add()}});f.onSaveContent.add(l);f.dom.bind(f.dom.getRoot(),"dragend",l);f.dom.bind(f.getBody(),"focusout",function(m){if(!f.removed&&j.typing){l()}});f.onKeyUp.add(function(o,n){var m=n.keyCode;if((m>=33&&m<=36)||(m>=37&&m<=40)||m==45||m==13||n.ctrlKey){l()}});f.onKeyDown.add(function(o,n){var m=n.keyCode;if((m>=33&&m<=36)||(m>=37&&m<=40)||m==45){if(j.typing){l()}return}if((m<16||m>20)&&m!=224&&m!=91&&!j.typing){j.beforeChange();j.typing=true;j.add()}});f.onMouseDown.add(function(n,m){if(j.typing){l()}});f.addShortcut("ctrl+z","undo_desc","Undo");f.addShortcut("ctrl+y","redo_desc","Redo");j={data:c,typing:false,onBeforeAdd:onBeforeAdd,onAdd:i,onUndo:h,onRedo:d,beforeChange:function(){e=f.selection.getBookmark(2,true)},add:function(o){var p,m=f.settings,n;o=o||{};o.content=k();j.onBeforeAdd.dispatch(j,o);n=c[g];if(n&&n.content==o.content){return null}if(c[g]){c[g].beforeBookmark=e}if(m.custom_undo_redo_levels){if(c.length>m.custom_undo_redo_levels){for(p=0;p<c.length-1;p++){c[p]=c[p+1]}c.length--;g=c.length}}o.bookmark=f.selection.getBookmark(2,true);if(g<c.length-1){c.length=g+1}c.push(o);g=c.length-1;j.onAdd.dispatch(j,o);f.isNotDirty=0;return o},undo:function(){var m,n;if(j.typing){j.add();j.typing=false}if(g>0){m=c[--g];f.setContent(m.content,{format:"raw"});f.selection.moveToBookmark(m.beforeBookmark);j.onUndo.dispatch(j,m)}return m},redo:function(){var m;if(g<c.length-1){m=c[++g];f.setContent(m.content,{format:"raw"});f.selection.moveToBookmark(m.bookmark);j.onRedo.dispatch(j,m)}return m},clear:function(){c=[];g=0;j.typing=false},hasUndo:function(){return g>0||this.typing},hasRedo:function(){return g<c.length-1&&!this.typing}};return j}})(tinymce);tinymce.ForceBlocks=function(a){var f=a.settings,c=a.dom,e=a.selection,b=a.schema.getBlockElements();function d(){var q=e.getStart(),m=a.getBody(),l,r,j,g,n,p,s,h=-16777215,k,o;if(!q||q.nodeType!==1||!f.forced_root_block){return}while(q&&q!=m){if(b[q.nodeName]){return}q=q.parentNode}l=e.getRng();if(l.setStart){r=l.startContainer;j=l.startOffset;g=l.endContainer;n=l.endOffset}else{if(l.item){q=l.item(0);l=a.getDoc().body.createTextRange();l.moveToElementText(q)}o=l.parentElement().ownerDocument===a.getDoc();tmpRng=l.duplicate();tmpRng.collapse(true);j=tmpRng.move("character",h)*-1;if(!tmpRng.collapsed){tmpRng=l.duplicate();tmpRng.collapse(false);n=(tmpRng.move("character",h)*-1)-j}}q=m.firstChild;while(q){if(q.nodeType===3||(q.nodeType==1&&!b[q.nodeName]&&!q.getAttribute("data-mce-type"))){if(q.nodeType===3&&q.nodeValue.length==0){s=q;q=q.nextSibling;c.remove(s);continue}if(!p){p=c.create(f.forced_root_block);q.parentNode.insertBefore(p,q);k=true}s=q;q=q.nextSibling;p.appendChild(s)}else{p=null;q=q.nextSibling}}if(k){if(l.setStart){l.setStart(r,j);l.setEnd(g,n);e.setRng(l)}else{if(o){try{l=a.getDoc().body.createTextRange();l.moveToElementText(m);l.collapse(true);l.moveStart("character",j);if(n>0){l.moveEnd("character",n)}l.select()}catch(i){}}}a.nodeChanged()}}if(f.forced_root_block){a.onKeyUp.add(d);a.onNodeChange.add(d)}};(function(a){var e=a.DOM,d=a.dom.Event,b=a.each,c=a.extend;a.create("tinymce.ControlManager",{ControlManager:function(h,g){var f=this,i;g=g||{};f.editor=h;f.controls={};f.onAdd=new a.util.Dispatcher(f);f.onPostRender=new a.util.Dispatcher(f);f.prefix=g.prefix||h.id+"_";f._cls={};f.onPostRender.add(function(){b(f.controls,function(j){j.postRender()})})},get:function(f){return this.controls[this.prefix+f]||this.controls[f]},setActive:function(g,h){var f=null;if(f=this.get(g)){f.setActive(h)}return f},setDisabled:function(g,h){var f=null;if(f=this.get(g)){f.setDisabled(h)}return f},add:function(g){var f=this;if(g){f.controls[g.id]=g;f.onAdd.dispatch(g,f)}return g},createControl:function(n){var k,f,j,m=this,h=m.editor,i,g;if(!m.controlFactories){m.controlFactories=[];b(h.plugins,function(l){if(l.createControl){m.controlFactories.push(l)}})}i=m.controlFactories;for(f=0,j=i.length;f<j;f++){k=i[f].createControl(n,m);if(k){return m.add(k)}}if(n==="|"||n==="separator"){return m.createSeparator()}if(h.buttons&&(k=h.buttons[n])){return m.createButton(n,k)}return m.add(k)},createDropMenu:function(f,n,h){var m=this,i=m.editor,j,g,k,l;n=c({"class":"mceDropDown",constrain:i.settings.constrain_menus},n);n["class"]=n["class"]+" "+i.getParam("skin")+"Skin";if(k=i.getParam("skin_variant")){n["class"]+=" "+i.getParam("skin")+"Skin"+k.substring(0,1).toUpperCase()+k.substring(1)}n["class"]+=i.settings.directionality=="rtl"?" mceRtl":"";f=m.prefix+f;l=h||m._cls.dropmenu||a.ui.DropMenu;j=m.controls[f]=new l(f,n);j.onAddItem.add(function(q,p){var o=p.settings;o.title=i.getLang(o.title,o.title);if(!o.onclick){o.onclick=function(r){if(o.cmd){i.execCommand(o.cmd,o.ui||false,o.value)}}}});i.onRemove.add(function(){j.destroy()});if(a.isIE){j.onShowMenu.add(function(){i.focus();g=i.selection.getBookmark(1)});j.onHideMenu.add(function(){if(g){i.selection.moveToBookmark(g);g=0}})}return m.add(j)},createListBox:function(f,n,h){var l=this,j=l.editor,i,k,m;if(l.get(f)){return null}n.title=j.translate(n.title);n.scope=n.scope||j;if(!n.onselect){n.onselect=function(o){j.execCommand(n.cmd,n.ui||false,o||n.value)}}n=c({title:n.title,"class":"mce_"+f,scope:n.scope,control_manager:l},n);f=l.prefix+f;function g(o){return o.settings.use_accessible_selects&&!a.isGecko}if(j.settings.use_native_selects||g(j)){k=new a.ui.NativeListBox(f,n)}else{m=h||l._cls.listbox||a.ui.ListBox;k=new m(f,n,j)}l.controls[f]=k;if(a.isWebKit){k.onPostRender.add(function(p,o){d.add(o,"mousedown",function(){j.bookmark=j.selection.getBookmark(1)});d.add(o,"focus",function(){j.selection.moveToBookmark(j.bookmark);j.bookmark=null})})}if(k.hideMenu){j.onMouseDown.add(k.hideMenu,k)}return l.add(k)},createButton:function(g,i,f){var m=this,k=m.editor,j,l,h;if(m.get(g)){return null}i.title=k.translate(i.title);i.label=k.translate(i.label);i.scope=i.scope||k;if(!i.onclick&&!i.menu_button){i.onclick=function(){k.execCommand(i.cmd,i.ui||false,i.value)}}i=c({title:i.title,"class":"mce_"+g,unavailable_prefix:k.getLang("unavailable",""),scope:i.scope,control_manager:m},i);g=m.prefix+g;if(i.menu_button){h=f||m._cls.menubutton||a.ui.MenuButton;l=new h(g,i,k);k.onMouseDown.add(l.hideMenu,l)}else{h=m._cls.button||a.ui.Button;l=new h(g,i,k)}return m.add(l)},createMenuButton:function(g,h,f){h=h||{};h.menu_button=1;return this.createButton(g,h,f)},createSplitButton:function(g,i,f){var m=this,k=m.editor,j,l,h;if(m.get(g)){return null}i.title=k.translate(i.title);i.scope=i.scope||k;if(!i.onclick){i.onclick=function(n){k.execCommand(i.cmd,i.ui||false,n||i.value)}}if(!i.onselect){i.onselect=function(n){k.execCommand(i.cmd,i.ui||false,n||i.value)}}i=c({title:i.title,"class":"mce_"+g,scope:i.scope,control_manager:m},i);g=m.prefix+g;h=f||m._cls.splitbutton||a.ui.SplitButton;l=m.add(new h(g,i,k));k.onMouseDown.add(l.hideMenu,l);return l},createColorSplitButton:function(f,n,h){var l=this,j=l.editor,i,k,m,g;if(l.get(f)){return null}n.title=j.translate(n.title);n.scope=n.scope||j;if(!n.onclick){n.onclick=function(o){if(a.isIE){g=j.selection.getBookmark(1)}j.execCommand(n.cmd,n.ui||false,o||n.value)}}if(!n.onselect){n.onselect=function(o){j.execCommand(n.cmd,n.ui||false,o||n.value)}}n=c({title:n.title,"class":"mce_"+f,menu_class:j.getParam("skin")+"Skin",scope:n.scope,more_colors_title:j.getLang("more_colors")},n);f=l.prefix+f;m=h||l._cls.colorsplitbutton||a.ui.ColorSplitButton;k=new m(f,n,j);j.onMouseDown.add(k.hideMenu,k);j.onRemove.add(function(){k.destroy()});if(a.isIE){k.onShowMenu.add(function(){j.focus();g=j.selection.getBookmark(1)});k.onHideMenu.add(function(){if(g){j.selection.moveToBookmark(g);g=0}})}return l.add(k)},createToolbar:function(h,j,f){var k,i=this,g;h=i.prefix+h;g=f||i._cls.toolbar||a.ui.Toolbar;k=new g(h,j,i.editor);if(i.get(h)){return null}return i.add(k)},createToolbarGroup:function(h,j,f){var k,i=this,g;h=i.prefix+h;g=f||this._cls.toolbarGroup||a.ui.ToolbarGroup;k=new g(h,j,i.editor);if(i.get(h)){return null}return i.add(k)},createSeparator:function(g){var f=g||this._cls.separator||a.ui.Separator;return new f()},setControlType:function(g,f){return this._cls[g.toLowerCase()]=f},destroy:function(){b(this.controls,function(f){f.destroy()});this.controls=null}})})(tinymce);(function(b){var d=b.util.Dispatcher,c=b.each,a=b.isIE,e=b.isOpera;b.create("tinymce.WindowManager",{WindowManager:function(f){var g=this;g.editor=f;g.onOpen=new d(g);g.onClose=new d(g);g.params={};g.features={}},open:function(h,o){var g=this,v="",j,i,q=g.editor.settings.dialog_type=="modal",m,k,r,l=b.DOM.getViewPort(),n;h=h||{};o=o||{};k=e?l.w:screen.width;r=e?l.h:screen.height;h.name=h.name||"mc_"+new Date().getTime();h.width=parseInt(h.width||320);h.height=parseInt(h.height||240);h.resizable=true;h.left=h.left||parseInt(k/2)-(h.width/2);h.top=h.top||parseInt(r/2)-(h.height/2);o.inline=false;o.mce_width=h.width;o.mce_height=h.height;o.mce_auto_focus=h.auto_focus;if(q){if(a){h.center=true;h.help=false;h.dialogWidth=h.width+"px";h.dialogHeight=h.height+"px";h.scroll=h.scrollbars||false}}c(h,function(p,s){if(b.is(p,"boolean")){p=p?"yes":"no"}if(!/^(name|url)$/.test(s)){if(a&&q){v+=(v?";":"")+s+":"+p}else{v+=(v?",":"")+s+"="+p}}});g.features=h;g.params=o;g.onOpen.dispatch(g,h,o);n=h.url||h.file;n=b._addVer(n);try{if(a&&q){m=1;window.showModalDialog(n,window,v)}else{m=window.open(n,h.name,v)}}catch(f){}if(!m){alert(g.editor.getLang("popup_blocked"))}},close:function(f){f.close();this.onClose.dispatch(this)},createInstance:function(h,l,j,g,f,k){var i=b.resolve(h);return new i(l,j,g,f,k)},confirm:function(f,h,g,i){i=i||window;h.call(g||this,i.confirm(this._decode(this.editor.getLang(f,f))))},alert:function(j,h,g,i){var f=this;i=i||window;i.alert(f._decode(f.editor.getLang(j,j)));if(h){h.call(g||f)}},resizeBy:function(h,f,g){g.resizeBy(h,f)},_decode:function(f){return b.DOM.decode(f).replace(/\\n/g,"\n")}})}(tinymce));(function(a){a.Formatter=function(Y){var q={},t=a.each,B=Y.dom,Q=Y.selection,S=a.dom.TreeWalker,n=new a.dom.RangeUtils(B),C=Y.schema.isValidChild,Z=a.isArray,h=B.isBlock,L=Y.settings.forced_root_block,R=B.nodeIndex,g="\uFEFF",D=/^(src|href|style)$/,y=false,c=true,p,d,V=B.getContentEditable;function i(ab){if(ab.nodeType){ab=ab.nodeName}return !!Y.schema.getTextBlockElements()[ab.toLowerCase()]}function M(ac,ab){return B.getParents(ac,ab,B.getRoot())}function A(ab){return ab.nodeType===1&&ab.id==="_mce_caret"}function I(){K({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:false,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:false,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{"float":"right"}}],alignfull:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:false},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:false},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},link:{inline:"a",selector:"a",remove:"all",split:true,deep:true,onmatch:function(ab){return true},onformat:function(ad,ab,ac){t(ac,function(af,ae){B.setAttrib(ad,ae,af)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]});t("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(ab){K(ab,{block:ab,remove:"all"})});K(Y.settings.formats)}function x(){Y.addShortcut("ctrl+b","bold_desc","Bold");Y.addShortcut("ctrl+i","italic_desc","Italic");Y.addShortcut("ctrl+u","underline_desc","Underline");for(var ab=1;ab<=6;ab++){Y.addShortcut("ctrl+"+ab,"",["FormatBlock",false,"h"+ab])}Y.addShortcut("ctrl+7","",["FormatBlock",false,"p"]);Y.addShortcut("ctrl+8","",["FormatBlock",false,"div"]);Y.addShortcut("ctrl+9","",["FormatBlock",false,"address"])}function v(ab){return ab?q[ab]:q}function K(ab,ac){if(ab){if(typeof(ab)!=="string"){t(ab,function(ae,ad){K(ad,ae)})}else{ac=ac.length?ac:[ac];t(ac,function(ad){if(ad.deep===d){ad.deep=!ad.selector}if(ad.split===d){ad.split=!ad.selector||ad.inline}if(ad.remove===d&&ad.selector&&!ad.inline){ad.remove="none"}if(ad.selector&&ad.inline){ad.mixed=true;ad.block_expand=true}if(typeof(ad.classes)==="string"){ad.classes=ad.classes.split(/\s+/)}});q[ab]=ac}}}var H=function(ac){var ab;Y.dom.getParent(ac,function(ad){ab=Y.dom.getStyle(ad,"text-decoration");return ab&&ab!=="none"});return ab};var l=function(ab){var ac;if(ab.nodeType===1&&ab.parentNode&&ab.parentNode.nodeType===1){ac=H(ab.parentNode);if(Y.dom.getStyle(ab,"color")&&ac){Y.dom.setStyle(ab,"text-decoration",ac)}else{if(Y.dom.getStyle(ab,"textdecoration")===ac){Y.dom.setStyle(ab,"text-decoration",null)}}}};function z(ae,al,ag){var ah=v(ae),am=ah[0],ak,ac,aj,ai=Q.isCollapsed();function ab(aq,ap){ap=ap||am;if(aq){if(ap.onformat){ap.onformat(aq,ap,al,ag)}t(ap.styles,function(at,ar){B.setStyle(aq,ar,P(at,al))});t(ap.attributes,function(at,ar){B.setAttrib(aq,ar,P(at,al))});t(ap.classes,function(ar){ar=P(ar,al);if(!B.hasClass(aq,ar)){B.addClass(aq,ar)}})}}function af(){function au(aw,ax){var ay=new S(ax);for(ag=ay.current();ag;ag=ay.prev()){if(ag.childNodes.length>1||ag==aw||ag.tagName=="BR"){return ag}}}var at=Y.selection.getRng();var aq=at.startContainer;var ar=at.endContainer;if(aq!=ar&&at.endOffset===0){var ap=au(aq,ar);var av=ap.nodeType==3?ap.length:ap.childNodes.length;at.setEnd(ap,av)}return at}function ad(ay,ar,ap,aA,aw){var av=[],ax=-1,aq,au=-1,az=-1,at;t(ay.childNodes,function(aC,aB){if(aC.nodeName==="UL"||aC.nodeName==="OL"){ax=aB;aq=aC;return false}});t(ay.childNodes,function(aC,aB){if(aC.nodeName==="SPAN"&&B.getAttrib(aC,"data-mce-type")=="bookmark"){if(aC.id==ar.id+"_start"){au=aB}else{if(aC.id==ar.id+"_end"){az=aB}}}});if(ax<=0||(au<ax&&az>ax)){t(a.grep(ay.childNodes),aw);return 0}else{at=B.clone(ap,y);t(a.grep(ay.childNodes),function(aC,aB){if((au<ax&&aB<ax)||(au>ax&&aB>ax)){av.push(aC);aC.parentNode.removeChild(aC)}});if(au<ax){ay.insertBefore(at,aq)}else{if(au>ax){ay.insertBefore(at,aq.nextSibling)}}aA.push(at);t(av,function(aB){at.appendChild(aB)});return at}}function an(au,aw,ar){var at=[],aq,av,ap=true;aq=am.inline||am.block;av=B.create(aq);ab(av);n.walk(au,function(ax){var ay;function az(aA){var aF,aD,aB,aC,aE;aE=ap;aF=aA.nodeName.toLowerCase();aD=aA.parentNode.nodeName.toLowerCase();if(aA.nodeType===1&&V(aA)){aE=ap;ap=V(aA)==="true";aC=true}if(F(aF,"br")){ay=0;if(am.block){B.remove(aA)}return}if(am.wrapper&&W(aA,ae,al)){ay=0;return}if(ap&&!aC&&am.block&&!am.wrapper&&i(aF)){aA=B.rename(aA,aq);ab(aA);at.push(aA);ay=0;return}if(am.selector){t(ah,function(aG){if("collapsed" in aG&&aG.collapsed!==ai){return}if(B.is(aA,aG.selector)&&!A(aA)){ab(aA,aG);aB=true}});if(!am.inline||aB){ay=0;return}}if(ap&&!aC&&C(aq,aF)&&C(aD,aq)&&!(!ar&&aA.nodeType===3&&aA.nodeValue.length===1&&aA.nodeValue.charCodeAt(0)===65279)&&!A(aA)&&(!am.inline||!h(aA))){if(!ay){ay=B.clone(av,y);aA.parentNode.insertBefore(ay,aA);at.push(ay)}ay.appendChild(aA)}else{if(aF=="li"&&aw){ay=ad(aA,aw,av,at,az)}else{ay=0;t(a.grep(aA.childNodes),az);if(aC){ap=aE}ay=0}}}t(ax,az)});if(am.wrap_links===false){t(at,function(ax){function ay(aC){var aB,aA,az;if(aC.nodeName==="A"){aA=B.clone(av,y);at.push(aA);az=a.grep(aC.childNodes);for(aB=0;aB<az.length;aB++){aA.appendChild(az[aB])}aC.appendChild(aA)}t(a.grep(aC.childNodes),ay)}ay(ax)})}t(at,function(aA){var az;function ax(aC){var aB=0;t(aC.childNodes,function(aD){if(!E(aD)&&!k(aD)){aB++}});return aB}function ay(aB){var aD,aC;t(aB.childNodes,function(aE){if(aE.nodeType==1&&!k(aE)&&!A(aE)){aD=aE;return y}});if(aD&&G(aD,am)){aC=B.clone(aD,y);ab(aC);B.replace(aC,aB,c);B.remove(aD,1)}return aC||aB}az=ax(aA);if((at.length>1||!h(aA))&&az===0){B.remove(aA,1);return}if(am.inline||am.wrapper){if(!am.exact&&az===1){aA=ay(aA)}t(ah,function(aB){t(B.select(aB.inline,aA),function(aD){var aC;if(aB.wrap_links===false){aC=aD.parentNode;do{if(aC.nodeName==="A"){return}}while(aC=aC.parentNode)}aa(aB,al,aD,aB.exact?aD:null)})});if(W(aA.parentNode,ae,al)){B.remove(aA,1);aA=0;return c}if(am.merge_with_parents){B.getParent(aA.parentNode,function(aB){if(W(aB,ae,al)){B.remove(aA,1);aA=0;return c}})}if(aA&&am.merge_siblings!==false){aA=T(e(aA),aA);aA=T(aA,e(aA,c))}}})}if(am){if(ag){if(ag.nodeType){ac=B.createRng();ac.setStartBefore(ag);ac.setEndAfter(ag);an(O(ac,ah),null,true)}else{an(ag,null,true)}}else{if(!ai||!am.inline||B.select("td.mceSelected,th.mceSelected").length){var ao=Y.selection.getNode();if(!L&&ah[0].defaultBlock&&!B.getParent(ao,B.isBlock)){z(ah[0].defaultBlock)}Y.selection.setRng(af());ak=Q.getBookmark();an(O(Q.getRng(c),ah),ak);if(am.styles&&(am.styles.color||am.styles.textDecoration)){a.walk(ao,l,"childNodes");l(ao)}Q.moveToBookmark(ak);r(Q.getRng(c));Y.nodeChanged()}else{u("apply",ae,al)}}}}function b(ad,am,af){var ag=v(ad),ao=ag[0],ak,aj,ac,al=true;function ae(aq){var ax,aw,av,au,at,ar;if(aq.nodeType===3){return}if(aq.nodeType===1&&V(aq)){at=al;al=V(aq)==="true";ar=true}ax=a.grep(aq.childNodes);if(al&&!ar){for(aw=0,av=ag.length;aw<av;aw++){if(aa(ag[aw],am,aq,aq)){break}}}if(ao.deep){if(ax.length){for(aw=0,av=ax.length;aw<av;aw++){ae(ax[aw])}if(ar){al=at}}}}function ah(aq){var ar;t(M(aq.parentNode).reverse(),function(au){var at;if(!ar&&au.id!="_start"&&au.id!="_end"){at=W(au,ad,am);if(at&&at.split!==false){ar=au}}});return ar}function ab(ay,av,aA,at){var au,ar,aq,ax,az,aw;if(ay){aw=ay.parentNode;for(au=av.parentNode;au&&au!=aw;au=au.parentNode){ar=B.clone(au,y);for(az=0;az<ag.length;az++){if(aa(ag[az],am,ar,ar)){ar=0;break}}if(ar){if(aq){ar.appendChild(aq)}if(!ax){ax=ar}aq=ar}}if(at&&(!ao.mixed||!h(ay))){av=B.split(ay,av)}if(aq){aA.parentNode.insertBefore(aq,aA);ax.appendChild(aA)}}return av}function an(aq){return ab(ah(aq),aq,aq,true)}function ai(at){var ar=B.get(at?"_start":"_end"),aq=ar[at?"firstChild":"lastChild"];if(k(aq)){aq=aq[at?"firstChild":"lastChild"]}B.remove(ar,true);return aq}function ap(ar){var au,aq,at;ar=O(ar,ag,c);if(ao.split){au=m(ar,c);aq=m(ar);if(au!=aq){if(/^(TR|TD)$/.test(au.nodeName)&&au.firstChild){au=(au.nodeName=="TD"?au.firstChild:au.firstChild.firstChild)||au}au=s(au,"span",{id:"_start","data-mce-type":"bookmark"});aq=s(aq,"span",{id:"_end","data-mce-type":"bookmark"});an(au);an(aq);au=ai(c);aq=ai()}else{au=aq=an(au)}ar.startContainer=au.parentNode;ar.startOffset=R(au);ar.endContainer=aq.parentNode;ar.endOffset=R(aq)+1}n.walk(ar,function(av){t(av,function(aw){ae(aw);if(aw.nodeType===1&&Y.dom.getStyle(aw,"text-decoration")==="underline"&&aw.parentNode&&H(aw.parentNode)==="underline"){aa({deep:false,exact:true,inline:"span",styles:{textDecoration:"underline"}},null,aw)}})})}if(af){if(af.nodeType){ac=B.createRng();ac.setStartBefore(af);ac.setEndAfter(af);ap(ac)}else{ap(af)}return}if(!Q.isCollapsed()||!ao.inline||B.select("td.mceSelected,th.mceSelected").length){ak=Q.getBookmark();ap(Q.getRng(c));Q.moveToBookmark(ak);if(ao.inline&&J(ad,am,Q.getStart())){r(Q.getRng(true))}Y.nodeChanged()}else{u("remove",ad,am)}}function f(ac,ae,ad){var ab=v(ac);if(J(ac,ae,ad)&&(!("toggle" in ab[0])||ab[0].toggle)){b(ac,ae,ad)}else{z(ac,ae,ad)}}function W(ac,ab,ah,af){var ad=v(ab),ai,ag,ae;function aj(ap,ak,al){var ao,aq,am=ak[al],an;if(ak.onmatch){return ak.onmatch(ap,ak,al)}if(am){if(am.length===d){for(ao in am){if(am.hasOwnProperty(ao)){if(al==="attributes"){aq=B.getAttrib(ap,ao)}else{aq=o(ap,ao)}if(af&&!aq&&!ak.exact){return}if((!af||ak.exact)&&!F(aq,P(am[ao],ah))){return}}}}else{for(an=0;an<am.length;an++){if(al==="attributes"?B.getAttrib(ap,am[an]):o(ap,am[an])){return ak}}}}return ak}if(ad&&ac){for(ag=0;ag<ad.length;ag++){ai=ad[ag];if(G(ac,ai)&&aj(ac,ai,"attributes")&&aj(ac,ai,"styles")){if(ae=ai.classes){for(ag=0;ag<ae.length;ag++){if(!B.hasClass(ac,ae[ag])){return}}}return ai}}}}function J(ad,af,ae){var ac;function ab(ag){ag=B.getParent(ag,function(ah){return !!W(ah,ad,af,true)});return W(ag,ad,af)}if(ae){return ab(ae)}ae=Q.getNode();if(ab(ae)){return c}ac=Q.getStart();if(ac!=ae){if(ab(ac)){return c}}return y}function U(ai,ah){var af,ag=[],ae={},ad,ac,ab;af=Q.getStart();B.getParent(af,function(al){var ak,aj;for(ak=0;ak<ai.length;ak++){aj=ai[ak];if(!ae[aj]&&W(al,aj,ah)){ae[aj]=true;ag.push(aj)}}},B.getRoot());return ag}function X(af){var ah=v(af),ae,ad,ag,ac,ab;if(ah){ae=Q.getStart();ad=M(ae);for(ac=ah.length-1;ac>=0;ac--){ab=ah[ac].selector;if(!ab){return c}for(ag=ad.length-1;ag>=0;ag--){if(B.is(ad[ag],ab)){return c}}}}return y}function j(ab,ae,ac){var ad;if(!p){p={};ad={};Y.onNodeChange.addToTop(function(ah,ag,aj){var ai=M(aj),af={};t(p,function(ak,al){t(ai,function(am){if(W(am,al,{},ak.similar)){if(!ad[al]){t(ak,function(an){an(true,{node:am,format:al,parents:ai})});ad[al]=ak}af[al]=ak;return false}})});t(ad,function(ak,al){if(!af[al]){delete ad[al];t(ak,function(am){am(false,{node:aj,format:al,parents:ai})})}})})}t(ab.split(","),function(af){if(!p[af]){p[af]=[];p[af].similar=ac}p[af].push(ae)});return this}a.extend(this,{get:v,register:K,apply:z,remove:b,toggle:f,match:J,matchAll:U,matchNode:W,canApply:X,formatChanged:j});I();x();function G(ab,ac){if(F(ab,ac.inline)){return c}if(F(ab,ac.block)){return c}if(ac.selector){return B.is(ab,ac.selector)}}function F(ac,ab){ac=ac||"";ab=ab||"";ac=""+(ac.nodeName||ac);ab=""+(ab.nodeName||ab);return ac.toLowerCase()==ab.toLowerCase()}function o(ac,ab){var ad=B.getStyle(ac,ab);if(ab=="color"||ab=="backgroundColor"){ad=B.toHex(ad)}if(ab=="fontWeight"&&ad==700){ad="bold"}return""+ad}function P(ab,ac){if(typeof(ab)!="string"){ab=ab(ac)}else{if(ac){ab=ab.replace(/%(\w+)/g,function(ae,ad){return ac[ad]||ae})}}return ab}function E(ab){return ab&&ab.nodeType===3&&/^([\t \r\n]+|)$/.test(ab.nodeValue)}function s(ad,ac,ab){var ae=B.create(ac,ab);ad.parentNode.insertBefore(ae,ad);ae.appendChild(ad);return ae}function O(ar,al,ad){var ao,am,ag,ak,ac=ar.startContainer,ah=ar.startOffset,aq=ar.endContainer,aj=ar.endOffset;function an(aA){var az,au,aw,ay,at,ax;az=au=aA?ac:aq;at=aA?"previousSibling":"nextSibling";ax=B.getRoot();function av(aB){return aB.nodeName=="BR"&&aB.getAttribute("data-mce-bogus")&&!aB.nextSibling}if(az.nodeType==3&&!E(az)){if(aA?ah>0:aj<az.nodeValue.length){return az}}for(;;){if(!al[0].block_expand&&h(au)){return au}for(ay=au[at];ay;ay=ay[at]){if(!k(ay)&&!E(ay)&&!av(ay)){return au}}if(au.parentNode==ax){az=au;break}au=au.parentNode}return az}function af(au,at){if(at===d){at=au.nodeType===3?au.length:au.childNodes.length}while(au&&au.hasChildNodes()){au=au.childNodes[at];if(au){at=au.nodeType===3?au.length:au.childNodes.length}}return{node:au,offset:at}}if(ac.nodeType==1&&ac.hasChildNodes()){am=ac.childNodes.length-1;ac=ac.childNodes[ah>am?am:ah];if(ac.nodeType==3){ah=0}}if(aq.nodeType==1&&aq.hasChildNodes()){am=aq.childNodes.length-1;aq=aq.childNodes[aj>am?am:aj-1];if(aq.nodeType==3){aj=aq.nodeValue.length}}function ap(at){var au=at;while(au){if(au.nodeType===1&&V(au)){return V(au)==="false"?au:at}au=au.parentNode}return at}function ai(aA,av,az){var au,at,aw,ax;function ay(aC,aE){var aF,aB,aD=aC.nodeValue;if(typeof(aE)=="undefined"){aE=az?aD.length:0}if(az){aF=aD.lastIndexOf(" ",aE);aB=aD.lastIndexOf("\u00a0",aE);aF=aF>aB?aF:aB;if(aF!==-1&&!ad){aF++}}else{aF=aD.indexOf(" ",aE);aB=aD.indexOf("\u00a0",aE);aF=aF!==-1&&(aB===-1||aF<aB)?aF:aB}return aF}if(aA.nodeType===3){aw=ay(aA,av);if(aw!==-1){return{container:aA,offset:aw}}ax=aA}au=new S(aA,B.getParent(aA,h)||Y.getBody());while(at=au[az?"prev":"next"]()){if(at.nodeType===3){ax=at;aw=ay(at);if(aw!==-1){return{container:at,offset:aw}}}else{if(h(at)){break}}}if(ax){if(az){av=0}else{av=ax.length}return{container:ax,offset:av}}}function ae(ax,aw){var ay,at,av,au;if(ax.nodeType==3&&ax.nodeValue.length===0&&ax[aw]){ax=ax[aw]}ay=M(ax);for(at=0;at<ay.length;at++){for(av=0;av<al.length;av++){au=al[av];if("collapsed" in au&&au.collapsed!==ar.collapsed){continue}if(B.is(ay[at],au.selector)){return ay[at]}}}return ax}function ab(at,aw,av){var au;if(!al[0].wrapper){au=B.getParent(at,al[0].block)}if(!au){au=B.getParent(at.nodeType==3?at.parentNode:at,i)}if(au&&al[0].wrapper){au=M(au,"ul,ol").reverse()[0]||au}if(!au){au=at;while(au[aw]&&!h(au[aw])){au=au[aw];if(F(au,"br")){break}}}return au||at}ac=ap(ac);aq=ap(aq);if(k(ac.parentNode)||k(ac)){ac=k(ac)?ac:ac.parentNode;ac=ac.nextSibling||ac;if(ac.nodeType==3){ah=0}}if(k(aq.parentNode)||k(aq)){aq=k(aq)?aq:aq.parentNode;aq=aq.previousSibling||aq;if(aq.nodeType==3){aj=aq.length}}if(al[0].inline){if(ar.collapsed){ak=ai(ac,ah,true);if(ak){ac=ak.container;ah=ak.offset}ak=ai(aq,aj);if(ak){aq=ak.container;aj=ak.offset}}ag=af(aq,aj);if(ag.node){while(ag.node&&ag.offset===0&&ag.node.previousSibling){ag=af(ag.node.previousSibling)}if(ag.node&&ag.offset>0&&ag.node.nodeType===3&&ag.node.nodeValue.charAt(ag.offset-1)===" "){if(ag.offset>1){aq=ag.node;aq.splitText(ag.offset-1)}}}}if(al[0].inline||al[0].block_expand){if(!al[0].inline||(ac.nodeType!=3||ah===0)){ac=an(true)}if(!al[0].inline||(aq.nodeType!=3||aj===aq.nodeValue.length)){aq=an()}}if(al[0].selector&&al[0].expand!==y&&!al[0].inline){ac=ae(ac,"previousSibling");aq=ae(aq,"nextSibling")}if(al[0].block||al[0].selector){ac=ab(ac,"previousSibling");aq=ab(aq,"nextSibling");if(al[0].block){if(!h(ac)){ac=an(true)}if(!h(aq)){aq=an()}}}if(ac.nodeType==1){ah=R(ac);ac=ac.parentNode}if(aq.nodeType==1){aj=R(aq)+1;aq=aq.parentNode}return{startContainer:ac,startOffset:ah,endContainer:aq,endOffset:aj}}function aa(ah,ag,ae,ab){var ad,ac,af;if(!G(ae,ah)){return y}if(ah.remove!="all"){t(ah.styles,function(ai,aj){ai=P(ai,ag);if(typeof(aj)==="number"){aj=ai;ab=0}if(!ab||F(o(ab,aj),ai)){B.setStyle(ae,aj,"")}af=1});if(af&&B.getAttrib(ae,"style")==""){ae.removeAttribute("style");ae.removeAttribute("data-mce-style")}t(ah.attributes,function(aj,ak){var ai;aj=P(aj,ag);if(typeof(ak)==="number"){ak=aj;ab=0}if(!ab||F(B.getAttrib(ab,ak),aj)){if(ak=="class"){aj=B.getAttrib(ae,ak);if(aj){ai="";t(aj.split(/\s+/),function(al){if(/mce\w+/.test(al)){ai+=(ai?" ":"")+al}});if(ai){B.setAttrib(ae,ak,ai);return}}}if(ak=="class"){ae.removeAttribute("className")}if(D.test(ak)){ae.removeAttribute("data-mce-"+ak)}ae.removeAttribute(ak)}});t(ah.classes,function(ai){ai=P(ai,ag);if(!ab||B.hasClass(ab,ai)){B.removeClass(ae,ai)}});ac=B.getAttribs(ae);for(ad=0;ad<ac.length;ad++){if(ac[ad].nodeName.indexOf("_")!==0){return y}}}if(ah.remove!="none"){N(ae,ah);return c}}function N(ad,ae){var ab=ad.parentNode,ac;function af(ah,ag,ai){ah=e(ah,ag,ai);return !ah||(ah.nodeName=="BR"||h(ah))}if(ae.block){if(!L){if(h(ad)&&!h(ab)){if(!af(ad,y)&&!af(ad.firstChild,c,1)){ad.insertBefore(B.create("br"),ad.firstChild)}if(!af(ad,c)&&!af(ad.lastChild,y,1)){ad.appendChild(B.create("br"))}}}else{if(ab==B.getRoot()){if(!ae.list_block||!F(ad,ae.list_block)){t(a.grep(ad.childNodes),function(ag){if(C(L,ag.nodeName.toLowerCase())){if(!ac){ac=s(ag,L)}else{ac.appendChild(ag)}}else{ac=0}})}}}}if(ae.selector&&ae.inline&&!F(ae.inline,ad)){return}B.remove(ad,1)}function e(ac,ab,ad){if(ac){ab=ab?"nextSibling":"previousSibling";for(ac=ad?ac:ac[ab];ac;ac=ac[ab]){if(ac.nodeType==1||!E(ac)){return ac}}}}function k(ab){return ab&&ab.nodeType==1&&ab.getAttribute("data-mce-type")=="bookmark"}function T(af,ae){var ab,ad,ac;function ah(aj,ai){if(aj.nodeName!=ai.nodeName){return y}function al(am){var an={};t(B.getAttribs(am),function(ao){var ap=ao.nodeName.toLowerCase();if(ap.indexOf("_")!==0&&ap!=="style"){an[ap]=B.getAttrib(am,ap)}});return an}function ak(ap,ao){var an,am;for(am in ap){if(ap.hasOwnProperty(am)){an=ao[am];if(an===d){return y}if(ap[am]!=an){return y}delete ao[am]}}for(am in ao){if(ao.hasOwnProperty(am)){return y}}return c}if(!ak(al(aj),al(ai))){return y}if(!ak(B.parseStyle(B.getAttrib(aj,"style")),B.parseStyle(B.getAttrib(ai,"style")))){return y}return c}function ag(ai,aj){for(ad=ai;ad;ad=ad[aj]){if(ad.nodeType==3&&ad.nodeValue.length!==0){return ai}if(ad.nodeType==1&&!k(ad)){return ad}}return ai}if(af&&ae){af=ag(af,"previousSibling");ae=ag(ae,"nextSibling");if(ah(af,ae)){for(ad=af.nextSibling;ad&&ad!=ae;){ac=ad;ad=ad.nextSibling;af.appendChild(ac)}B.remove(ae);t(a.grep(ae.childNodes),function(ai){af.appendChild(ai)});return af}}return ae}function m(ac,ag){var ab,af,ad,ae;ab=ac[ag?"startContainer":"endContainer"];af=ac[ag?"startOffset":"endOffset"];if(ab.nodeType==1){ad=ab.childNodes.length-1;if(!ag&&af){af--}ab=ab.childNodes[af>ad?ad:af]}if(ab.nodeType===3&&ag&&af>=ab.nodeValue.length){ab=new S(ab,Y.getBody()).next()||ab}if(ab.nodeType===3&&!ag&&af===0){ab=new S(ab,Y.getBody()).prev()||ab}return ab}function u(ak,ab,ai){var al="_mce_caret",ac=Y.settings.caret_debug;function ad(ap){var ao=B.create("span",{id:al,"data-mce-bogus":true,style:ac?"color:red":""});if(ap){ao.appendChild(Y.getDoc().createTextNode(g))}return ao}function aj(ap,ao){while(ap){if((ap.nodeType===3&&ap.nodeValue!==g)||ap.childNodes.length>1){return false}if(ao&&ap.nodeType===1){ao.push(ap)}ap=ap.firstChild}return true}function ag(ao){while(ao){if(ao.id===al){return ao}ao=ao.parentNode}}function af(ao){var ap;if(ao){ap=new S(ao,ao);for(ao=ap.current();ao;ao=ap.next()){if(ao.nodeType===3){return ao}}}}function ae(aq,ap){var ar,ao;if(!aq){aq=ag(Q.getStart());if(!aq){while(aq=B.get(al)){ae(aq,false)}}}else{ao=Q.getRng(true);if(aj(aq)){if(ap!==false){ao.setStartBefore(aq);ao.setEndBefore(aq)}B.remove(aq)}else{ar=af(aq);if(ar.nodeValue.charAt(0)===g){ar=ar.deleteData(0,1)}B.remove(aq,1)}Q.setRng(ao)}}function ah(){var at,aq,ap,ao,au,ar,av;at=Q.getRng(true);ao=at.startOffset;ar=at.startContainer;av=ar.nodeValue;aq=ag(Q.getStart());if(aq){ap=af(aq)}if(av&&ao>0&&ao<av.length&&/\w/.test(av.charAt(ao))&&/\w/.test(av.charAt(ao-1))){au=Q.getBookmark();at.collapse(true);at=O(at,v(ab));at=n.split(at);z(ab,ai,at);Q.moveToBookmark(au)}else{if(!aq||ap.nodeValue!==g){aq=ad(true);ap=aq.firstChild;at.insertNode(aq);ao=1;z(ab,ai,aq)}else{z(ab,ai,aq)}Q.setCursorLocation(ap,ao)}}function am(){var au=Q.getRng(true),av,ay,ap,ao,aw,at,ar=[],az,aq;av=au.startContainer;ay=au.startOffset;aw=av;if(av.nodeType==3){if(ay!=av.nodeValue.length||av.nodeValue===g){ao=true}aw=aw.parentNode}while(aw){if(W(aw,ab,ai)){at=aw;break}if(aw.nextSibling){ao=true}ar.push(aw);aw=aw.parentNode}if(!at){return}if(ao){ap=Q.getBookmark();au.collapse(true);au=O(au,v(ab),true);au=n.split(au);b(ab,ai,au);Q.moveToBookmark(ap)}else{aq=ad();aw=aq;for(az=ar.length-1;az>=0;az--){aw.appendChild(B.clone(ar[az],false));aw=aw.firstChild}aw.appendChild(B.doc.createTextNode(g));aw=aw.firstChild;var ax=B.getParent(at,i);if(ax&&B.isEmpty(ax)){at.parentNode.replaceChild(aq,at)}else{B.insertAfter(aq,at)}Q.setCursorLocation(aw,1);if(B.isEmpty(at)){B.remove(at)}}}function an(){var ap,ao,aq;ao=ag(Q.getStart());if(ao&&!B.isEmpty(ao)){a.walk(ao,function(ar){if(ar.nodeType==1&&ar.id!==al&&!B.isEmpty(ar)){B.setAttrib(ar,"data-mce-bogus",null)}},"childNodes")}}if(!self._hasCaretEvents){Y.onBeforeGetContent.addToTop(function(){var ao=[],ap;if(aj(ag(Q.getStart()),ao)){ap=ao.length;while(ap--){B.setAttrib(ao[ap],"data-mce-bogus","1")}}});a.each("onMouseUp onKeyUp".split(" "),function(ao){Y[ao].addToTop(function(){ae();an()})});Y.onKeyDown.addToTop(function(ao,aq){var ap=aq.keyCode;if(ap==8||ap==37||ap==39){ae(ag(Q.getStart()))}an()});Q.onSetContent.add(an);self._hasCaretEvents=true}if(ak=="apply"){ah()}else{am()}}function r(ac){var ab=ac.startContainer,ai=ac.startOffset,ae,ah,ag,ad,af;if(ab.nodeType==3&&ai>=ab.nodeValue.length){ai=R(ab);ab=ab.parentNode;ae=true}if(ab.nodeType==1){ad=ab.childNodes;ab=ad[Math.min(ai,ad.length-1)];ah=new S(ab,B.getParent(ab,B.isBlock));if(ai>ad.length-1||ae){ah.next()}for(ag=ah.current();ag;ag=ah.next()){if(ag.nodeType==3&&!E(ag)){af=B.create("a",null,g);ag.parentNode.insertBefore(af,ag);ac.setStart(ag,0);Q.setRng(ac);B.remove(af);return}}}}}})(tinymce);tinymce.onAddEditor.add(function(h,d){var g,c,b,f=d.settings;function e(j,i){h.each(i,function(l,k){if(l){b.setStyle(j,k,l)}});b.rename(j,"span")}function a(i,j){b=i.dom;if(f.convert_fonts_to_spans){h.each(b.select("font,u,strike",j.node),function(k){g[k.nodeName.toLowerCase()](d.dom,k)})}}if(f.inline_styles){c=h.explode(f.font_size_legacy_values);g={font:function(j,i){e(i,{backgroundColor:i.style.backgroundColor,color:i.color,fontFamily:i.face,fontSize:c[parseInt(i.size,10)-1]})},u:function(j,i){e(i,{textDecoration:"underline"})},strike:function(j,i){e(i,{textDecoration:"line-through"})}};d.onPreProcess.add(a);d.onSetContent.add(a);d.onInit.add(function(){d.selection.onSetContent.add(a)})}});(function(b){var a=b.dom.TreeWalker;b.EnterKey=function(g){var f=g.dom,e=g.selection,d=g.settings,c=g.undoManager,i=g.schema.getNonEmptyElements();function h(K){var q=e.getRng(true),r,x,J,o,I,H,M,G,z,F,m,v,t,k;function n(N){return N&&f.isBlock(N)&&!/^(TD|TH|CAPTION|FORM)$/.test(N.nodeName)&&!/^(fixed|absolute)/i.test(N.style.position)&&f.getContentEditable(N)!=="true"}function p(O){var N;if(b.isIE&&!b.isIE11&&f.isBlock(O)){N=e.getRng();O.appendChild(f.create("span",null,"\u00a0"));e.select(O);O.lastChild.outerHTML="";e.setRng(N)}}function B(P){var O=P,Q=[],N;while(O=O.firstChild){if(f.isBlock(O)){return}if(O.nodeType==1&&!i[O.nodeName.toLowerCase()]){Q.push(O)}}N=Q.length;while(N--){O=Q[N];if(!O.hasChildNodes()||(O.firstChild==O.lastChild&&O.firstChild.nodeValue==="")){f.remove(O)}else{if(O.nodeName=="A"&&(O.innerText||O.textContent)===" "){f.remove(O)}}}}function D(O){var T,R,N,U,S,Q=O,P;N=f.createRng();if(O.hasChildNodes()){T=new a(O,O);while(R=T.current()){if(R.nodeType==3){N.setStart(R,0);N.setEnd(R,0);break}if(i[R.nodeName.toLowerCase()]){N.setStartBefore(R);N.setEndBefore(R);break}Q=R;R=T.next()}if(!R){N.setStart(Q,0);N.setEnd(Q,0)}}else{if(O.nodeName=="BR"){if(O.nextSibling&&f.isBlock(O.nextSibling)){if(!H||H<9){P=f.create("br");O.parentNode.insertBefore(P,O)}N.setStartBefore(O);N.setEndBefore(O)}else{N.setStartAfter(O);N.setEndAfter(O)}}else{N.setStart(O,0);N.setEnd(O,0)}}e.setRng(N);f.remove(P);S=f.getViewPort(g.getWin());U=f.getPos(O).y;if(U<S.y||U+25>S.y+S.h){g.getWin().scrollTo(0,U<S.y?U:U-S.h+25)}}function j(O){var P=J,R,Q,N;R=O||m=="TABLE"?f.create(O||t):I.cloneNode(false);N=R;if(d.keep_styles!==false){do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(P.nodeName)){if(P.id=="_mce_caret"){continue}Q=P.cloneNode(false);f.setAttrib(Q,"id","");if(R.hasChildNodes()){Q.appendChild(R.firstChild);R.appendChild(Q)}else{N=Q;R.appendChild(Q)}}}while(P=P.parentNode)}if(!b.isIE||b.isIE11){N.innerHTML='<br data-mce-bogus="1">'}return R}function L(Q){var P,O,N;if(J.nodeType==3&&(Q?o>0:o<J.nodeValue.length)){return false}if(J.parentNode==I&&k&&!Q){return true}if(Q&&J.nodeType==1&&J==I.firstChild){return true}if(J.nodeName==="TABLE"||(J.previousSibling&&J.previousSibling.nodeName=="TABLE")){return(k&&!Q)||(!k&&Q)}P=new a(J,I);if(J.nodeType==3){if(Q&&o==0){P.prev()}else{if(!Q&&o==J.nodeValue.length){P.next()}}}while(O=P.current()){if(O.nodeType===1){if(!O.getAttribute("data-mce-bogus")){N=O.nodeName.toLowerCase();if(i[N]&&N!=="br"){return false}}}else{if(O.nodeType===3&&!/^[ \t\r\n]*$/.test(O.nodeValue)){return false}}if(Q){P.prev()}else{P.next()}}return true}function A(N,T){var U,S,P,R,Q,O=t||"P";S=f.getParent(N,f.isBlock);if(!S||!n(S)){S=S||x;if(!S.hasChildNodes()){U=f.create(O);S.appendChild(U);q.setStart(U,0);q.setEnd(U,0);return U}R=N;while(R.parentNode!=S){R=R.parentNode}while(R&&!f.isBlock(R)){P=R;R=R.previousSibling}if(P){U=f.create(O);P.parentNode.insertBefore(U,P);R=P;while(R&&!f.isBlock(R)){Q=R.nextSibling;U.appendChild(R);R=Q}q.setStart(N,T);q.setEnd(N,T)}}return N}function s(){function N(P){var O=F[P?"firstChild":"lastChild"];while(O){if(O.nodeType==1){break}O=O[P?"nextSibling":"previousSibling"]}return O===I}G=t?j(t):f.create("BR");if(N(true)&&N()){f.replace(G,F)}else{if(N(true)){F.parentNode.insertBefore(G,F)}else{if(N()){f.insertAfter(G,F);p(G)}else{r=q.cloneRange();r.setStartAfter(I);r.setEndAfter(F);z=r.extractContents();f.insertAfter(z,F);f.insertAfter(G,F)}}}f.remove(I);D(G);c.add()}function y(){var O=new a(J,I),N;while(N=O.next()){if(i[N.nodeName.toLowerCase()]||N.length>0){return true}}}function E(){var P,O,N;if(J&&J.nodeType==3&&o>=J.nodeValue.length){if((!b.isIE||b.isIE11)&&!y()){P=f.create("br");q.insertNode(P);q.setStartAfter(P);q.setEndAfter(P);O=true}}P=f.create("br");q.insertNode(P);if((b.isIE&&!b.isIE11)&&m=="PRE"&&(!H||H<8)){P.parentNode.insertBefore(f.doc.createTextNode("\r"),P)}N=f.create("span",{},"&nbsp;");P.parentNode.insertBefore(N,P);e.scrollIntoView(N);f.remove(N);if(!O){q.setStartAfter(P);q.setEndAfter(P)}else{q.setStartBefore(P);q.setEndBefore(P)}e.setRng(q);c.add()}function l(N){do{if(N.nodeType===3){N.nodeValue=N.nodeValue.replace(/^[\r\n]+/,"")}N=N.firstChild}while(N)}function C(P){var N=f.getRoot(),O,Q;O=P;while(O!==N&&f.getContentEditable(O)!=="false"){if(f.getContentEditable(O)==="true"){Q=O}O=O.parentNode}return O!==N?Q:N}function u(O){var N;if(!b.isIE||b.isIE11){O.normalize();N=O.lastChild;if(!N||(/^(left|right)$/gi.test(f.getStyle(N,"float",true)))){f.add(O,"br")}}}if(!q.collapsed){g.execCommand("Delete");return}if(K.isDefaultPrevented()){return}J=q.startContainer;o=q.startOffset;t=(d.force_p_newlines?"p":"")||d.forced_root_block;t=t?t.toUpperCase():"";H=f.doc.documentMode;M=K.shiftKey;if(J.nodeType==1&&J.hasChildNodes()){k=o>J.childNodes.length-1;J=J.childNodes[Math.min(o,J.childNodes.length-1)]||J;if(k&&J.nodeType==3){o=J.nodeValue.length}else{o=0}}x=C(J);if(!x){return}c.beforeChange();if(!f.isBlock(x)&&x!=f.getRoot()){if(!t||M){E()}return}if((t&&!M)||(!t&&M)){J=A(J,o)}I=f.getParent(J,f.isBlock);F=I?f.getParent(I.parentNode,f.isBlock):null;m=I?I.nodeName.toUpperCase():"";v=F?F.nodeName.toUpperCase():"";if(v=="LI"&&!K.ctrlKey){I=F;m=v}if(m=="LI"){if(!t&&M){E();return}if(f.isEmpty(I)){if(/^(UL|OL|LI)$/.test(F.parentNode.nodeName)){return false}s();return}}if(m=="PRE"&&d.br_in_pre!==false){if(!M){E();return}}else{if((!t&&!M&&m!="LI")||(t&&M)){E();return}}t=t||"P";if(L()){if(/^(H[1-6]|PRE)$/.test(m)&&v!="HGROUP"){G=j(t)}else{G=j()}if(d.end_container_on_empty_block&&n(F)&&f.isEmpty(I)){G=f.split(F,I)}else{f.insertAfter(G,I)}D(G)}else{if(L(true)){G=I.parentNode.insertBefore(j(),I);p(G)}else{r=q.cloneRange();r.setEndAfter(I);z=r.extractContents();l(z);G=z.firstChild;f.insertAfter(z,I);B(G);u(I);D(G)}}f.setAttrib(G,"id","");c.add()}g.onKeyDown.add(function(k,j){if(j.keyCode==13){if(h(j)!==false){j.preventDefault()}}})}})(tinymce);